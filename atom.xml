<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>éªšå®¢</title>
  <subtitle>è©ææœ¬æ— æ ‘ï¼Œæ˜é•œäº¦éå°ã€‚æœ¬æ¥æ— ä¸€ç‰©ï¼Œä½•å¤„æƒ¹å°˜åŸƒï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-10-09T06:33:26.579Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Mr.Guo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä½¿ç”¨Fastlaneå®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…</title>
    <link href="http://yoursite.com/2018/10/09/fastlane_study/"/>
    <id>http://yoursite.com/2018/10/09/fastlane_study/</id>
    <published>2018-10-09T05:59:20.000Z</published>
    <updated>2018-10-09T06:33:26.579Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡<a href="http://coderperson.com/2018/09/29/iOS-auto_packaging/" target="_blank" rel="external">æ–‡ç« </a>è®²è§£äº†åˆ©ç”¨pythonå°è£…è„šæœ¬è¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…ï¼Œè¿™ä¸¤å¤©åˆçœ‹äº†çœ‹githubä¸Šå¾ˆç«çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å·¥å…·<a href="https://github.com/fastlane/fastlane" target="_blank" rel="external">Fastlane</a>ã€‚</p>
<p>Fastlaneæ˜¯ä¸€å¥—ä½¿ç”¨Rubyå†™çš„è‡ªåŠ¨åŒ–å·¥å…·é›†ï¼Œç”¨äºiOSå’ŒAndroidçš„è‡ªåŠ¨åŒ–æ‰“åŒ…ã€å‘å¸ƒç­‰å·¥ä½œï¼Œå¯ä»¥èŠ‚çœå¤§é‡çš„æ—¶é—´ã€‚ å®˜æ–¹æ–‡æ¡£çœ‹<a href="https://docs.fastlane.tools/" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚</p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><ul>
<li>å®‰è£…Xcodeå‘½ä»¤è¡Œå·¥å…·:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥çœ‹rubyç‰ˆæœ¬ï¼Œè¦æ±‚2.0åŠä»¥ä¸Šç‰ˆæœ¬</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ruby -v</span><br><span class="line"></span><br><span class="line">rubyçš„é•œåƒæ–‡ä»¶è·¯å¾„æ”¹ä¸ºhttps://gems.ruby-china.org/</span><br><span class="line"></span><br><span class="line">gem sources --remove https://ruby.taobao.org/</span><br><span class="line"></span><br><span class="line">gem sources --add https://rubygems.org</span><br><span class="line"></span><br><span class="line">gem sources -l</span><br></pre></td></tr></table></figure>
<ul>
<li>å®‰è£…ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install fastlane</span><br></pre></td></tr></table></figure>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>åˆ‡æ¢é¡¹ç›®ç›®å½•åˆ°åŒ…å«xxx.xcodeprojçš„é¡¹ç›®ç›®å½•ä¸‹è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane init</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š        </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[15:21:56]: What would you like to use fastlane for?</span><br><span class="line">1. ğŸ“¸  Automate screenshots</span><br><span class="line">2. ğŸ‘©â€âœˆï¸  Automate beta distribution to TestFlight</span><br><span class="line">3. ğŸš€  Automate App Store distribution</span><br><span class="line">4. ğŸ›   Manual setup - manually setup your project to automate your tasks</span><br><span class="line">?</span><br></pre></td></tr></table></figure>
<p>è¿™å››ä¸ªé€‰é¡¹çš„æ„æ€æ˜¯:        </p>
<blockquote>
<p>1.è‡ªåŠ¨æˆªå±ã€‚è¿™ä¸ªåŠŸèƒ½èƒ½å¸®æˆ‘ä»¬è‡ªåŠ¨æˆªå–APPä¸­çš„æˆªå›¾ï¼Œå¹¶æ·»åŠ æ‰‹æœºè¾¹æ¡†ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ï¼Œæˆ‘ä»¬è¿™é‡Œä¸é€‰æ‹©è¿™ä¸ªé€‰é¡¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å·²ç»æœ‰å›¾ç‰‡äº†ï¼Œä¸éœ€è¦è¿™é‡Œæˆªå±ã€‚</p>
<p>2.è‡ªåŠ¨å‘å¸ƒbetaç‰ˆæœ¬ç”¨äºTestFlightï¼Œå¦‚æœå¤§å®¶æœ‰å¯¹TestFlightä¸äº†è§£çš„ï¼Œå¯ä»¥å‚è€ƒç‹å·å†™çš„è¿™ç¯‡æ–‡ç« </p>
<p>3.è‡ªåŠ¨çš„App Storeå‘å¸ƒåŒ…ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¦æäº¤å®¡æ ¸åˆ°APP Storeï¼ŒæŒ‰é“ç†åº”è¯¥é€‰è¿™ä¸ªï¼Œä½†è¿™é‡Œæˆ‘ä»¬å…ˆä¸é€‰ï¼Œå› ä¸ºé€‰æ‹©äº†ä»¥åä¼šéœ€è¦è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œä»¥åŠä¸‹è½½metaä¿¡æ¯ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´ï¼Œè¿™äº›æ•°æ®æˆ‘ä»¬å¯ä»¥åæœŸè¿›è¡Œé…ç½®ã€‚</p>
<p>4.æ‰‹åŠ¨è®¾ç½®ã€‚</p>
</blockquote>
<p>é€‰æ‹©ç¬¬å››ä¸ªåä¸€è·¯å›è½¦å³å¯ï¼ˆç­‰å¾…æ—¶é—´ç•¥é•¿ï¼‰ï¼Œç»“æŸåä¼šçœ‹åˆ°ç”Ÿæˆäº†fastlaneç›®å½•ï¼Œè¯¥ç›®å½•åŒ…å«Appfileå’ŒFastfileï¼›åŒæ—¶è¿˜ç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶Gemfileå’ŒGemfile.lockï¼Œæ˜¯å’Œfastlaneæ–‡ä»¶å¤¹åœ¨åŒä¸€ä¸ªç›®å½•ã€‚</p>
<h3 id="Appfile"><a href="#Appfile" class="headerlink" title="Appfile"></a>Appfile</h3><p>Appfileç”¨æ¥å­˜æ”¾app_identifierï¼Œapple_idå’Œteam_idã€‚æ–‡ä»¶ç”Ÿæˆçš„æ—¶å€™ä¼šå®šä¹‰å¥½æ ¼å¼ï¼ŒæŒ‰æ ¼å¼å¡«å†™å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app_identifier(&quot;[[xxxx]]&quot;) # The bundle identifier of your app</span><br><span class="line">apple_id(&quot;[[xxxx]]&quot;) # Your Apple email address</span><br></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªlaneæä¾›ä¸åŒçš„ app_identifier, apple_id å’Œ team_idï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for_lane :inhouse do</span><br><span class="line">  app_identifier &quot;xxxx&quot;</span><br><span class="line">  apple_id &quot;xxxx&quot;</span><br><span class="line">  team_id &quot;xxxx&quot;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±æ˜¯ä¸ºFastfileä¸­å®šä¹‰çš„inhouseè¿™ä¸ªlaneè®¾ç½®å•ç‹¬çš„ä¿¡æ¯ã€‚</p>
<h3 id="Fastfile"><a href="#Fastfile" class="headerlink" title="Fastfile"></a>Fastfile</h3><p>Fastfileç®¡ç†ä½ æ‰€åˆ›å»ºçš„ lane ã€‚</p>
<blockquote>
<ul>
<li>scan è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œå¾ˆå¥½çš„å°è£…äº† Unit Test    </li>
<li>sigh é’ˆå¯¹äº iOS é¡¹ç›®å¼€å‘è¯ä¹¦å’Œ Provision file çš„ä¸‹è½½å·¥å…·    </li>
<li>match åŒæ­¥å›¢é˜Ÿæ¯ä¸ªäººçš„è¯ä¹¦å’Œ Provision file çš„è¶…èµå·¥å…·    </li>
<li>gym é’ˆå¯¹äº iOS ç¼–è¯‘æ‰“åŒ…ç”Ÿæˆ ipa æ–‡ä»¶    </li>
<li>deliver ç”¨äºä¸Šä¼ åº”ç”¨çš„äºŒè¿›åˆ¶ä»£ç ï¼Œåº”ç”¨æˆªå±å’Œå…ƒæ•°æ®åˆ° App Store    </li>
<li>snapshot å¯ä»¥è‡ªåŠ¨åŒ–iOSåº”ç”¨åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šçš„æœ¬åœ°åŒ–æˆªå±è¿‡ç¨‹    </li>
</ul>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦ç”¨<code>gym</code>æ¥æ‰“åŒ…ã€‚</p>
<p>Fastlaneå†…éƒ¨çš„å·¥å…·ä¸æ˜¯æ–°å†™çš„ï¼Œè€Œæ˜¯è°ƒç”¨macæœ¬èº«çš„å‘½ä»¤ï¼Œåªä¸è¿‡æ˜¯å®ç°äº†è‡ªåŠ¨åŒ–è€Œå·²ã€‚æ¯”å¦‚gymå·¥å…·åªæ˜¯xcodebuildå·¥å…·çš„ä¸€ä¸ªå°è£…ï¼Œå¦‚æœä½ ä¼šxcodebuildï¼Œé‚£gymå¯¹ä½ æ¥è¯´å°èœä¸€ç¢Ÿã€‚xcodebuildçš„ä½¿ç”¨å¯ä»¥çœ‹<a href="http://coderperson.com/2018/09/29/iOS-auto_packaging/" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<p>æ‰¾äº†ä¸€ä¸ªæ¯”è¾ƒå…¨çš„æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># æŒ‡å®š fastlane æœ€å°ç‰ˆæœ¬</span><br><span class="line">fastlane_version &quot;2.20.0&quot;</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šå½“å‰å¹³å°ï¼Œå¯ä»¥è®¾ç½®ä¸º ios ã€androidã€mac</span><br><span class="line">default_platform :ios</span><br><span class="line"></span><br><span class="line">platform :ios do</span><br><span class="line"></span><br><span class="line"># åœ¨æ‰§è¡Œæ¯ä¸€ä¸ª lane ä¹‹å‰éƒ½å…ˆæ‰§è¡Œè¿™ä¸ªä»£ç </span><br><span class="line">  before_all do</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line"># å®šä¹‰ä¸€ä¸ªåˆ›å»ºæµ‹è¯•åŒ…çš„ lane</span><br><span class="line"># æˆ‘ä»¬è°ƒç”¨çš„å‘½ä»¤å°±æ˜¯è°ƒç”¨ fastlane çš„ lane</span><br><span class="line">  lane :buildDebugApp do |op|</span><br><span class="line">      # æ ¹æ®è¾“å…¥çš„ç‰ˆæœ¬è®¾ç½®é¡¹ç›® version number ï¼ˆæˆ‘ä»¬åˆå§‹åŒ– fastlane çš„æ—¶å€™æ˜¯åœ¨ .xcworkspace ç›®å½•ä¸‹ï¼Œ è€Œæˆ‘ä»¬çš„é¡¹ç›®ä¸­ ï¼Œ.xcworkspace å’Œ .xcodeproj ä¸åœ¨åŒä¸€çº§ç›®å½•ï¼Œè¿™é‡Œçš„â€œincrement_version_numberâ€éœ€è¦æ£€æµ‹ .xcodeproj é¡¹ç›®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šè¯¥æ–‡ä»¶çš„ç›®å½•ï¼‰</span><br><span class="line">    increment_version_number(&#123;xcodeproj: &apos;./HomeMate2_Trunk/HomeMate.xcodeproj&apos;, version_number: op[:version]&#125;)</span><br><span class="line"></span><br><span class="line">    # æ ¹æ®è¾“å…¥çš„ç‰ˆæœ¬è®¾ç½®é¡¹ç›® build number ï¼ˆåŒä¸Šï¼Œä¹Ÿæ˜¯éœ€è¦æŒ‡å®š .xcodeproj çš„ç›®å½•ï¼‰</span><br><span class="line">    increment_build_number(&#123;xcodeproj: &apos;./HomeMate2_Trunk/HomeMate.xcodeproj&apos;, build_number: op[:version]&#125;)</span><br><span class="line"></span><br><span class="line">    # æœ€é‡è¦çš„æ‰“åŒ…å‘½ä»¤</span><br><span class="line">    gym(</span><br><span class="line">              export_method: &apos;ad-hoc&apos;,        # æ‰“åŒ…çš„æ–¹å¼ï¼Œå¯è®¾ç½®ä¸º appstore(é»˜è®¤)ï¼Œenterprise</span><br><span class="line">                     scheme: &quot;HomeMate&quot;,    # æŒ‡å®šéœ€è¦æ‰“é‚£ä¸ª scheme çš„åŒ…</span><br><span class="line">                  workspace: &quot;HMWorkSpac.xcworkspace&quot;,    # æŒ‡å®šæ‰“åŒ…çš„é¡¹ç›®æ–‡ä»¶</span><br><span class="line">                output_name: &quot;HomeMate.ipa&quot;,      # æ‰“åŒ…è¾“å‡ºåç§°</span><br><span class="line">                     silent: true,    # éšè—ä¸å¿…è¦ä¿¡æ¯</span><br><span class="line">                      clean: true,    # æ‰“åŒ…å‰æ˜¯å¦ clean é¡¹ç›®</span><br><span class="line">              configuration: &quot;Debug&quot;,    # é…ç½®ä¸º debug ç‰ˆæœ¬</span><br><span class="line">              buildlog_path: &quot;./fastlanelog&quot;,    # æ—¥å¿—è¾“å‡ºç›®å½•</span><br><span class="line">       codesigning_identity: &quot;iPhone Developer: Hailiang He (xxxxxxxxxx)&quot;,       # ä»£ç ç­¾åè¯ä¹¦</span><br><span class="line">           output_directory: &quot;/Users/xxx/Desktop&quot;     # ipaè¾“å‡ºç›®å½•</span><br><span class="line">     )</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">  # åœ¨æ‰§è¡Œæ¯ä¸€ä¸ª lane ä¹‹åæ‰§è¡Œè¯¥åŠŸèƒ½</span><br><span class="line">  after_all do |lane|</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">  # åœ¨æ‰§è¡Œæ¯ä¸€ä¸ª lane å‡ºé”™çš„æ—¶å€™æ‰§è¡Œè¯¥åŠŸèƒ½</span><br><span class="line">  error do |lane, exception|</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å—åŒ…å«äº†æ—¥å¸¸æ‰“åŒ…å¸¸ç”¨çš„åŠŸèƒ½ï¼Œå¯ä»¥å‚è€ƒã€‚</p>
<p>æˆ‘è¿™è¾¹æµ‹è¯•æ‰“åŒ…çš„æ—¶å€™ï¼Œå†™äº†ä¸€ä¸ªæœ€ç®€å•ç‰ˆæœ¬çš„Appfileå’ŒFastfileæ–‡ä»¶ï¼Œç†è§£äº†è¿™ä¸ªæœ€ç®€å•ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šç»§ç»­å¢åŠ åŠŸèƒ½å³å¯ï¼Œ<code>éå¸¸ä¾¿äºç†è§£</code>ã€‚</p>
<p>Appfileæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app_identifier(&quot;[[xxx]]&quot;) # The bundle identifier of your app</span><br><span class="line">apple_id(&quot;[[xxx]]&quot;) # Your Apple email address</span><br></pre></td></tr></table></figure>
<p>Fastfileæ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">default_platform(:ios)</span><br><span class="line"></span><br><span class="line">platform :ios do</span><br><span class="line">  desc &quot;Description of what the lane does&quot;</span><br><span class="line">  lane :custom_lane do</span><br><span class="line">    # add actions here: https://docs.fastlane.tools/actions</span><br><span class="line">    gym(scheme: &quot;xxx&quot;,</span><br><span class="line">      export_method:&quot;ad-hoc&quot;,</span><br><span class="line">      output_directory:&quot;./build&quot;, # æ‰“åŒ…åçš„ ipa æ–‡ä»¶å­˜æ”¾çš„ç›®å½•</span><br><span class="line">      output_name:&quot;xxx.ipa&quot;  # ipa æ–‡ä»¶å</span><br><span class="line">   )</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>export_methodå¯¹åº”çš„æ‰“åŒ…ç±»å‹ï¼šapp-storeã€ad-hocã€developmentã€enterpriseã€‚</p>
<p>ç¼–è¾‘å¥½ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å¼€ç»ˆç«¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯çœ‹åˆ°åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªbuildæ–‡ä»¶å¤¹ï¼ŒipaåŒ…å°±åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane custom_lane</span><br></pre></td></tr></table></figure>
<p>å¦‚æœlaneä¸­è®¾ç½®äº†å¯ä»¥æ¥æ”¶ç‰ˆæœ¬å·,åˆ™å¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane custom_lane version:1.1.0</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸Šä¸€ç¯‡&lt;a href=&quot;http://coderperson.com/2018/09/29/iOS-auto_packaging/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ–‡ç« &lt;/a&gt;è®²è§£äº†åˆ©ç”¨pythonå°è£…è„šæœ¬è¿›è¡Œè‡ªåŠ¨åŒ–æ‰“åŒ…ï¼Œè¿™ä¸¤å¤©åˆçœ‹äº†çœ‹git
    
    </summary>
    
      <category term="Ruby" scheme="http://yoursite.com/categories/Ruby/"/>
    
    
      <category term="Ruby" scheme="http://yoursite.com/tags/Ruby/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨pythonå®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…</title>
    <link href="http://yoursite.com/2018/09/29/iOS-auto_packaging/"/>
    <id>http://yoursite.com/2018/09/29/iOS-auto_packaging/</id>
    <published>2018-09-29T11:12:59.000Z</published>
    <updated>2018-10-09T06:32:52.769Z</updated>
    
    <content type="html"><![CDATA[<p>é¢‘ç¹çš„æ‰‹åŠ¨æ‰“åŒ…æ˜¯ä¸€é¡¹è€—æ—¶è€—åŠ›çš„å·¥ç¨‹ï¼Œè€Œä¸”æ˜¯ä¸€é¡¹é‡å¤æ€§çš„åŠ³åŠ¨ï¼Œå› æ­¤å®ç°æ‰“åŒ…çš„è‡ªåŠ¨åŒ–æ˜¯éå¸¸å¿…è¦çš„ã€‚é€šè¿‡è‡ªåŠ¨åŒ–æ‰“åŒ…å¯ä»¥å®ç°ä¸€é”®æ‰“åŒ…ï¼Œå¹¶ä¸Šä¼ åˆ°firæˆ–è’²å…¬è‹±ç­‰ç¬¬ä¸‰æ–¹å¹³å°ã€‚</p>
<h2 id="xcodebuild"><a href="#xcodebuild" class="headerlink" title="xcodebuild"></a>xcodebuild</h2><p>å½“æˆ‘ä»¬é€šè¿‡<code>Archive</code>æ‰‹åŠ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œ<code>Xcode</code>æœ¬èº«æ˜¯é€šè¿‡è°ƒç”¨<code>xcodebuild</code>å‘½ä»¤æ¥å®ç°æ‰“åŒ…çš„è¿‡ç¨‹ã€‚</p>
<p><code>xcodebuild</code>æ˜¯è‹¹æœæä¾›çš„ç”¨äºæ‰“åŒ…é¡¹ç›®æˆ–è€…å·¥ç¨‹çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡<code>man xcodebuild</code>å‘½ä»¤æŸ¥çœ‹å®ƒçš„ä»‹ç»ã€‚</p>
<blockquote>
<p>NAME        </p>
<p>xcodebuild â€“ build Xcode projects and workspaces</p>
<p>DESCRIPTION</p>
<p>xcodebuild builds one or more targets contained in an Xcode project, or builds a scheme contained in an Xcode workspace or Xcode project.</p>
<p>Usage</p>
<p>To build an Xcode project, run xcodebuild from the directory containing your project (i.e. the<br>     directory containing the name.xcodeproj package). If you have multiple projects in the this<br>     directory you will need to use -project to indicate which project should be built.  By default,<br>     xcodebuild builds the first target listed in the project, with the default build configuration.<br>     The order of the targets is a property of the project and is the same for all users of the<br>     project.<br>To build an Xcode workspace, you must pass both the -workspace and -scheme options to define the<br>     build.  The parameters of the scheme will control which targets are built and how they are built,<br>     although you may pass other options to xcodebuild to override some parameters of the scheme.<br>     There are also several options that display info about the installed version of Xcode or about projects or workspaces in the local directory, but which do not initiate an action.  These<br>     include -list, -showBuildSettings, -showdestinations, -showsdks, -usage, and -version.</p>
</blockquote>
<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>éœ€è¦åœ¨åŒ…å« <code>name.xcodeproj</code> çš„ç›®å½•ä¸‹æ‰§è¡Œ <code>xcodebuild</code> å‘½ä»¤ï¼Œä¸”å¦‚æœè¯¥ç›®å½•ä¸‹æœ‰å¤šä¸ª projectsï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨ <code>-project</code> æŒ‡å®šéœ€è¦ build çš„é¡¹ç›®ã€‚</li>
<li>åœ¨ä¸æŒ‡å®š <code>build</code> çš„ <code>target</code> çš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼š build project ä¸‹çš„<code>ç¬¬ä¸€ä¸ª</code>target</li>
<li>å½“ build workspace æ—¶ï¼Œéœ€è¦åŒæ—¶æŒ‡å®š <code>-workspace</code> å’Œ <code>-scheme</code> å‚æ•°ï¼Œscheme å‚æ•°æ§åˆ¶äº†å“ªäº› targets ä¼šè¢« build ä»¥åŠä»¥æ€æ ·çš„æ–¹å¼ buildã€‚</li>
<li>æœ‰ä¸€äº›è¯¸å¦‚ <code>-list, -showBuildSettings, -showsdks</code> çš„å‚æ•°å¯ä»¥æŸ¥çœ‹é¡¹ç›®æˆ–è€…å·¥ç¨‹çš„ä¿¡æ¯ï¼Œä¸ä¼šå¯¹ build action é€ æˆä»»ä½•å½±å“ï¼Œæ”¾å¿ƒä½¿ç”¨ã€‚</li>
</ul>
<p>é‚£ä¹ˆï¼Œxcodebuild ç©¶ç«Ÿå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ ç»§ç»­çœ‹æ–‡æ¡£:</p>
<p>&gt;</p>
<blockquote>
<p>SYNOPSIS</p>
<p>xcodebuild [-project name.xcodeproj][[-target targetname] â€¦ | -alltargets]<br>                [-configuration configurationname][-sdk [sdkfullpath | sdkname]] [action â€¦]<br>                [buildsetting=value â€¦] [-userdefault=value â€¦]</p>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>xcodebuild [-project name.xcodeproj] -scheme schemename [[-destination destinationspecifier] â€¦]<br>                [-destination-timeout value] [-configuration configurationname]<br>                [-sdk [sdkfullpath | sdkname]] [action â€¦] [buildsetting=value â€¦]<br>                [-userdefault=value â€¦]</p>
<p>xcodebuild -workspace name.xcworkspace -scheme schemename<br>                [[-destination destinationspecifier] â€¦][-destination-timeout value]<br>                [-configuration configurationname] [-sdk [sdkfullpath | sdkname]] [action â€¦]<br>                [buildsetting=value â€¦] [-userdefault=value â€¦]</p>
<p>xcodebuild -version [-sdk [sdkfullpath | sdkname]] [infoitem]</p>
<p>xcodebuild -showsdks</p>
<p>xcodebuild -exportArchive -archivePath xcarchivepath -exportPath destinationpath<br>                -exportOptionsPlist path</p>
<p>ç­‰ç­‰</p>
</blockquote>
<p>æŒ‘å‡ ä¸ªå¸¸ç”¨çš„å½¢å¼ä»‹ç»ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>xcodebuild -showsdks</code>: åˆ—å‡º Xcode æ‰€æœ‰å¯ç”¨çš„ SDKsã€‚</li>
<li><code>xcodebuild -showBuildSettings</code>: æŸ¥çœ‹å½“å‰å·¥ç¨‹ build setting çš„é…ç½®å‚æ•°ã€‚</li>
<li><code>xcodebuild [-project name.xcodeproj] [[-target targetname] ... | -alltargets] build</code>: ä¼š build æŒ‡å®š projectï¼Œå…¶ä¸­ -target å’Œ -configuration å‚æ•°å¯ä»¥ä½¿ç”¨ xcodebuild -list è·å¾—ï¼Œ-sdk å‚æ•°å¯ç”± xcodebuild -showsdks è·å¾—ã€‚</li>
<li><code>xcodebuild -workspace name.xcworkspace -scheme schemename build</code>:build æŒ‡å®š workspaceï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ CocoaPods æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œä¼šç”Ÿæˆ xcworkspace æ–‡ä»¶ï¼Œè¿™æ ·å°±ä¼šç”¨åˆ°è¿™ç§æ‰“åŒ…æ–¹å¼ã€‚</li>
</ul>
<h2 id="æ‰“åŒ…è¿‡ç¨‹"><a href="#æ‰“åŒ…è¿‡ç¨‹" class="headerlink" title="æ‰“åŒ…è¿‡ç¨‹"></a>æ‰“åŒ…è¿‡ç¨‹</h2><p><code>å¼€å§‹æ‰“åŒ…</code>â€”-&gt;<code>archiveæ–‡ä»¶</code>â€”-&gt;<code>ipaåŒ…</code></p>
<h4 id="ç”Ÿæˆarchiveæ–‡ä»¶"><a href="#ç”Ÿæˆarchiveæ–‡ä»¶" class="headerlink" title="ç”Ÿæˆarchiveæ–‡ä»¶"></a>ç”Ÿæˆarchiveæ–‡ä»¶</h4><p>é¦–å…ˆçœ‹ä¸€ä¸‹ç”Ÿæˆ<code>archiveæ–‡ä»¶</code>çš„å‘½ä»¤ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">xcodebuild archive -workspace é¡¹ç›®åç§°.xcworkspace </span><br><span class="line">                   -scheme é¡¹ç›®åç§° </span><br><span class="line">                   -configuration æ„å»ºé…ç½® </span><br><span class="line">                   -archivePath archiveåŒ…å­˜å‚¨è·¯å¾„ </span><br><span class="line">                    CODE_SIGN_IDENTITY=è¯ä¹¦ </span><br><span class="line">                    PROVISIONING_PROFILE=æè¿°æ–‡ä»¶UUID</span><br></pre></td></tr></table></figure>
<ul>
<li>workspace è¿™ä¸ªå°±æ˜¯é¡¹ç›®å</li>
<li>scheme å¯ä»¥é€šè¿‡xcodebuild -listè·å–</li>
<li>configration ä¸€äº›å‚æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡xcodebuild -listè·å–ï¼Œä¸€èˆ¬ä½¿ç”¨Debugã€Release</li>
<li>archivePath archiveåçš„è·¯å¾„</li>
<li>CODE_SIGN_IDENTITY è¯ä¹¦çš„Inentity</li>
<li>PROVISIONING_PROFILE æè¿°æ–‡ä»¶UUID</li>
</ul>
<p>å¦‚æœä½¿ç”¨Xcodeçš„è‡ªåŠ¨ç®¡ç†è¯ä¹¦åŠŸèƒ½ï¼Œåˆ™<code>CODE_SIGN_IDENTITY</code>å’Œ<code>CODE_SIGN_IDENTITY</code>å‚æ•°ä¸éœ€è¦æ·»åŠ ã€‚</p>
<h4 id="ç”Ÿæˆipaæ–‡ä»¶"><a href="#ç”Ÿæˆipaæ–‡ä»¶" class="headerlink" title="ç”Ÿæˆipaæ–‡ä»¶"></a>ç”Ÿæˆipaæ–‡ä»¶</h4><p>åŒæ ·çœ‹ä¸€ä¸‹ç”Ÿæˆipaæ–‡ä»¶çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">xcodebuild -exportArchive -archivePath archiveæ–‡ä»¶çš„åœ°å€.xcarchive </span><br><span class="line">                          -exportPath å¯¼å‡ºçš„æ–‡ä»¶å¤¹åœ°å€ </span><br><span class="line">                          -exportOptionsPlist exprotOptionsPlist.plist </span><br><span class="line">                          CODE_SIGN_IDENTITY=è¯ä¹¦ </span><br><span class="line">                          PROVISIONING_PROFILE=æè¿°æ–‡ä»¶UUID</span><br></pre></td></tr></table></figure>
<p>å®˜æ–¹è§£é‡Šï¼š</p>
<p>&gt;</p>
<blockquote>
<p>Exports the archive MyMobileApp.xcarchive to the path ExportDestination using the<br>              options specified in export.plist.</p>
</blockquote>
<p>åŒæ ·ï¼Œå¦‚æœä½ ä¸éœ€è¦çš„æŒ‡å®šè¯ä¹¦å’ŒProvisioningæ–‡ä»¶ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„ä¸¤ä¸ªå‚æ•°å»æ‰ï¼Œå®ƒä¼šæ ¹æ®ä½ çš„Xcodeé…ç½®å»åŒ¹é…ã€‚</p>
<p><code>exportOptionsPlist</code>è¿™ä¸ªå‚æ•°ï¼Œå¯¹åº”ä¸€ä¸ªplistæ–‡ä»¶,ç”¨æ¥é…ç½®ä¸€äº›æ‰“åŒ…æ—¶éœ€è¦é…ç½®çš„é€‰é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">    &lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">    &lt;dict&gt;</span><br><span class="line">        &lt;key&gt;teamID&lt;/key&gt;</span><br><span class="line">        &lt;string&gt;UA21BCDJHK3&lt;/string&gt; //TeamID</span><br><span class="line">        &lt;key&gt;method&lt;/key&gt;</span><br><span class="line">        &lt;string&gt;ad-hoc&lt;/string&gt; //ad-hocæ‰“åŒ…</span><br><span class="line">        &lt;key&gt; compileBitcode&lt;/key&gt; //æ˜¯å¦ç¼–è¯‘bitcode</span><br><span class="line">        &lt;false/&gt;</span><br><span class="line">    &lt;/dict&gt;</span><br><span class="line">    &lt;/plist&gt;</span><br></pre></td></tr></table></figure>
<p><code>exportOptionsPlist.plist</code>å¯é…ç½®çš„å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨<code>xcodebuild --help</code>å‘½ä»¤æŸ¥çœ‹ã€‚</p>
<p>è‡³æ­¤ä½ å·²ç»èƒ½é€šè¿‡å‘½ä»¤ç”ŸæˆipaåŒ…äº†ã€‚</p>
<h2 id="ä¸Šä¼ ç¬¬ä¸‰æ–¹å¹³å°"><a href="#ä¸Šä¼ ç¬¬ä¸‰æ–¹å¹³å°" class="headerlink" title="ä¸Šä¼ ç¬¬ä¸‰æ–¹å¹³å°"></a>ä¸Šä¼ ç¬¬ä¸‰æ–¹å¹³å°</h2><p>ä¸€èˆ¬ç¬¬ä¸‰æ–¹å¹³å°éƒ½ä¼šå¼€æ”¾ä¸Šä¼ appåŒ…çš„APIï¼Œè¿™é‡Œä»¥å’±ä»¬ä½¿ç”¨çš„<code>fir</code>å¹³å°ä¸ºä¾‹ï¼š</p>
<p>æŸ¥çœ‹<code>fir</code>çš„æ–‡æ¡£ï¼Œå¯ä»¥åœ¨<code>æ–‡æ¡£</code>ä¸­çœ‹åˆ°<code>å‘å¸ƒåº”ç”¨</code>çš„é€‰é¡¹å¡ï¼Œå…¶ä¸­æœ‰è·å–ä¸Šä¼ å‡­è¯çš„APIï¼š</p>
<p>&gt;</p>
<blockquote>
<p>POST <a href="http://api.fir.im/apps" target="_blank" rel="external">http://api.fir.im/apps</a></p>
</blockquote>
<p>ä¸Šä¼ æ–‡ä»¶çš„API:</p>
<p>&gt;</p>
<blockquote>
<p>POST upload_url</p>
</blockquote>
<p>ç„¶åæŒ‰æ–‡æ¡£æ ¼å¼ï¼Œé…ç½®æŒ‡å®šçš„å‚æ•°å³å¯ã€‚</p>
<p>ç„¶ååˆ©ç”¨<code>python</code>å°†åˆšæ‰ç”Ÿäº§çš„ipaåŒ…ï¼Œä¸Šä¼ åˆ°firå¹³å°å³å¯ã€‚</p>
<h2 id="ä¸Šä¼ åˆ°AppStore"><a href="#ä¸Šä¼ åˆ°AppStore" class="headerlink" title="ä¸Šä¼ åˆ°AppStore"></a>ä¸Šä¼ åˆ°AppStore</h2><p>åˆ©ç”¨<code>altool</code>: Application Loaderå‘½ä»¤è¡Œå·¥å…·å¯ä»¥éªŒè¯å¹¶ä¸Šä¼ åº”ç”¨ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶åˆ°AppStoreã€‚</p>
<h2 id="è„šæœ¬åŒ–"><a href="#è„šæœ¬åŒ–" class="headerlink" title="è„šæœ¬åŒ–"></a>è„šæœ¬åŒ–</h2><p>ç»¼åˆä»¥ä¸Šè¿‡ç¨‹ï¼Œåˆ©ç”¨<code>python</code>å®ç°è„šæœ¬å·¥å…·ï¼Œå®Œæˆä¸€é”®æ‰“åŒ…å¹¶ä¸Šä¼ firã€‚</p>
<p>å·¥å…·ä»£ç å¦‚ä¸‹,å¯ä»¥åœ¨æ­¤åŸºç¡€ä»£ç çš„åŸºç¡€ä¸Šå¢åŠ æ›´å¤šåŠŸèƒ½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#Release Debug</span><br><span class="line">CONFIGURATION = &quot;Debug&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def desktopPath():</span><br><span class="line">    return os.path.join(os.path.expanduser(&quot;~&quot;), &apos;Desktop&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ¸…é™¤ä¸´æ—¶æ–‡ä»¶</span><br><span class="line">def cleanArchiveFile(archivePath):</span><br><span class="line">	cleanCmd = &quot;rm -r %s&quot; %(archivePath)</span><br><span class="line">	os.system(cleanCmd)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹å¹³å°</span><br><span class="line">def uploadIpaToPlatform(ipaPath):</span><br><span class="line"></span><br><span class="line">    #éœ€è¦çš„å‚æ•°</span><br><span class="line">    upload_url = &quot;xxxx&quot;</span><br><span class="line">    bundle_id = &quot;xxxx&quot;</span><br><span class="line">    api_token = &quot;xxxx&quot;</span><br><span class="line"></span><br><span class="line">    #è·å–ä¸Šä¼ å‡­è¯ï¼ˆä¸Šä¼ åœ°å€ï¼‰</span><br><span class="line">    data = &#123;&apos;type&apos;: &apos;ios&apos;, &apos;bundle_id&apos;: bundle_id,</span><br><span class="line">        &apos;api_token&apos;: api_token&#125;</span><br><span class="line"></span><br><span class="line">    response = requests.post(url = upload_url, data = data)</span><br><span class="line">    json = response.json()</span><br><span class="line">    binaryDict = (json[&quot;cert&quot;][&quot;binary&quot;])</span><br><span class="line"></span><br><span class="line">    print &apos;====&apos; + ipaPath + &apos;=====&apos; + binaryDict[&apos;upload_url&apos;]</span><br><span class="line"></span><br><span class="line">    f = open(ipaPath, &apos;rb&apos;)</span><br><span class="line">    file_binary = &#123;&apos;file&apos;: f&#125;</span><br><span class="line">    param = &#123;&quot;key&quot;:binaryDict[&apos;key&apos;],&quot;token&quot;:binaryDict[&apos;token&apos;]&#125;</span><br><span class="line">    #ä¸Šä¼ ipaÂ Â Â Â </span><br><span class="line">    req = requests.post(url=binaryDict[&apos;upload_url&apos;],files=file_binary,data=param,verify=False)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#buildè¿‡ç¨‹</span><br><span class="line">def xcbuild():</span><br><span class="line"></span><br><span class="line">	#åˆå§‹åŒ–</span><br><span class="line">	#å·¥ç¨‹åå­—</span><br><span class="line">	workspace = &quot;test.xcworkspace&quot;</span><br><span class="line">	scheme = &quot;test&quot;</span><br><span class="line"></span><br><span class="line">	# exportOptions.plistæ–‡ä»¶è·¯å¾„ï¼›æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µæ”¹å˜</span><br><span class="line">	plistPath = &apos;./../../build/exportOptions.plist&apos;</span><br><span class="line"></span><br><span class="line">	#æ¡Œé¢è·¯å¾„</span><br><span class="line">	deskPath = desktopPath()</span><br><span class="line"></span><br><span class="line">	#archiveæ–‡ä»¶å¯¼å‡ºè·¯å¾„</span><br><span class="line">	archivePath = deskPath + &apos;/&apos; + scheme + &apos;.xcarchive&apos;</span><br><span class="line"></span><br><span class="line">	#å¯¼å‡ºipaæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å</span><br><span class="line">	currentT = time.strftime(&apos;%Y-%m-%d-%H-%M-%S&apos;,time.localtime(time.time()))</span><br><span class="line">	ipaDirName = scheme + currentT</span><br><span class="line"></span><br><span class="line">	#ipaæ–‡ä»¶è·¯å¾„</span><br><span class="line">	ipaPath = deskPath + &apos;/&apos; + ipaDirName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	# ç”Ÿæˆarchiveæ–‡ä»¶çš„å‘½ä»¤</span><br><span class="line">	archiveCmd = &quot;xcodebuild archive -workspace %s -scheme %s -configuration %s -archivePath %s&quot; %(workspace,scheme,CONFIGURATION,archivePath)</span><br><span class="line">	#pythonæ‰§è¡Œå‘½ä»¤</span><br><span class="line">	os.system(archiveCmd)</span><br><span class="line">	#ç”Ÿæˆ.ipaåŒ…çš„å‘½ä»¤</span><br><span class="line">	exportCmd = &quot;xcodebuild -exportArchive -archivePath %s -exportOptionsPlist %s -exportPath %s&quot; %(archivePath,plistPath,ipaPath)</span><br><span class="line">	os.system(exportCmd)</span><br><span class="line"></span><br><span class="line">	#ä¸Šä¼ fir</span><br><span class="line">	uploadIpaToPlatform(ipaPath + &apos;/&apos; + scheme + &apos;.ipa&apos;)</span><br><span class="line"></span><br><span class="line">	#æ¸…é™¤ä¸´æ—¶æ–‡ä»¶</span><br><span class="line">	cleanArchiveFile(archivePath)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line"></span><br><span class="line">	#åˆ¤æ–­è¾“å…¥çš„å‚æ•°</span><br><span class="line">	if len(sys.argv) &gt; 1:</span><br><span class="line">		config = sys.argv[1]</span><br><span class="line">		global CONFIGURATION</span><br><span class="line">		if sys.argv[1]==&apos;Release&apos; or sys.argv[1]==&apos;RELEASE&apos;:</span><br><span class="line">			CONFIGURATION = &apos;Release&apos;</span><br><span class="line">		elif sys.argv[1]==&apos;Debug&apos; or sys.argv[1]==&apos;DEBUG&apos;:</span><br><span class="line">			CONFIGURATION = &apos;Debug&apos;</span><br><span class="line"></span><br><span class="line">	#buildè¿‡ç¨‹</span><br><span class="line">	xcbuild()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">	main()</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†ä¸æ±¡æŸ“é¡¹ç›®ï¼Œè¯¥è„šæœ¬å’Œplistæ–‡ä»¶å¹¶æ²¡æœ‰æ”¾åˆ°é¡¹ç›®å·¥ç¨‹ç›®å½•ä¸­ï¼Œè€Œæ˜¯æŠŠpyæ–‡ä»¶è®¾ç½®æˆäº†å…¨å±€å¯ç”¨ï¼Œ<code>exportOptionsPlist.plist</code>æ–‡ä»¶æ”¾åˆ°å•ç‹¬çš„ç›®å½•ï¼Œåœ¨è„šæœ¬æ–‡ä»¶ä¸­å¼•ç”¨å³å¯ã€‚</p>
<p>ä½¿ç”¨çš„æ—¶å€™åªéœ€åœ¨å·¥ç¨‹ç›®å½•æ•²å‘½ä»¤:</p>
<p>å¦‚æœæ‰“<code>Debug</code>åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python build.py</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‰“<code>Release</code>åŒ…:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python build.py Release</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¢‘ç¹çš„æ‰‹åŠ¨æ‰“åŒ…æ˜¯ä¸€é¡¹è€—æ—¶è€—åŠ›çš„å·¥ç¨‹ï¼Œè€Œä¸”æ˜¯ä¸€é¡¹é‡å¤æ€§çš„åŠ³åŠ¨ï¼Œå› æ­¤å®ç°æ‰“åŒ…çš„è‡ªåŠ¨åŒ–æ˜¯éå¸¸å¿…è¦çš„ã€‚é€šè¿‡è‡ªåŠ¨åŒ–æ‰“åŒ…å¯ä»¥å®ç°ä¸€é”®æ‰“åŒ…ï¼Œå¹¶ä¸Šä¼ åˆ°firæˆ–è’²å…¬è‹±ç­‰ç¬¬ä¸‰æ–¹å¹³å°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;xcodebuild&quot;&gt;&lt;a href=&quot;#xcodebuild&quot; class=&quot;he
    
    </summary>
    
      <category term="Python" scheme="http://yoursite.com/categories/Python/"/>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>æœ€çŸ­è·¯å¾„ç®—æ³•</title>
    <link href="http://yoursite.com/2018/09/21/acm-dijkstra/"/>
    <id>http://yoursite.com/2018/09/21/acm-dijkstra/</id>
    <published>2018-09-21T11:12:59.000Z</published>
    <updated>2018-10-02T08:57:54.034Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><p>å‡è®¾ä¸€ä¸ªå¼€è½¦çš„äººå¸Œæœ›æ‰¾å‡ºä»æ–°ç–†åˆ°åŒ—äº¬çš„å¯èƒ½çš„æœ€çŸ­è·¯çº¿ã€‚ä»–æœ‰ä¸€å¼ ä¸­å›½å…¬è·¯åœ°å›¾ï¼Œè¯¥å…¬è·¯å›¾ä¸Šæ ‡å‡ºäº†æ¯ä¸€å¯¹ç›¸é‚»çš„å…¬è·¯äº¤å‰ä¹‹é—´çš„è·ç¦»ï¼Œä»–åº”è¯¥å¦‚ä½•æ‰¾å‡ºè¿™ä¸€æœ€çŸ­è·¯çº¿å‘¢ï¼Ÿ</p>
<p> ä¸€ç§å¯èƒ½çš„æ–¹æ³•å°±æ˜¯æšä¸¾å‡ºæ‰€æœ‰ä»æ–°ç–†åˆ°åŒ—äº¬ä¹‹é—´çš„è·¯çº¿ï¼Œä¾ç„¶å­˜åœ¨ç€æ•°ä»¥ç™¾ä¸‡è®¡çš„è¡Œè½¦è·¯çº¿ï¼Œè€Œå…¶ä¸­ç»å¤§å¤šæ•°æ˜¯ä¸å€¼å¾—è€ƒè™‘çš„ã€‚</p>
<p>ç°å®ä¸­å¾ˆå¤šæŠ½è±¡çš„ä¾‹å­éƒ½å¯ä»¥è½¬åŒ–æˆç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜ç»Ÿä¸€ç§°ä¸ºæ±‚<code>æœ€çŸ­è·¯å¾„</code>çš„é—®é¢˜ã€‚</p>
<h2 id="æœ€çŸ­è·¯å¾„çš„è§£å†³ç®—æ³•"><a href="#æœ€çŸ­è·¯å¾„çš„è§£å†³ç®—æ³•" class="headerlink" title="æœ€çŸ­è·¯å¾„çš„è§£å†³ç®—æ³•"></a>æœ€çŸ­è·¯å¾„çš„è§£å†³ç®—æ³•</h2><ul>
<li>Floyd<br>æ±‚å¤šæºã€æ— è´Ÿæƒè¾¹çš„æœ€çŸ­è·¯ã€‚ç”¨çŸ©é˜µè®°å½•å›¾ã€‚æ—¶æ•ˆæ€§è¾ƒå·®ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(V^3)</code>ã€‚</li>
<li>Dijkstra<br>æ±‚å•æºã€æ— è´Ÿæƒçš„æœ€çŸ­è·¯ã€‚æ—¶æ•ˆæ€§è¾ƒå¥½ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(V^2)</code>ã€‚</li>
<li>Bellman-Ford<br>æ±‚å•æºæœ€çŸ­è·¯ï¼Œå¯ä»¥åˆ¤æ–­æœ‰æ— è´Ÿæƒå›è·¯ã€‚é€šè¿‡ä¸æ–­æ„å»ºä»¥æºç‚¹ä¸ºæ ¹çš„æœ€çŸ­è·¯å¾„æ ‘ï¼Œä¸æ–­æ‰©å±•ã€‚</li>
<li>SPFA<br>å¯ä»¥ç”¨äºå­˜åœ¨è´Ÿæ•°è¾¹æƒçš„å›¾ï¼Œç®—æ³•æ—¶é—´æ•ˆç‡æ˜¯ä¸ç¨³å®šçš„ï¼Œå³å®ƒå¯¹äºä¸åŒçš„å›¾æ‰€éœ€è¦çš„æ—¶é—´æœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚<code>SPFA</code>ç®—æ³•æ˜¯åœ¨<code>Bellman-Ford</code>ç®—æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–è€Œæ¥ã€‚</li>
</ul>
<h2 id="Dijkstraç®—æ³•"><a href="#Dijkstraç®—æ³•" class="headerlink" title="Dijkstraç®—æ³•"></a>Dijkstraç®—æ³•</h2><h5 id="å®šä¹‰æ¦‚è§ˆ"><a href="#å®šä¹‰æ¦‚è§ˆ" class="headerlink" title="å®šä¹‰æ¦‚è§ˆ"></a>å®šä¹‰æ¦‚è§ˆ</h5><p><code>Dijkstra</code>(è¿ªæ°æ–¯ç‰¹æ‹‰)ç®—æ³•æ˜¯å…¸å‹çš„å•æºæœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¸»è¦ç‰¹ç‚¹æ˜¯ä»¥èµ·å§‹ç‚¹ä¸ºä¸­å¿ƒå‘å¤–å±‚å±‚æ‰©å±•ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢ã€‚<code>Dijkstra</code>ç®—æ³•æ˜¯å¾ˆæœ‰ä»£è¡¨æ€§çš„æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œåœ¨å¾ˆå¤šä¸“ä¸šè¯¾ç¨‹ä¸­éƒ½ä½œä¸ºåŸºæœ¬å†…å®¹æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œå¦‚æ•°æ®ç»“æ„ï¼Œå›¾è®ºï¼Œè¿ç­¹å­¦ç­‰ç­‰ã€‚æ³¨æ„è¯¥ç®—æ³•è¦æ±‚å›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒè¾¹ã€‚</p>
<h5 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h5><p><code>ç®—æ³•æ€æƒ³</code>ï¼šè®¾<code>G=(V,E)</code>æ˜¯ä¸€ä¸ªå¸¦æƒæœ‰å‘å›¾ï¼ŒæŠŠå›¾ä¸­é¡¶ç‚¹é›†åˆ<code>V</code>åˆ†æˆä¸¤ç»„ï¼Œç¬¬ä¸€ç»„ä¸ºå·²æ±‚å‡ºæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹é›†åˆï¼ˆç”¨<code>S</code>è¡¨ç¤ºï¼Œåˆå§‹æ—¶<code>S</code>ä¸­åªæœ‰ä¸€ä¸ªæºç‚¹ï¼Œä»¥åæ¯æ±‚å¾—ä¸€æ¡æœ€çŸ­è·¯å¾„ , å°±å°†åŠ å…¥åˆ°é›†åˆ<code>S</code>ä¸­ï¼Œç›´åˆ°å…¨éƒ¨é¡¶ç‚¹éƒ½åŠ å…¥åˆ°<code>S</code>ä¸­ï¼Œç®—æ³•å°±ç»“æŸäº†ï¼‰ï¼Œç¬¬äºŒç»„ä¸ºå…¶ä½™æœªç¡®å®šæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹é›†åˆï¼ˆç”¨<code>U</code>è¡¨ç¤ºï¼‰ï¼ŒæŒ‰æœ€çŸ­è·¯å¾„é•¿åº¦çš„é€’å¢æ¬¡åºä¾æ¬¡æŠŠç¬¬äºŒç»„çš„é¡¶ç‚¹åŠ å…¥<code>S</code>ä¸­ã€‚åœ¨åŠ å…¥çš„è¿‡ç¨‹ä¸­ï¼Œæ€»ä¿æŒä»æºç‚¹<code>v</code>åˆ°<code>S</code>ä¸­å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¸å¤§äºä»æºç‚¹<code>v</code>åˆ°<code>U</code>ä¸­ä»»ä½•é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªé¡¶ç‚¹å¯¹åº”ä¸€ä¸ªè·ç¦»ï¼Œ<code>S</code>ä¸­çš„é¡¶ç‚¹çš„è·ç¦»å°±æ˜¯ä»<code>v</code>åˆ°æ­¤é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œ<code>U</code>ä¸­çš„é¡¶ç‚¹çš„è·ç¦»ï¼Œæ˜¯ä»<code>v</code>åˆ°æ­¤é¡¶ç‚¹åªåŒ…æ‹¬<code>S</code>ä¸­çš„é¡¶ç‚¹ä¸ºä¸­é—´é¡¶ç‚¹çš„å½“å‰æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p>
<p><code>ç®—æ³•æ­¥éª¤</code>ï¼š</p>
<ol>
<li><p>åˆå§‹æ—¶ï¼Œ<code>S</code>åªåŒ…å«æºç‚¹ï¼Œå³<code>Sï¼{v}</code>ï¼Œ<code>v</code>çš„è·ç¦»ä¸º<code>0</code>ã€‚<code>U</code>åŒ…å«é™¤<code>v</code>å¤–çš„å…¶ä»–é¡¶ç‚¹ï¼Œå³:<code>U={å…¶ä½™é¡¶ç‚¹}</code>ï¼Œè‹¥<code>v</code>ä¸<code>U</code>ä¸­é¡¶ç‚¹<code>u</code>æœ‰è¾¹ï¼Œåˆ™<code>&lt;u,v&gt;</code>æ­£å¸¸æœ‰æƒå€¼ï¼Œè‹¥<code>u</code>ä¸æ˜¯<code>v</code>çš„å‡ºè¾¹é‚»æ¥ç‚¹ï¼Œåˆ™<code>&lt;u,v&gt;</code>æƒå€¼ä¸º<code>âˆ</code>ã€‚</p>
</li>
<li><p>ä»Uä¸­é€‰å–ä¸€ä¸ªè·ç¦»<code>v</code>æœ€å°çš„é¡¶ç‚¹<code>k</code>ï¼ŒæŠŠ<code>k</code>ï¼ŒåŠ å…¥<code>S</code>ä¸­ï¼ˆè¯¥é€‰å®šçš„è·ç¦»å°±æ˜¯<code>v</code>åˆ°<code>k</code>çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼‰ã€‚</p>
</li>
<li><p>ä»¥<code>k</code>ä¸ºæ–°è€ƒè™‘çš„ä¸­é—´ç‚¹ï¼Œä¿®æ”¹<code>U</code>ä¸­å„é¡¶ç‚¹çš„è·ç¦»ï¼›è‹¥ä»æºç‚¹<code>v</code>åˆ°é¡¶ç‚¹<code>u</code>çš„è·ç¦»ï¼ˆç»è¿‡é¡¶ç‚¹<code>k</code>ï¼‰æ¯”åŸæ¥è·ç¦»ï¼ˆä¸ç»è¿‡é¡¶ç‚¹kï¼‰çŸ­ï¼Œåˆ™ä¿®æ”¹é¡¶ç‚¹uçš„è·ç¦»å€¼ï¼Œä¿®æ”¹åçš„è·ç¦»å€¼ä¸ºé¡¶ç‚¹<code>k</code>çš„è·ç¦»åŠ ä¸Š<code>&lt;k,u&gt;</code>è¾¹ä¸Šçš„æƒã€‚</p>
</li>
<li><p>é‡å¤æ­¥éª¤ <code>2</code> å’Œ <code>3</code> ç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½åŒ…å«åœ¨ <code>S</code> ä¸­ã€‚</p>
</li>
</ol>
<p><code>Tip</code>:<br>é€šå¸¸åœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œä»¥ä¸€ä¸ªäºŒç»´æ•°ç»„<code>map[][]</code>æ¥è¡¨ç¤ºæ•´å¼ å›¾ï¼Œä»¥ä¸€ä¸ªä¸€ç»´æ•°ç»„<code>dist[]</code>æ¥è¡¨ç¤ºæºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„å½“å‰æœ€çŸ­è·¯å¾„ï¼Œä»¥ä¸€ä¸ªä¸€ç»´æ•°ç»„<code>set[]</code>æ¥æ ‡è¯†å½“å‰é¡¶ç‚¹æ˜¯å¦å·²ç»è¢«å¹¶å…¥åˆ°é›†åˆ<code>S</code>ä¸­ï¼Œå³å½“å‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„å·²ç»æ±‚å‡ºã€‚</p>
<p><code>æ‰§è¡ŒåŠ¨ç”»</code>:</p>
<p><img src="https://corderguo.github.io/images/dijkstra.gif" alt="dijkstra_img"></p>
<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>ç”±ä¸Šè¿°è®²è§£å¯ä»¥å†™å‡ºå¦‚ä¸‹Dijkstraç®—æ³•ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// å›¾çš„å­˜å‚¨åœ¨ MGraph  g.nä¸ºé¡¶ç‚¹æ•°é‡ g.edges[][]ä¸ºè¾¹çš„æƒå€¼</span><br><span class="line">// vä¸ºæºç‚¹</span><br><span class="line">// dist[] ä¿å­˜æºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„å½“å‰æœ€çŸ­è·¯å¾„</span><br><span class="line">void Dijkstra(MGraph g, int v, int dist[]) &#123;</span><br><span class="line">    int set[maxSize];</span><br><span class="line">    int min,i,j,u;</span><br><span class="line">    // åˆå§‹åŒ–</span><br><span class="line">    for(i = 0;i&lt;g.n;i++) &#123;</span><br><span class="line">        dist[i] = g.edges[v][i];</span><br><span class="line">        set[i] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    set[v] = 1;</span><br><span class="line">    </span><br><span class="line">    for(i = 0;i &lt; g.n; i++ ) &#123;</span><br><span class="line">        min = INF;</span><br><span class="line">        // è¿™ä¸ªå¾ªç¯æ¯æ¬¡ä»å‰©ä½™é¡¶ç‚¹ä¸­é€‰å‡ºä¸€ä¸ªé¡¶ç‚¹ï¼Œé€šå¾€è¿™ä¸ªé¡¶ç‚¹çš„è·¯å¾„åœ¨é€šå¾€æ‰€æœ‰å‰©ä½™é¡¶ç‚¹çš„è·¯å¾„ä¸­æ˜¯é•¿åº¦æœ€çŸ­çš„</span><br><span class="line">        for (j = 0;j&lt; g.n;j++) &#123;</span><br><span class="line">            if(set[h] == 0 &amp;&amp; dist[j] &lt; min) &#123;</span><br><span class="line">                u = j;</span><br><span class="line">                min = dist[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        set[u] = 1;</span><br><span class="line">        // ä»¥åˆšå¹¶å…¥çš„é¡¶ç‚¹ä½œä¸ºä¸­é—´ç‚¹ï¼Œå¯¹æ‰€æœ‰é€šå¾€å‰©ä½™é¡¶ç‚¹çš„è·¯å¾„è¿›è¡Œæ£€æµ‹</span><br><span class="line">        for (j = 0;j &lt; g.n;j++) &#123;</span><br><span class="line">            if (set[j]==0&amp;&amp;dist[u]+g.edges[u][j]&lt;dist[j]) &#123;</span><br><span class="line">                dist[j] = dist[u]+g.edges[u][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p>ä¾‹å¦‚ç»å…¸çš„é¢˜ç›®<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1874" target="_blank" rel="external">HDU1874</a>ã€‚</p>
<p><code>é—®é¢˜æè¿°</code>ï¼š            </p>
<p>æŸçœè‡ªä»å®è¡Œäº†å¾ˆå¤šå¹´çš„ç•…é€šå·¥ç¨‹è®¡åˆ’åï¼Œç»ˆäºä¿®å»ºäº†å¾ˆå¤šè·¯ã€‚ä¸è¿‡è·¯å¤šäº†ä¹Ÿä¸å¥½ï¼Œæ¯æ¬¡è¦ä»ä¸€ä¸ªåŸé•‡åˆ°å¦ä¸€ä¸ªåŸé•‡æ—¶ï¼Œéƒ½æœ‰è®¸å¤šç§é“è·¯æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼Œè€ŒæŸäº›æ–¹æ¡ˆè¦æ¯”å¦ä¸€äº›æ–¹æ¡ˆè¡Œèµ°çš„è·ç¦»è¦çŸ­å¾ˆå¤šã€‚è¿™è®©è¡Œäººå¾ˆå›°æ‰°ã€‚<br>ç°åœ¨ï¼Œå·²çŸ¥èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè¯·ä½ è®¡ç®—å‡ºè¦ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ï¼Œæœ€çŸ­éœ€è¦è¡Œèµ°å¤šå°‘è·ç¦»ã€‚</p>
<p><code>Input</code>:    </p>
<p>æœ¬é¢˜ç›®åŒ…å«å¤šç»„æ•°æ®ï¼Œè¯·å¤„ç†åˆ°æ–‡ä»¶ç»“æŸã€‚<br>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•°Nå’ŒM(0&lt;N&lt;200,0&lt;M&lt;1000)ï¼Œåˆ†åˆ«ä»£è¡¨ç°æœ‰åŸé•‡çš„æ•°ç›®å’Œå·²ä¿®å»ºçš„é“è·¯çš„æ•°ç›®ã€‚åŸé•‡åˆ†åˆ«ä»¥0ï½N-1ç¼–å·ã€‚<br>æ¥ä¸‹æ¥æ˜¯Mè¡Œé“è·¯ä¿¡æ¯ã€‚æ¯ä¸€è¡Œæœ‰ä¸‰ä¸ªæ•´æ•°A,B,X(0&lt;=A,B&lt;N,A!=B,0&lt;X&lt;10000),è¡¨ç¤ºåŸé•‡Aå’ŒåŸé•‡Bä¹‹é—´æœ‰ä¸€æ¡é•¿åº¦ä¸ºXçš„åŒå‘é“è·¯ã€‚<br>å†æ¥ä¸‹ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°S,T(0&lt;=S,T&lt;N)ï¼Œåˆ†åˆ«ä»£è¡¨èµ·ç‚¹å’Œç»ˆç‚¹ã€‚            </p>
<p><code>Output</code>:            </p>
<p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¯·åœ¨ä¸€è¡Œé‡Œè¾“å‡ºæœ€çŸ­éœ€è¦è¡Œèµ°çš„è·ç¦»ã€‚å¦‚æœä¸å­˜åœ¨ä»Såˆ°Tçš„è·¯çº¿ï¼Œå°±è¾“å‡º-1.</p>
<p><code>è§£æ</code>ï¼š</p>
<p>è¿™æ˜¯å…¸å‹çš„æ±‚è§£æœ€çŸ­è·¯å¾„çš„é—®é¢˜ï¼Œå¯ä»¥æŠŠåŸé•‡è½¬æ¢æˆå›¾ä¸­çš„ç‚¹ï¼Œé“è·¯è½¬æ¢æˆå›¾ä¸­çš„æœ‰æƒè¾¹ï¼Œç„¶åæ ¹æ®æ„é€ å‡ºçš„è¿™å¼ å›¾ï¼Œæ±‚è§£æºç‚¹åˆ°å„ä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„å³å¯ã€‚</p>
<p><code>ä»£ç </code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;stdio.h&quot;</span><br><span class="line">#define MAX_INT 10000</span><br><span class="line">//</span><br><span class="line">int set[202];</span><br><span class="line">int map[202][202];</span><br><span class="line">int dis[202];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void Dijkstra(int start , int n) &#123;</span><br><span class="line">    </span><br><span class="line">    // åˆå§‹åŒ–</span><br><span class="line">    for (int i = 0; i&lt;n; i ++) &#123;</span><br><span class="line">        dis[i] = map[start][i];</span><br><span class="line">        set[i] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    set[start] = 1;</span><br><span class="line">    </span><br><span class="line">    for (int j = 0 ; j &lt; n; j ++) &#123;</span><br><span class="line">        </span><br><span class="line">        // æ‰¾å½“å‰æœ€çŸ­è·¯å¾„</span><br><span class="line">        int temp = MAX_INT;</span><br><span class="line">        int u = start;</span><br><span class="line">        for (int i = 0; i &lt; n; i ++) &#123;</span><br><span class="line">            if (set[i] == 0 &amp;&amp; dis[i] &lt; temp) &#123;</span><br><span class="line">                temp = dis[i];</span><br><span class="line">                u = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        set[u] = 1;</span><br><span class="line">        </span><br><span class="line">        // ä»¥uä¸ºä¸­é—´ç‚¹æ›´æ–°æœ€çŸ­è·¯å¾„</span><br><span class="line">        for (int i = 0 ; i &lt; n; i ++) &#123;</span><br><span class="line">            if (set[i] == 0 &amp;&amp; dis[u] + map[u][i] &lt; dis[i]) &#123;</span><br><span class="line">                dis[i] = dis[u] + map[u][i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    int a,b,c;</span><br><span class="line">    while (scanf(&quot;%d %d&quot;,&amp;n,&amp;m) != EOF) &#123;</span><br><span class="line">        // å›¾çš„åˆå§‹åŒ–</span><br><span class="line">        for (int i = 0; i &lt; n; i ++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j ++) &#123;</span><br><span class="line">                if (i == j) &#123;</span><br><span class="line">                    map[i][j] = 0;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    map[i][j] = MAX_INT;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        while (m--) &#123;</span><br><span class="line">            scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c);</span><br><span class="line">            if (c &lt; map[a][b]) &#123;</span><br><span class="line">                map[a][b] = map[b][a] = c;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        int start , end;</span><br><span class="line">        scanf(&quot;%d%d&quot;,&amp;start,&amp;end);</span><br><span class="line">        Dijkstra(start, n);</span><br><span class="line">        if (dis[end] == MAX_INT) &#123;</span><br><span class="line">            printf(&quot;-1\n&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            printf(&quot;%d\n&quot;,dis[end]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡ ä¸ªå˜å½¢é¢˜ç›®ï¼Œå¯ä»¥å½“åšç»ƒä¹ ï¼š</p>
<p><a href="http://acm.hdu.edu.cn/diy/contest_show.php?cid=34192" target="_blank" rel="external">ç»ƒä¹ é¢˜</a></p>
<p>password:123</p>
<h3 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h3><p>ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»æ±‚å‡ºäº†æºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„çš„å€¼ï¼Œå¦‚æœæ­¤æ—¶éœ€è¦çŸ¥é“è¯¥æœ€çŸ­è·¯å¾„æ‰€ä¸Šæ‰€ç»è¿‡çš„ç‚¹ï¼Œè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>
<p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„<code>path[]</code>æ¥ä¿å­˜æœ€çŸ­è·¯å¾„ä¸Šæ‰€ç»è¿‡çš„è®¢å•ã€‚<br>æ¯”å¦‚ï¼š<code>path[Vi]</code>ä¸­ä¿å­˜ä»æºç‚¹åˆ°<code>Vi</code>çš„æœ€çŸ­è·¯å¾„ä¸Š<code>Vi</code>çš„å‰ä¸€ä¸ªé¡¶ç‚¹ï¼Œå‡è®¾æœ€çŸ­è·¯å¾„ä¸Šçš„é¡¶ç‚¹åºåˆ—ä¸º<code>V0,V1,V2,V3,...,Vi-1,Vi</code> åˆ™<code>path[Vi]=Vi-1</code>ã€‚</p>
<p><code>path[]</code>æµ‹åˆæ€ä¸ºï¼šå‡è®¾<code>V0</code>ä¸ºæºç‚¹ï¼Œå¦‚æœ<code>V0</code>åˆ°<code>Vi</code>æœ‰è¾¹ï¼Œåˆ™<code>path[Vi]=V0</code>,å¦åˆ™<code>path[Vi]=-1</code>ã€‚<br>åœ¨ä¸Šé¢çš„æ­¥éª¤ä¸­ï¼Œæ¯ä¸€æ¬¡æ›´æ–°æœ€çŸ­è·¯å¾„çš„å€¼çš„æ—¶å€™ï¼ŒåŒæ—¶æ›´æ–°<code>path[]</code>çš„å€¼ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„æ›´æ–°å®Œæ¯•ï¼Œ<code>path[]</code>ä¸­ä¹Ÿå°±ä¿å­˜äº†æ¯ä¸ªæœ€çŸ­è·¯å¾„æ‰€ç»å†çš„é¡¶ç‚¹ï¼Œè¿™æ˜¯ä¸€ä¸ª<code>æ ‘å½¢ç»“æ„</code>ã€‚</p>
<h5 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸Šåšä¸€äº›ä¿®æ”¹,å¢åŠ äº†<code>path[]</code>æ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">// å›¾çš„å­˜å‚¨åœ¨ MGraph  g.nä¸ºé¡¶ç‚¹æ•°é‡ g.edges[][]ä¸ºè¾¹çš„æƒå€¼</span><br><span class="line">// vä¸ºæºç‚¹</span><br><span class="line">// dist[] ä¿å­˜æºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„å½“å‰æœ€çŸ­è·¯å¾„</span><br><span class="line">// path[] ä¿å­˜ä»æºç‚¹åˆ°`Vi`çš„æœ€çŸ­è·¯å¾„ä¸Š`Vi`çš„å‰ä¸€ä¸ªé¡¶ç‚¹</span><br><span class="line">void Dijkstra(MGraph g, int v, int dist[], int path[]) &#123;</span><br><span class="line">    int set[maxSize];</span><br><span class="line">    int min,i,j,u;</span><br><span class="line">    // åˆå§‹åŒ–</span><br><span class="line">    for(i = 0;i&lt;g.n;i++) &#123;</span><br><span class="line">        dist[i] = g.edges[v][i];</span><br><span class="line">        set[i] = 0;</span><br><span class="line">        // path[] åˆå§‹åŒ–</span><br><span class="line">        if (g.edges[v][i] &lt; INF) &#123;</span><br><span class="line">        	path[i] = v;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">        	path[i] = -1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    set[v] = 1;</span><br><span class="line">    path[v] = -1;</span><br><span class="line">    </span><br><span class="line">    for(i = 0;i &lt; g.n; i++ ) &#123;</span><br><span class="line">        min = INF;</span><br><span class="line">        // è¿™ä¸ªå¾ªç¯æ¯æ¬¡ä»å‰©ä½™é¡¶ç‚¹ä¸­é€‰å‡ºä¸€ä¸ªé¡¶ç‚¹ï¼Œé€šå¾€è¿™ä¸ªé¡¶ç‚¹çš„è·¯å¾„åœ¨é€šå¾€æ‰€æœ‰å‰©ä½™é¡¶ç‚¹çš„è·¯å¾„ä¸­æ˜¯é•¿åº¦æœ€çŸ­çš„</span><br><span class="line">        for (j = 0;j&lt; g.n;j++) &#123;</span><br><span class="line">            if(set[h] == 0 &amp;&amp; dist[j] &lt; min) &#123;</span><br><span class="line">                u = j;</span><br><span class="line">                min = dist[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        set[u] = 1;</span><br><span class="line">        // ä»¥åˆšå¹¶å…¥çš„é¡¶ç‚¹ä½œä¸ºä¸­é—´ç‚¹ï¼Œå¯¹æ‰€æœ‰é€šå¾€å‰©ä½™é¡¶ç‚¹çš„è·¯å¾„è¿›è¡Œæ£€æµ‹</span><br><span class="line">        for (j = 0;j &lt; g.n;j++) &#123;</span><br><span class="line">            if (set[j]==0&amp;&amp;dist[u]+g.edges[u][j]&lt;dist[j]) &#123;</span><br><span class="line">                dist[j] = dist[u]+g.edges[u][j];</span><br><span class="line">                path[j] = u;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¼•å…¥&quot;&gt;&lt;a href=&quot;#å¼•å…¥&quot; class=&quot;headerlink&quot; title=&quot;å¼•å…¥&quot;&gt;&lt;/a&gt;å¼•å…¥&lt;/h2&gt;&lt;p&gt;å‡è®¾ä¸€ä¸ªå¼€è½¦çš„äººå¸Œæœ›æ‰¾å‡ºä»æ–°ç–†åˆ°åŒ—äº¬çš„å¯èƒ½çš„æœ€çŸ­è·¯çº¿ã€‚ä»–æœ‰ä¸€å¼ ä¸­å›½å…¬è·¯åœ°å›¾ï¼Œè¯¥å…¬è·¯å›¾ä¸Šæ ‡å‡ºäº†æ¯ä¸€å¯¹ç›¸é‚»çš„å…¬è·¯äº¤å‰ä¹‹é—´çš„è·ç¦»ï¼Œä»–åº”è¯¥å¦‚ä½•æ‰¾å‡ºè¿™
    
    </summary>
    
      <category term="Algorithm" scheme="http://yoursite.com/categories/Algorithm/"/>
    
    
      <category term="ACM" scheme="http://yoursite.com/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>iOSé€†å‘ä¹‹åŠ¨æ€è°ƒè¯•</title>
    <link href="http://yoursite.com/2018/06/06/iOS-hacking-lldb/"/>
    <id>http://yoursite.com/2018/06/06/iOS-hacking-lldb/</id>
    <published>2018-06-06T04:02:04.000Z</published>
    <updated>2018-06-06T07:45:42.282Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æƒ³æ›´äº†è§£åˆ«äººAppçš„è°ƒç”¨æµç¨‹ï¼Œå°±éœ€è¦åœ¨Appè¿è¡Œçš„æ—¶å€™è¿›è¡ŒåŠ¨æ€è°ƒè¯•ã€‚åŠ¨æ€è°ƒè¯•æŒ‡çš„æ˜¯å°†ç¨‹åºè¿è¡Œèµ·æ¥ï¼Œé€šè¿‡ä¸‹æ–­ç‚¹ã€æ‰“å°ç­‰æ–¹å¼ï¼ŒæŸ¥çœ‹å‚æ•°ã€è¿”å›å€¼ã€å‡½æ•°è°ƒç”¨æµç¨‹ç­‰ã€‚</p>
<h2 id="Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†"><a href="#Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†" class="headerlink" title="Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†"></a>Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†</h2><p>é¦–å…ˆäº†è§£ä¸€ä¸‹ <code>Xcode</code> ç¼–è¯‘å’Œè°ƒè¯•å™¨çš„å‘å±•ã€‚<code>Xcode</code> ä¸­çš„ç¼–è¯‘å™¨å‘å±•å†ç¨‹ï¼š<code>GCC</code> -&gt; <code>LLVM</code>,è°ƒè¯•å™¨çš„å‘å±•å†ç¨‹ï¼š<code>GDB</code> -&gt; <code>LLDB</code> ã€‚</p>
<p><code>Xcode</code> è°ƒè¯•å®‰è£…åˆ°æ‰‹æœºä¸Šçš„åº”ç”¨çš„åŸç†ï¼š<code>Xcode</code> é€šè¿‡ <code>LLDB</code> è°ƒè¯•å™¨æŠŠè°ƒè¯•æŒ‡ä»¤å‘é€åˆ°æ‰‹æœºä¸Šçš„ <code>debugserver</code>, <code>debugserver</code> å†ä¸ç›¸åº”çš„ <code>APP</code> è¿›è¡Œäº¤äº’ï¼Œè¾¾åˆ°è°ƒè¯•çš„æ•ˆæœã€‚</p>
<p><code>debugserver</code> ä¸€å¼€å§‹æ˜¯å­˜æ”¾åœ¨Macçš„Xcodeé‡Œé¢,è·¯å¾„ï¼š </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Xcode.app/Contents/Developer/Platforms</span><br><span class="line">/iPhoneOS.platform/DeviceSupport</span><br><span class="line">/<span class="number">9.1</span>/DeveloperDiskImage.dmg</span><br><span class="line">/usr/bin/debugserver</span><br></pre></td></tr></table></figure>
<p>å½“ <code>Xcode</code> è¯†åˆ«åˆ°æ‰‹æœºè®¾å¤‡æ—¶ï¼Œ<code>Xcode</code> ä¼šè‡ªåŠ¨å°† <code>debugserver</code> å®‰è£…åˆ°æ‰‹æœºä¸Šã€‚</p>
<p><code>Xcode</code> è°ƒè¯•çš„å±€é™æ€§ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªèƒ½è°ƒè¯•é€šè¿‡ <code>Xcode</code> å®‰è£…çš„APPï¼Œæ— æ³•è°ƒè¯•å…¶å®ƒAPPã€‚</p>
<h3 id="ç»™debugserverèµ‹äºˆæƒé™"><a href="#ç»™debugserverèµ‹äºˆæƒé™" class="headerlink" title="ç»™debugserverèµ‹äºˆæƒé™"></a>ç»™debugserverèµ‹äºˆæƒé™</h3><p>é»˜è®¤æƒ…å†µä¸‹ <code>/Developer/usr/bin/debugserver</code> ç¼ºå°‘ä¸€å®šçš„æƒé™ï¼Œåªèƒ½è°ƒè¯•é€šè¿‡Xcodeå®‰è£…çš„Appï¼Œå¦‚æœå¸Œæœ›è°ƒè¯•å…¶å®ƒAppï¼Œéœ€è¦å¯¹ <code>debugserver</code> é‡æ–°ç­¾åï¼Œç­¾ä¸Šå¯ä»¥è°ƒè¯•å…¶å®ƒAppçš„æƒé™ã€‚</p>
<p>éœ€è¦çš„ä¸¤ä¸ªæƒé™ä¸ºï¼š<code>get-task-allow</code> å’Œ <code>task_for_pid-allow</code></p>
<p>iPhoneä¸Šçš„ <code>/Developer</code> ç›®å½•æ˜¯åªè¯»çš„ï¼Œæ— æ³•ç›´æ¥å¯¹ <code>/Developer/usr/bin/debugserver</code> æ–‡ä»¶ç­¾åï¼Œéœ€è¦å…ˆæŠŠ <code>debugserver</code> å¤åˆ¶åˆ°Macã€‚</p>
<p>é€šè¿‡ <code>ldid</code> å‘½ä»¤å¯¼å‡ºæ–‡ä»¶ä»¥å‰çš„ç­¾åæƒé™:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ldid -e debugserver &gt; debugserver.entitlements</span><br></pre></td></tr></table></figure>
<p><code>debugserver.entitlements</code> è¿™ä¸ªæ–‡ä»¶å…¶å®æ˜¯ä¸ª <code>plist</code> æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åŠ ä¸Šä¸Šé¢æåˆ°çš„ä¸¤ä¸ªæƒé™åï¼Œå†é€šè¿‡ <code>ldid</code> å‘½ä»¤å¯¹æ–‡ä»¶é‡æ–°ç­¾åã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ldid -Sdebugserver.entitlements debugserver</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°†å·²ç»ç­¾å¥½æƒé™çš„ <code>debugserver</code> æ”¾åˆ° <code>/usr/bin</code> ç›®å½•ï¼Œä¾¿äºæ‰¾åˆ° <code>debugserver</code> æŒ‡ä»¤ã€‚</p>
<h3 id="debugserveré™„åŠ åˆ°æŸä¸ªAPPè¿›ç¨‹"><a href="#debugserveré™„åŠ åˆ°æŸä¸ªAPPè¿›ç¨‹" class="headerlink" title="debugserveré™„åŠ åˆ°æŸä¸ªAPPè¿›ç¨‹"></a>debugserveré™„åŠ åˆ°æŸä¸ªAPPè¿›ç¨‹</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ debugserver *:ç«¯å£å· -a è¿›ç¨‹</span><br></pre></td></tr></table></figure>
<ul>
<li>*:ç«¯å£å·ï¼šä½¿ç”¨iPhoneçš„æŸä¸ªç«¯å£å¯åŠ¨debugserveræœåŠ¡ï¼ˆä¸æ˜¯ä¿ç•™ç«¯å£ï¼‰</li>
<li>-aè¿›ç¨‹ï¼šè¾“å…¥APPçš„è¿›ç¨‹ä¿¡æ¯ï¼ˆè¿›ç¨‹IDæˆ–è€…è¿›ç¨‹åç§°ï¼‰</li>
</ul>
<h3 id="Macè¿œç¨‹è¿æ¥iPhoneä¸Šçš„debugserveræœåŠ¡"><a href="#Macè¿œç¨‹è¿æ¥iPhoneä¸Šçš„debugserveræœåŠ¡" class="headerlink" title="Macè¿œç¨‹è¿æ¥iPhoneä¸Šçš„debugserveræœåŠ¡"></a>Macè¿œç¨‹è¿æ¥iPhoneä¸Šçš„debugserveræœåŠ¡</h3><p>å¯åŠ¨LLDBï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ç»ˆç«¯è¾“å…¥</span></span><br><span class="line">$ lldb</span><br></pre></td></tr></table></figure>
<p>è¿æ¥debugserveræœåŠ¡</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(lldb) process connect connect:<span class="comment">//æ‰‹æœºIPåœ°å€:debugserveræœåŠ¡ç«¯å£å·</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨LLDBçš„cå‘½ä»¤è®©ç¨‹åºå…ˆç»§ç»­è¿è¡Œ</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(lldb) c</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤ï¼Œå°±å¯ä»¥è¿œç¨‹è°ƒè¯•åˆ«äººçš„Appäº†ã€‚</p>
<h3 id="å¸¸ç”¨çš„LLDBæŒ‡ä»¤"><a href="#å¸¸ç”¨çš„LLDBæŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨çš„LLDBæŒ‡ä»¤"></a>å¸¸ç”¨çš„LLDBæŒ‡ä»¤</h3><ul>
<li>ç»™ViewControllerçš„testæ–¹æ³•è®¾ç½®æ–­ç‚¹</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">breakpoint set -n <span class="string">"-[ViewController test]"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥çœ‹æŒ‡ä»¤ç”¨æˆ·ä½¿ç”¨ <code>help</code> æŒ‡ä»¤ï¼š <code>help breakpoint</code> ç­‰ã€‚</li>
<li>æ‰“å°çº¿ç¨‹çš„å †æ ˆä¿¡æ¯ï¼š <code>thread backtrace</code></li>
</ul>
<p>å¾ˆå¤šå‘½ä»¤ä¸åœ¨è¿™é‡Œèµ˜è¿°ï¼Œè¯·å‚è€ƒï¼š<a href="http://lldb.llvm.org/lldb-gdb.html" target="_blank" rel="external">http://lldb.llvm.org/lldb-gdb.html</a></p>
<h3 id="ASLR"><a href="#ASLR" class="headerlink" title="ASLR"></a>ASLR</h3><p>è·å– <code>ASLR</code> çš„åç§»é‡ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image list -o -f</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœçš„ç¬¬äºŒåˆ—å‰é¢çš„åœ°å€å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ <code>ASLR</code> çš„åç§»é‡offsetã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬æƒ³ç»™æŸä¸ªç±»ä¸­çš„testæ–¹æ³•æ·»åŠ æ–­ç‚¹ï¼Œé‚£ä¹ˆé€šè¿‡ <code>Hooper</code> å·¥å…·æ‰¾åˆ°è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå†…å­˜åœ°å€,å‡å¦‚ä¸º0x010101ï¼Œç„¶ååœ°å€åŠ ä¸Šæˆ‘ä»¬å¾—åˆ°çš„ <code>ASLR</code> çš„åç§»é‡å°±æ˜¯è¯¥æ–¹æ³•çš„å®é™…åœ°å€ã€‚ç„¶åé€šè¿‡è¯¥åœ°å€ç»™æ–¹æ³•ä¸‹æ–­ç‚¹ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">breakpoint set -o <span class="number">0x010101</span>+offset</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤å°±ç»™è¯¥æ–¹æ³•æ·»åŠ äº†æ–­ç‚¹ï¼Œä¹‹åå½“ç¨‹åºè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šåœåœ¨è¯¥æ–­ç‚¹å‡ºã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ç»ƒä¹  <code>lldb</code> çš„å„ç§æŒ‡ä»¤æ—¶ï¼Œæ¨èå…ˆåœ¨ <code>Xcode</code> ä¸Šç»ƒä¹ å„ç§ç”¨æ³•ï¼Œå› ä¸ºä¼šæœ‰æç¤ºå’Œç›´è§‚çš„è¾“å‡ºç»“æœï¼Œæ›´å®¹æ˜“æˆ‘ä»¬ç†è§£ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰æ—¶å€™æƒ³æ›´äº†è§£åˆ«äººAppçš„è°ƒç”¨æµç¨‹ï¼Œå°±éœ€è¦åœ¨Appè¿è¡Œçš„æ—¶å€™è¿›è¡ŒåŠ¨æ€è°ƒè¯•ã€‚åŠ¨æ€è°ƒè¯•æŒ‡çš„æ˜¯å°†ç¨‹åºè¿è¡Œèµ·æ¥ï¼Œé€šè¿‡ä¸‹æ–­ç‚¹ã€æ‰“å°ç­‰æ–¹å¼ï¼ŒæŸ¥çœ‹å‚æ•°ã€è¿”å›å€¼ã€å‡½æ•°è°ƒç”¨æµç¨‹ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†&quot;&gt;&lt;a href=&quot;#Xcodeçš„åŠ¨æ€è°ƒè¯•åŸç†&quot; class
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="é€†å‘" scheme="http://yoursite.com/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSé€†å‘ä¹‹logifyè·Ÿè¸ªæ–¹æ³•è°ƒç”¨</title>
    <link href="http://yoursite.com/2018/06/05/iOS-logify/"/>
    <id>http://yoursite.com/2018/06/05/iOS-logify/</id>
    <published>2018-06-05T04:02:04.000Z</published>
    <updated>2018-06-08T03:04:38.653Z</updated>
    
    <content type="html"><![CDATA[<p>æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œæˆ‘ä»¬å°†Appçš„å¤´æ–‡ä»¶ä½¿ç”¨ <code>class-dump</code> å¯¼å‡ºåï¼Œç„¶ååˆ©ç”¨ <code>theos</code> åˆ›å»ºé€†å‘çš„å·¥ç¨‹ï¼Œç¼–å†™ <code>hook</code> çš„ä»£ç ï¼Œä»è€Œè¾¾åˆ°ä¿®æ”¹æŸäº›åŠŸèƒ½çš„ç›®çš„ã€‚ä½†æ˜¯æœ‰æ—¶å€™æŸäº›åŠŸèƒ½å…·ä½“è°ƒç”¨å“ªä¸ªæ–¹æ³•æˆ‘ä»¬ä¸å¥½å®šä½ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ°äº† <code>logify</code> æ¥è·Ÿè¸ªå‡½æ•°è°ƒç”¨ï¼Œä»è€Œå®šä½åˆ°æˆ‘ä»¬éœ€è¦çš„å‡½æ•°ã€‚</p>
<p><code>logify</code> æ˜¯ <code>theos</code> çš„ä¸€ä¸ªç»„ä»¶ï¼Œ<code>logify</code> å¯ä»¥å°†ä¸€ä¸ªå¤´æ–‡ä»¶å¿«é€Ÿè½¬æ¢æˆå·²ç»åŒ…å«æ‰“å°ä¿¡æ¯çš„xmæ–‡ä»¶ã€‚å½“ç„¶å¦‚æœæŸä¸ªç±»ä¸­çš„æ–¹æ³•å¾ˆå°‘ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±æ‰‹åŠ¨æ·»åŠ  <code>NSLog</code> çš„æ‰“å°ä¿¡æ¯ï¼Œä½†æ˜¯æŸä¸ªæ–‡ä»¶ä¸­çš„æ–¹æ³•å¾ˆå¤šçš„æ—¶å€™ï¼Œæ”¶åˆ°ç»™æ¯ä¸ªæ–¹æ³•æ·»åŠ æ—¥å¿—ä¿¡æ¯ï¼Œä¼šæµªè´¹å¾ˆå¤šå¾ˆå¤šæ—¶é—´ï¼Œ<code>logify</code> ä¾¿æ˜¯ä¸€ä¸ªä¸é”™çš„å·¥å…·ã€‚</p>
<p>æˆ‘ä»¬ä»¥å¾®ä¿¡çš„èŠå¤©ç•Œé¢ä¸ºä¾‹ï¼Œå‡å¦‚åœ¨å½“å‰ç•Œé¢æˆ‘æ”¶åˆ°çº¢åŒ…æ¶ˆæ¯çš„æ—¶å€™ï¼Œæˆ‘æƒ³ç¡®å®šæ˜¯å“åº”äº†å“ªä¸ªæ–¹æ³•ï¼Œæ–¹ä¾¿åˆ†ææŠ¢çº¢åŒ…çš„åç»­æ“ä½œã€‚</p>
<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>æˆ‘ä»¬åˆ©ç”¨ <code>Reveal</code> ç¡®å®šå‡ºäº†ç¾¤èŠç•Œé¢çš„æ§åˆ¶å™¨åç§°ä¸º <code>BaseMsgContentViewController</code> å¹¶ä¸”åˆ©ç”¨ <code>class-dump</code> å°†å¤´æ–‡ä»¶å¯¼å‡ºï¼Œè¿™ä¸ªç±»ä¸­çš„æ–¹æ³•ç‰¹åˆ«å¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ©ç”¨ <code>logify</code> æŠŠè¯¥æ–‡ä»¶å¿«é€Ÿè½¬æ¢æˆå·²ç»åŒ…å«æ‰“å°ä¿¡æ¯çš„xmæ–‡ä»¶ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å‡ºå·²æ·»åŠ æ—¥å¿—ä¿¡æ¯çš„xmæ–‡ä»¶</span></span><br><span class="line">logify.pl BaseMsgContentViewController.h &gt; Tweak.xm</span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»º <code>theos</code>å·¥ç¨‹ï¼Œç”¨æˆ‘ä»¬åˆšæ‰ç”Ÿæˆçš„ <code>Tweak</code> æ›¿æ¢åˆšæ‰åˆ›å»ºçš„ <code>theos</code> é¡¹ç›®çš„<code>Tweak.xm</code>ã€‚ç„¶åé‡æ–°ç¼–è¯‘æ‰“åŒ…å®‰è£…ã€‚</p>
<h3 id="é”™è¯¯è§£å†³"><a href="#é”™è¯¯è§£å†³" class="headerlink" title="é”™è¯¯è§£å†³"></a>é”™è¯¯è§£å†³</h3><p><code>logify.pl</code> ç”Ÿäº§çš„xmæ–‡ä»¶ï¼Œæœ‰å¾ˆå¤šæ—¶å€™æ˜¯ç¼–è¯‘ä¸é€šè¿‡çš„ï¼Œéœ€è¦è¿›è¡Œä¸€äº›å¤„ç†ã€‚</p>
<ul>
<li>åˆ é™¤ <code>__weak</code></li>
<li>åˆ é™¤ <code>inout</code></li>
<li>åˆ é™¤åè®® ,æˆ–è€…åœ¨å¤´éƒ¨å£°æ˜ä¸€ä¸‹åè®®ï¼Œ<code>@protocol XXXDelegate</code></li>
<li>åˆ é™¤ <code>HBLogDebug(@&quot; = 0x%x&quot;, (unsigned int)r)</code></li>
<li>æ›¿æ¢ç±»åä¸º <code>void *</code> ï¼Œæ¯”å¦‚å°† <code>XXPerson *</code> æ›¿æ¢ä¸º <code>void *</code> å› ä¸ºéƒ½æ˜¯æŒ‡é’ˆç±»å‹ã€‚æˆ–è€…åœ¨å¤´éƒ¨å£°æ˜ä¸€ä¸‹ï¼Œ<code>@class XXPerson</code></li>
</ul>
<p>æ ¹æ®è‡ªå·±ç¼–è¯‘çš„æ—¶å€™æŠ¥çš„å…·ä½“é”™è¯¯ï¼Œè¿›è¡Œé€‚å½“çš„ä¿®æ”¹å³å¯ã€‚</p>
<h3 id="æ—¥å¿—æŸ¥çœ‹"><a href="#æ—¥å¿—æŸ¥çœ‹" class="headerlink" title="æ—¥å¿—æŸ¥çœ‹"></a>æ—¥å¿—æŸ¥çœ‹</h3><p><code>theos</code> å·¥ç¨‹é‡æ–°æ‰“åŒ…å®‰è£…æˆåŠŸåï¼Œé‡æ–°æ‰“å¼€å¾®ä¿¡çš„èŠå¤©ç•Œé¢ï¼Œç„¶åæ‰“å¼€ <code>Xcode -&gt; Window -&gt; Devices and Simulators</code> å³å¯è·Ÿè¸ªæ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p><code>Xcode9.0</code> ä¹‹åè¯¥æ–¹æ³•å·²ç»ä¸æ–¹ä¾¿æŸ¥çœ‹äº†ï¼Œä½¿ç”¨ <code>syslog</code> æ¥å®æ—¶æŸ¥çœ‹æ—¥å¿—ã€‚</p>
<p>åœ¨æ‰‹æœºä¸Šå®‰è£…ä¸¤ä¸ªæ’ä»¶ï¼š</p>
<ul>
<li>syslogd to/var/log/syslog : è®°å½•log        </li>
<li>Core Utilities : ä½¿ç”¨ <code>tail</code> å‘½ä»¤    </li>
</ul>
<p>åœ¨ <code>theos</code> æ„å»ºçš„é€†å‘å·¥ç¨‹çš„ <code>Makefile</code> æ–‡ä»¶ä¸­æ·»åŠ </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚æŸ¥çœ‹å¾®ä¿¡çš„æ—¥å¿—ï¼š    </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f /var/log/syslog | grep WeChat</span><br></pre></td></tr></table></figure>
<p>å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ ¹æ®å®æ—¶æŸ¥çœ‹å¾®ä¿¡çš„æ—¥å¿—äº†ï¼Œåˆ†ææ–¹æ³•è°ƒç”¨é€»è¾‘å°±ä¸€ç›®äº†ç„¶äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œæˆ‘ä»¬å°†Appçš„å¤´æ–‡ä»¶ä½¿ç”¨ &lt;code&gt;class-dump&lt;/code&gt; å¯¼å‡ºåï¼Œç„¶ååˆ©ç”¨ &lt;code&gt;theos&lt;/code&gt; åˆ›å»ºé€†å‘çš„å·¥ç¨‹ï¼Œç¼–å†™ &lt;code&gt;hook&lt;/code&gt; çš„ä»£ç ï¼Œä»è€Œè¾¾åˆ°ä¿®æ”¹æŸäº›åŠŸèƒ½çš„ç›®çš„ã€‚ä½†æ˜¯æœ‰æ—¶å€™æŸäº›åŠŸèƒ½å…·ä½“è°ƒç”¨å“ª
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="é€†å‘" scheme="http://yoursite.com/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSé€†å‘è§£å¯†</title>
    <link href="http://yoursite.com/2018/06/04/iOS-hacking/"/>
    <id>http://yoursite.com/2018/06/04/iOS-hacking/</id>
    <published>2018-06-04T04:02:04.000Z</published>
    <updated>2018-06-06T06:31:58.350Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ä¹ å’Œäº†è§£é€†å‘å·¥ç¨‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†æç«å“å’Œè‡ªå·±å–œæ¬¢çš„APPçš„å¼€å‘æ¶æ„å’ŒæŸäº›åŠŸèƒ½çš„å¤§ä½“å®ç°æ€è·¯ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å¯¹å…¶å®ƒAPPå¤§åˆ€é˜”æ–§è¿›è¡ŒäºŒæ¬¡åŠ å·¥ï¼Œæ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚ å­¦ä¹ iOSé€†å‘ä¸€æ®µæ—¶é—´äº†ï¼Œè¿™é‡Œç®€å•åšä¸ªæ€»ç»“ï¼Œæ­å¼€iOSé€†å‘çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 id="Macè¿œç¨‹ç™»å½•iPhone"><a href="#Macè¿œç¨‹ç™»å½•iPhone" class="headerlink" title="Macè¿œç¨‹ç™»å½•iPhone"></a>Macè¿œç¨‹ç™»å½•iPhone</h2><p>iOSå’ŒMac OS Xéƒ½æ˜¯åŸºäºDarwinï¼ˆè‹¹æœçš„ä¸€ä¸ªåŸºäºUnixçš„å¼€æºç³»ç»Ÿå†…æ ¸ï¼‰ï¼Œæ‰€ä»¥iOSä¸­åŒæ ·æ”¯æŒç»ˆç«¯çš„å‘½ä»¤è¡Œæ“ä½œã€‚    </p>
<p>åœ¨é€†å‘å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé€šè¿‡å‘½ä»¤è¡Œæ¥æ“çºµiPhoneã€‚ä¸ºäº†èƒ½å¤Ÿè®©Macç»ˆç«¯ä¸­çš„å‘½ä»¤è¡Œèƒ½ä½œç”¨åœ¨iPhoneä¸Šï¼Œæˆ‘ä»¬å¾—è®©Macå’ŒiPhoneå»ºç«‹è¿æ¥ã€‚è¿æ¥æœ‰ä¸¤ç§æ–¹å¼ï¼š<code>wifiè¿æ¥</code>å’Œ<code>usbè¿æ¥</code>ã€‚</p>
<blockquote>
<p>å…ˆåœ¨è¶Šç‹±è½¯ä»¶ä¸Šå®‰è£…sshæ’ä»¶OpenSSH ,å‘½ä»¤è¡Œä¸‹å’Œåº”ç”¨äº¤äº’çš„æ’ä»¶Cycript        </p>
<p>è®©è¶Šç‹±æ‰‹æœºå’Œmacç”µè„‘åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹(ä¸ºäº†èƒ½å¤Ÿé€šè¿‡sshæœåŠ¡ä»macç”µè„‘è®¿é—®æ‰‹æœº)</p>
<p>åœ¨macçš„å‘½ä»¤è¡Œç»ˆç«¯ é€šè¿‡sshæœåŠ¡ç™»å½•æ‰‹æœº è¾“å…¥<code>ssh root@æ‰‹æœºip</code>ã€‚é»˜è®¤æƒ…å†µä¸‹çš„rootå¯†ç æ˜¯alpineã€‚rootå¯†ç å¯ä»¥è‡ªå·±ä¿®æ”¹ã€‚        </p>
<p>ç„¶ååœ¨æ‰‹æœºä¸Šè¿è¡Œç¨‹åºï¼Œåœ¨macç»ˆç«¯ä¸Šåˆ©ç”¨ps -A æŸ¥çœ‹æ‰‹æœºå½“å‰è¿è¡Œçš„è¿›ç¨‹ï¼Œæ‰¾åˆ°è¿›ç¨‹idåä¾¿å¯ä»¥åˆ©ç”¨cycriptè¿›è¡Œä¸€äº›åˆ—æ“ä½œã€‚ä¾‹å¦‚ï¼šè¿›å…¥å½“å‰è¿è¡Œç€çš„å¾®ä¿¡è¿›ç¨‹çš„cycriptçŠ¶æ€<code>cycript -p WeChat</code></p>
</blockquote>
<p>é‡‡ç”¨<code>wifiè¿æ¥</code>æœ‰æ—¶å€™ä¼šå‡ºç°å¡é¡¿å»¶è¿Ÿçš„ç°è±¡ï¼Œæ‰€ä»¥æˆ‘é€šå¸¸é‡‡ç”¨<code>usbè¿æ¥</code>ã€‚</p>
<blockquote>
<p>Macä¸Šæœ‰ä¸ªæœåŠ¡ç¨‹åºusbmuxdï¼ˆå®ƒä¼šå¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼‰ï¼Œå¯ä»¥å°†Macçš„æ•°æ®é€šè¿‡USBä¼ è¾“åˆ°iPhone        </p>
<p> æˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªè„šæœ¬è¿›è¡Œç™»å½•ï¼š    </p>
<ul>
<li><p><code>python ~/iOS/tcprelay.py -t 22:10010</code>è¿›è¡Œç«¯å£çš„æ˜ å°„</p>
</li>
<li><p><code>ssh -p 10010 root@localhost</code> usbçš„ç™»å½•</p>
</li>
</ul>
</blockquote>
<h2 id="Cycriptçš„ä½¿ç”¨"><a href="#Cycriptçš„ä½¿ç”¨" class="headerlink" title="Cycriptçš„ä½¿ç”¨"></a>Cycriptçš„ä½¿ç”¨</h2><p>Cycriptæ˜¯Objective-C++ã€ES6ï¼ˆJavaScriptï¼‰ã€Javaç­‰è¯­æ³•çš„æ··åˆç‰©ï¼Œå¯ä»¥ç”¨æ¥æ¢ç´¢ã€ä¿®æ”¹ã€è°ƒè¯•æ­£åœ¨è¿è¡Œçš„Mac\iOS APPã€‚å®˜ç½‘ï¼š<a href="http://www.cycript.org/" target="_blank" rel="external">http://www.cycript.org</a></p>
<p>æ¯”å¦‚ä¸€äº›ç®€å•çš„ä½¿ç”¨ï¼š  </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¾®ä¿¡è¿›ç¨‹</span></span><br><span class="line">cycript -p WeChat</span><br><span class="line"><span class="comment">// è·å¾—æ²™ç›’è·¯å¾„</span></span><br><span class="line"><span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>,<span class="built_in">NSUserDomainMask</span>,<span class="literal">YES</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// æ‰“å°å½“å‰é¡µé¢viewçš„å±‚çº§</span></span><br><span class="line"><span class="built_in">UIApp</span>.keyWindow.recursiveDescription().toString()</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ­é…<code>Reveal</code>ä½¿ç”¨ï¼Œä»<code>Reveal</code>ä¸­è·å¾—æŸä¸ªç•Œé¢æˆ–è€…<code>view</code>æ‰€å±çš„ç±»æˆ–æ§åˆ¶å™¨ï¼Œç„¶åæ‹¿åˆ°è¯¥ç±»æˆ–æ§åˆ¶å™¨åˆ©ç”¨cycriptè¿›è¡Œè°ƒè¯•ã€‚æ¯”å¦‚ï¼ŒçŸ¥é“äº†ä¸€ä¸ª<code>view</code>å¯¹åº”çš„ç±»ä¸º<code>testView</code>,æƒ³æŠŠè¯¥<code>view</code>ä»å½“å‰ç•Œé¢ç§»é™¤ï¼Œè¾¾åˆ°ä¸æ˜¾ç¤ºçš„æ•ˆæœï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[testView removeFromSuperview];</span><br></pre></td></tr></table></figure>
<h2 id="ä»£ç Hookåˆ†æ"><a href="#ä»£ç Hookåˆ†æ" class="headerlink" title="ä»£ç Hookåˆ†æ"></a>ä»£ç Hookåˆ†æ</h2><p>å¦‚æœè¦é€†å‘Appçš„æŸä¸ªåŠŸèƒ½å°‘ä¸äº†ä»£ç çš„åˆ†æã€‚</p>
<ol>
<li><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæ‰¾åˆ°æŸä¸ª<code>view</code>å¯¹åº”çš„ç±»åï¼Œå°±éœ€è¦å¯¼å‡ºè¯¥ç±»å¯¹åº”çš„å¤´æ–‡ä»¶è¿›è¡Œå…·ä½“çš„åˆ†æäº†ã€‚        </p>
</li>
<li><p>é¦–å…ˆæ‰¾åˆ°Appçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆMach-Oç±»å‹ï¼‰ï¼Œï¼ˆä½¿ç”¨iFunBoxæŠŠè¯¥æ–‡ä»¶å¯¼å‡ºåˆ°Macä¸Šï¼‰ç„¶åä½¿ç”¨class-dumpå·¥å…·å¯¼å‡ºå…¶ä¸­çš„æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œè¿™äº›å¤´æ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°å…¶ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚<code>class-dump  -H  Mach-Oæ–‡ä»¶è·¯å¾„  -o  å¤´æ–‡ä»¶å­˜æ”¾ç›®å½•</code></p>
</li>
<li><p>å¦‚æœè¦æŸ¥çœ‹<code>Mach-O</code>æ–‡ä»¶å®Œæ•´ä¿¡æ¯ï¼Œå»ºè®®ç”¨<code>MachOView</code>ã€‚<code>otool -l</code>æ‰“å°æ‰€æœ‰çš„ <code>Load Commands</code>ï¼Œå»ºè®®æ­é…<code>grep</code>è¿›è¡Œæ­£åˆ™è¿‡æ»¤ã€‚<code>otool -L</code> å¯ä»¥æŸ¥çœ‹ä½¿ç”¨çš„åº“æ–‡ä»¶ã€‚</p>
</li>
<li><p>å¤´æ–‡ä»¶åˆ†æå®Œæ¯•åï¼Œå°±å¯ä»¥åˆ©ç”¨<code>theos</code>è¿›è¡Œè¶Šè¶Šä»£ç çš„å¼€å‘äº†ï¼Œç¼–è¯‘ç”ŸæˆTweakæ’ä»¶(<code>deb</code>æ ¼å¼)ã€‚</p>
<blockquote>
<p>åˆ©ç”¨<code>nic.pl</code>æŒ‡ä»¤ï¼Œé€‰æ‹©<code>iphone/tweak</code>ï¼Œåˆ›å»ºä¸€ä¸ªtweakå·¥ç¨‹ã€‚</p>
<p>åœ¨è¿™ä¸ªtweakå·¥ç¨‹ä¸­ç¼–è¾‘<code>Tweak.xm</code>æ–‡ä»¶ï¼Œç¼–å†™è‡ªå·±çš„è¶Šç‹±ä»£ç ã€‚</p>
<p>å¼€å‘å®Œæˆååˆ©ç”¨<code>make package</code>æ‰“åŒ…å’Œ<code>make install</code>å®‰è£…åˆ°æ‰‹æœºã€‚é‡å¯åº”ç”¨ï¼Œä½ ä¼šå‘ç°å¯¹åº”çš„åŠŸèƒ½å·²ç»æ ¹æ®hookçš„ä»£ç æ”¹å˜äº†ã€‚</p>
<p>åŸç†ï¼šiOSåœ¨è¶Šç‹±åï¼Œä¼šé»˜è®¤å®‰è£…ä¸€ä¸ªåå«<code>mobilesubstrate</code>çš„åŠ¨æ€åº“ï¼Œå®ƒçš„ä½œç”¨æ˜¯æä¾›ä¸€ä¸ªç³»ç»Ÿçº§çš„å…¥ä¾µç®¡é“ï¼Œæ‰€æœ‰çš„<code>tweak</code>éƒ½å¯ä»¥ä¾èµ–å®ƒæ¥è¿›è¡Œå¼€å‘ã€‚åœ¨ç›®æ ‡ç¨‹åºå¯åŠ¨æ—¶æ ¹æ®è§„åˆ™æŠŠæŒ‡å®šç›®å½•çš„ç¬¬ä¸‰æ–¹çš„åŠ¨æ€åº“åŠ è½½è¿›å»ï¼Œç¬¬ä¸‰æ–¹çš„åŠ¨æ€åº“ä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™çš„ç ´è§£ç¨‹åºï¼Œä»è€Œè¾¾åˆ°ä¿®æ”¹å†…å­˜ä¸­ä»£ç é€»è¾‘çš„ç›®çš„ã€‚</p>
</blockquote>
</li>
<li><p>æœ‰æ—¶å€™æƒ³çœ‹æŸä¸ªç±»ä¸­çš„æŸä¸ªæ–¹æ³•çš„å®ç°ä»¥åŠè°ƒç”¨é€»è¾‘ï¼Œå°±éœ€è¦ç”¨åˆ°<code>Hopper Disassembler</code>å·¥å…·ã€‚</p>
</li>
</ol>
<h3 id="theosçš„å¸¸ç”¨è¯­æ³•"><a href="#theosçš„å¸¸ç”¨è¯­æ³•" class="headerlink" title="theosçš„å¸¸ç”¨è¯­æ³•"></a>theosçš„å¸¸ç”¨è¯­æ³•</h3><ul>
<li><p>%hook ,%end : hookä¸€ä¸ªç±»çš„å¼€å§‹å’Œç»“æŸ</p>
</li>
<li><p>%logï¼šæ‰“å°æ–¹æ³•è°ƒç”¨è¯¦æƒ…</p>
</li>
<li><p>HBDebugLogï¼šè·ŸNSLogç±»ä¼¼</p>
</li>
<li><p>%newï¼šæ·»åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•çš„æ—¶å€™ä½¿ç”¨</p>
</li>
<li><p>%origï¼šå‡½æ•°åŸæ¥çš„ä»£ç é€»è¾‘</p>
</li>
<li><p>%ctorï¼šåœ¨åŠ è½½åŠ¨æ€åº“æ—¶è°ƒç”¨</p>
</li>
<li><p>logify.plï¼šå¯ä»¥å°†ä¸€ä¸ªå¤´æ–‡ä»¶å¿«é€Ÿè½¬æ¢æˆå·²ç»åŒ…å«æ‰“å°ä¿¡æ¯çš„xmæ–‡ä»¶</p>
</li>
<li><p>å¦‚æœæœ‰é¢å¤–çš„èµ„æºæ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œæ”¾åˆ°é¡¹ç›®çš„layoutæ–‡ä»¶å¤¹ä¸­ï¼Œå¯¹åº”ç€æ‰‹æœºçš„æ ¹è·¯å¾„/</p>
</li>
</ul>
<h2 id="ç ¸å£³-è„±å£³"><a href="#ç ¸å£³-è„±å£³" class="headerlink" title="ç ¸å£³(è„±å£³)"></a>ç ¸å£³(è„±å£³)</h2><p>å¦‚æœä½¿ç”¨è¶Šç‹±æ‰‹æœºç›´æ¥ä»<code>ppåŠ©æ‰‹</code>ä¸‹è½½ä¸‹æ¥çš„éƒ¨åˆ†åº”ç”¨å…å»äº†æˆ‘ä»¬è‡ªå·±è„±å£³çš„è¿‡ç¨‹ã€‚ä½†æ˜¯å¦‚æœæ˜¯ä»App Storeä¸‹è½½ä¸‹æ¥çš„åº”ç”¨ï¼ŒApp Storeå·²ç»ä¸ºè¯¥åº”ç”¨è¿›è¡Œäº†åŠ å¯†ï¼Œå†ä½¿ç”¨<code>class-dump</code>æ˜¯æ— æ³•å¯¼å‡ºå¤´æ–‡ä»¶çš„ï¼Œè¿™æ˜¯æ—¶å€™å°±éœ€è¦å¯¹APPè¿›è¡Œè„±å£³æ“ä½œäº†ã€‚</p>
<p>è„±å£³å·¥å…·æœ‰ä¸¤ç§ï¼Œ<code>Clutch</code> å’Œ <code>dumpdecrypted</code></p>
<p><code>Clutch</code> :     </p>
<blockquote>
<p>åœ¨Macç»ˆç«¯ç™»é™†åˆ°iPhoneåï¼Œåˆ©ç”¨Clutchè„±å£³</p>
<p><code>Clutch -i</code>    åˆ—ä¸¾æ‰‹æœºä¸­å·²å®‰è£…çš„åº”ç”¨ä¸­åŠ å¯†çš„åº”ç”¨ã€‚</p>
<p><code>Clutch -d  åº”ç”¨bundleid</code> å¯¹åŠ å¯†çš„åº”ç”¨è„±å£³ï¼Œè„±å£³æˆåŠŸåä¼šç”Ÿäº§æ–°çš„<code>Match-O</code>æ–‡ä»¶ã€‚å¯¹è¿™ä¸ªæ–°çš„æ–‡ä»¶è¿›è¡Œ<code>class-dump</code>æ“ä½œå³å¯ã€‚</p>
</blockquote>
<p>æœ‰æ—¶å€™ä½¿ç”¨<code>Clutch</code>è„±å£³ï¼Œä¼šå‡ºç°å¤±è´¥çš„æƒ…å†µï¼Œæ¯”å¦‚è„±å£³å¾®ä¿¡çš„æ—¶å€™å°±ä¼šå‡ºç°é”™è¯¯ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨<code>dumpdecrypted</code>ï¼š    </p>
<blockquote>
<p>ç»ˆç«¯è¿›å…¥<code>dumpdecrypted.dylib</code>æ‰€åœ¨çš„ç›®å½• <code>var/root</code></p>
<p>ä½¿ç”¨ç¯å¢ƒå˜é‡ <code>DYLD_INSERT_LIBRARIES</code> å°† <code>dylib</code> æ³¨å…¥åˆ°éœ€è¦è„±å£³çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„å¯ä»¥é€šè¿‡<code>ps -A</code>æŸ¥çœ‹è·å–ï¼‰</p>
<p>æ‰§è¡Œå‘½ä»¤ <code>DYLD_INSERT_LIBRARIES=dumpdecrypted.dylib å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</code> å³å¯å®Œæˆè„±å£³æ“ä½œã€‚</p>
</blockquote>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>äº†è§£ä»¥ä¸Šé€†å‘çš„æµç¨‹åï¼Œä½ å¯ä»¥å®ç°ä¸€äº›æœ‰è¶£çš„åŠŸèƒ½ï¼Œæ¯”å¦‚:è§†é¢‘å®¢æˆ·ç«¯å»å¹¿å‘Šï¼Œä¿®æ”¹å¾®ä¿¡è¿åŠ¨æ­¥æ•°ï¼Œé˜²æ­¢å¾®ä¿¡æ¶ˆæ¯æµ‹å›ï¼Œå¾®ä¿¡è‡ªåŠ¨æŠ¢çº¢åŒ…ç­‰åŠŸèƒ½ã€‚åŒæ—¶ï¼Œä¹Ÿä¼šåœ¨è‡ªå·±å®¢æˆ·ç«¯çš„å¼€å‘è¿‡ç¨‹ä¸­æ›´æ³¨é‡ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚ç ”ç©¶é€†å‘ï¼Œä¸€å®šè¦å–„äºåˆ©ç”¨å„ç§å·¥å…·ï¼Œå¹¶ä¸”åšå¥½ä¸æ–­å¤±è´¥çš„å‡†å¤‡ï¼Œæ„ˆæŒ«æ„ˆå‹‡ï¼Œç»ˆä¼šæˆåŠŸã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å­¦ä¹ å’Œäº†è§£é€†å‘å·¥ç¨‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†æç«å“å’Œè‡ªå·±å–œæ¬¢çš„APPçš„å¼€å‘æ¶æ„å’ŒæŸäº›åŠŸèƒ½çš„å¤§ä½“å®ç°æ€è·¯ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å¯¹å…¶å®ƒAPPå¤§åˆ€é˜”æ–§è¿›è¡ŒäºŒæ¬¡åŠ å·¥ï¼Œæ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚ å­¦ä¹ iOSé€†å‘ä¸€æ®µæ—¶é—´äº†ï¼Œè¿™é‡Œç®€å•åšä¸ªæ€»ç»“ï¼Œæ­å¼€iOSé€†å‘çš„ç¥ç§˜é¢çº±ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Macè¿œç¨‹ç™»å½•iP
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="é€†å‘" scheme="http://yoursite.com/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>åŠæ¢¦åŠé†’ä¹‹é—´</title>
    <link href="http://yoursite.com/2017/07/15/life-alone/"/>
    <id>http://yoursite.com/2017/07/15/life-alone/</id>
    <published>2017-07-15T13:48:10.000Z</published>
    <updated>2017-07-15T14:18:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘å¤§æ¸…æ—©èµ·ï¼Œ<br>ç«™åœ¨äººå®¶å±‹è§’ä¸Šå“‘å“‘çš„å•¼ï¼Œ<br>äººå®¶è®¨åŒæˆ‘ï¼Œ<br>è¯´æˆ‘ä¸å‰åˆ©ï¼Œ<br>æˆ‘ä¸èƒ½å‘¢å‘¢å–ƒå–ƒçš„è®¨äººå®¶æ¬¢å–œã€‚        </p>
<pre><code>----èƒ¡é€‚ã€Šä¹Œé¸¦ã€‹
</code></pre><p>æ˜¨å¤œç”µé—ªé›·é¸£ï¼Œåˆæ˜¯ä¸€æ–¹é£é›¨ã€‚åŠæ¢¦åŠé†’é—´ï¼Œå¬åˆ°äº†ä¸€å£°é¸¦é¸£ï¼Œå†ä¹Ÿæ— æ³•å…¥çœ ã€‚        </p>
<p>å¾®é£æ‹‚æ¥ï¼Œæ’©åŠ¨æ°´æ³¢æµæ·Œï¼Œå¤œè‰²å®‰è°§ï¼Œè¿œè¿œçš„ï¼Œè¿™æ¡æ— äººé—®æ´¥å……æ–¥ç€äººä»¬æ¬¢å¨±åæ®‹ä½™ä¸‹çš„ç“¶ç“¶ç½ç½è¢«è¿«æ•£å‘ç€æ¶æ¯çš„æºªæµï¼Œå´åœ¨è¿™åº§åŸå¸‚ä¸­å‹¾å‹’å‡ºæœ€ä¸ºç¿çƒ‚çš„ä¸€å‰¯æ™¯ç”»ï¼Œç¯ç«å»¶ç»µã€åé‡Œé‡‘ç²‰ï¼Œå‘¨å›´æ¥¼å®‡æªç‰™é³æ¬¡æ ‰æ¯”åœ°ä¼¸å±•ç»µå»¶å¼€å»ï¼Œä½¿å¾—è¿™ä¸€æ–¹æ°´åœŸå®›è‹¥ç›˜è¸äºåœ°é¢çš„é‡‘é¾™ï¼Œå­•è‚²å‡ºè¿™åº§åŸå¸‚ç¹åçš„æ™¯è±¡ï¼Œä¹Ÿå€’æ˜ ç€ä¸€ä¸ªå¤œè¡Œäººçš„å­¤å¯‚ä¸è§æ¡ã€‚æˆ‘æ¡èµ·ä¸€å—æ²¾æ»¡æ³¥åœŸçš„çŸ³å—ï¼ŒæŠ•å‘äº†æ°´ä¸­è½å¯çš„èº«å½±ï¼Œæ‘‡æ›³çš„æœˆå…‰ä»¿ä½›åœ¨å˜²ç¬‘ä¸€ä¸ªæ— å®¶å¯å½’çš„äººï¼Œæˆ‘ç¬‘ç€æ‘‡äº†æ‘‡å¤´ï¼Œæ‹äº†æ‹æ‰‹ä¸Šçš„å°˜åœŸï¼Œæ„ˆè¡Œæ„ˆè¿œã€‚        </p>
<p>ä¸€å¿µèŠ±å¼€ï¼Œä¸€å¿µèŠ±è½ï¼Œè¿™å±±é•¿æ°´è¿œçš„äººä¸–ï¼Œç»ˆç©¶æ˜¯è¦è‡ªå·±èµ°ä¸‹å»ã€‚            </p>
<p>ä¸–ä¸Šæœ€ç—›è‹¦çš„äº‹ï¼Œä¸æ˜¯ç”Ÿè€ç—…æ­»ï¼Œè€Œæ˜¯ç”Ÿå‘½çš„æ—…ç¨‹è™½çŸ­ï¼Œå´å……æ–¥ç€æ°¸æ’çš„å­¤å¯‚ï¼›ä¸–ä¸Šæœ€ç—›è‹¦çš„äº‹ï¼Œä¸æ˜¯æ°¸æ’çš„å­¤å¯‚ï¼Œè€Œæ˜¯æ˜æ˜çœ‹è§æ¸©æš–ä¸ç”Ÿæœºï¼Œæˆ‘å´æ— èƒ½ä¸ºåŠ›ï¼›ä¸–ä¸Šæœ€ç—›è‹¦çš„äº‹ï¼Œä¸æ˜¯æˆ‘æ— èƒ½ä¸ºåŠ›ï¼Œè€Œæ˜¯å½“ä¸€åˆ‡éƒ½è§¦æ‰‹å¯åŠï¼Œæˆ‘å´ä¸æ„¿ä¼¸å‡ºæ‰‹å»ã€‚åæ¥æˆ‘æ‰çŸ¥é“ï¼ŒåŸæ¥è¿™ä¾¿æ˜¯ç”Ÿæ´»ã€‚        </p>
<p>ã€Šè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·ã€‹é‡Œï¼Œé©¬è’‚å°”å¾·é—®é‡Œæ˜‚ï¼šç”Ÿæ´»æ˜¯å¦æ°¸è¿œè‰°è¾›ï¼Œè¿˜æ˜¯åªæœ‰ç«¥å¹´å¦‚æ­¤ã€‚é‡Œæ˜‚è¯´ï¼šæ°¸è¿œå¦‚æ­¤ã€‚æ‰€ä»¥æˆ‘ä»¬æ‰æ‹¼äº†å‘½çš„è¯»ä¹¦å­¦ä¹ ï¼Œä¹Ÿä¸è¿‡æ˜¯ä¸ºäº†æŠŠè‡ªå·±å˜æˆæ›´å¥½çš„äººï¼Œä»¥ä¾¿é‡åˆ°æ›´å¥½çš„äººï¼Œé¿å¼€è¿™ç§åº¸ä¿—ã€‚        </p>
<p>ç½—æ›¼Â·ç½—å…°è¯´ï¼šè¿™ä¸–ç•Œä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œå°±æ˜¯åœ¨çœ‹æ¸…ç”Ÿæ´»çš„çœŸç›¸ä¹‹åï¼Œä¾ç„¶çƒ­çˆ±ç”Ÿæ´»ã€‚        </p>
<p>è¿™ä¾¿æ˜¯çœŸè‹±é›„å§ï¼        </p>
<p>æˆ‘æƒ³èµ·äº†ç½‘ä¸Šçš„ä¸€ä¸ªåœºæ™¯ï¼Œä¹…ä¹…ä¸èƒ½å¿˜æ€€ã€‚é‚£åº”è¯¥æ˜¯ä¸€ä¸ªé£å’Œæ—¥ä¸½çš„åˆåï¼Œæš–æš–çš„é˜³å…‰æ è¿‡æ¹–æ°´ï¼Œå¸¦èµ·ä¸€é˜µç¾ä¸½çš„æ¶Ÿæ¼ªã€‚æˆ‘æ­ªæ­ªæ–œæ–œçš„é åœ¨æ–‘é©³ã€è‹è€çš„çŸ³ç°å¢™ä¸Šï¼Œç›®å…‰æ…µæ‡’è€Œä¸”æ¸¸ç§»ä¸å®šï¼Œæˆ‘çœ‹è§ä¸€åªç‹—çœ¯ç€çœ¼ç›æ·Œç€æ¶æ°´å®‰è¯¦çš„æ‰“ç€ç›¹ï¼Œä¸€åªèŠ±ç™½æ¯é¸¡å’Œä¸€åªè„ŠèƒŒä¸Šä¸€æ’®æ¯›å‰¥æ‰äº†çš„å¤§çº¢å…¬é¸¡åœ¨æ— èŠçš„åˆ¨åœŸã€‚ä¸€è¾†ç ´æ—§çš„æ¿è½¦ï¼Œå®ƒçš„ä¸¤åªèƒ³è†Šå·²ç»æ–­äº†ï¼Œå®ƒçš„ä¸‹åŠèº«ç”±äºé•¿æœŸå¤„äºç§¯æ°´å¡˜é‡Œè€Œç”Ÿå‡ºäº†è‹”è—“ã€‚è¿™æ—¶å€™ï¼Œä¸€é˜µç¨å¾®å¤§ä¸€ç‚¹çš„é£å¤¹æ‚ç€ç«¹å¶ä¸ç«¹å¶æ‘©æ“¦çš„å£°éŸ³æ‹‚é¢è€Œæ¥ï¼Œé‚£ä¸€ç¬é—´ï¼Œæˆ‘å¹¼å°çš„å¿ƒçµå°±äº§ç”Ÿäº†æ€…ç„¶è‹¥å¤±çš„æ„Ÿè§‰ï¼Œä¸€ç§è«åçš„ã€å¼ºå¤§çš„ã€æµ“é‡çš„å¿§ä¼¤åƒå†¬å¤©çš„å¤§é›¾ä¸€æ ·è£¹ä½äº†æˆ‘ã€‚æˆ‘åƒæ˜¯è¢«æ•´ä¸ªä¸–ç•Œç¦»å¼ƒäº†ä¸€èˆ¬ï¼Œå…¨ä¸–ç•Œçš„äººéƒ½ç¦»æˆ‘è€Œå»äº†ï¼Œåªå‰©ä¸‹æˆ‘ä¸€ä¸ªäººç‹¬è‡ªå’€åš¼ç€å­¤ç‹¬çš„æ»‹å‘³ã€‚äººå‘¢ï¼Ÿäººéƒ½å“ªé‡Œå»äº†ï¼Ÿæˆ‘çš„ç›®å…‰å†ä¸€æ¬¡åœç•™åœ¨é‚£ç ´æ—§çš„æ¿è½¦ä¸Šï¼Œæƒ³è±¡ç€è‡ªå·±æ€»æœ‰ä¸€å¤©ä¼šåƒé‚£è¾†æ¿è½¦ä¸€æ ·è½é­„ã€æ½¦å€’ï¼Œå¿ƒé‡Œå°±æ„ˆå‘æ²‰é‡èµ·æ¥ï¼Œæˆ‘ç«Ÿç„¶ä¸çŸ¥ä¸è§‰ä¸ºé‚£è¾†æ¿è½¦ä¹Ÿä¸ºè‡ªå·±æ´’ä¸‹äº†ä¸€è¡Œç«¥å¹´æ—¶å¿§ä¼¤çš„æ³ªæ°´ã€‚        </p>
<p>æˆ‘æŠ¬å¤´æœ›å‘å¤©ç©ºï¼ŒåŸæ¥å¤©çœŸçš„æ˜¯ç©ºçš„ï¼è¿™ä¸€åˆ»ï¼Œæ·±æ·±çš„ä¸ºè‡ªå·±çš„æ¸ºå°ä¸æ— èƒ½è€Œæ„Ÿåˆ°ä¸çŸ¥æ‰€æªã€‚        </p>
<p>æˆ‘æŠšæ‘¸ç€è¿™åŠæˆªè€å¢™ï¼Œä¸ç¦æ„Ÿå¹ï¼šä½ åˆšå»ºé€ çš„æ—¶å€™äººä»¬åå¯¹ä½ ï¼Œé˜»ç¢äº†äººä¸äººä¹‹é—´çš„è·ç¦»ï¼Œå½“äººä»¬ä¹ æƒ¯çš„æ—¶å€™åˆå¼€å§‹ä¾èµ–ä½ ï¼ŒæŠŠä½ å»ºçš„åˆå®½åˆé«˜ï¼Œç›´åˆ°æœ€åäººä»¬æ¸æ¸çš„å¿½ç•¥äº†ä½ çš„å­˜åœ¨ï¼Œå°±è¿™æ ·æˆ‘ä»¬æ¯ä¸ªäººéƒ½è¢«ä½ å°é—­åœ¨äº†è‡ªå·±çš„å›´å¢™é‡Œï¼Œæ…¢æ…¢åœ°ã€ä¸€ä¸ä¸ã€ä¸€ç¼•ç¼•æ¸—é€åˆ°æˆ‘ä»¬çš„ä¸€å¯¸å¯¸è‚Œè‚¤é‡Œï¼ŒåŸæ¥é¢å¯¹é¢çš„ä¸¤ä¸ªäººï¼Œä¸­é—´å´æœ‰ä¸¤åº§åšé‡çš„å£å’ï¼Œæ¨ªäº˜åœ¨å½¼æ­¤ä¹‹é—´ã€‚æˆ‘ä»¬éƒ½å°å¿ƒç¿¼ç¿¼çš„èœ·ç¼©åœ¨è‡ªå·±æ„å»ºçš„åŸå ¡é‡Œï¼Œå·çª¥ç€å¤–é¢çš„ä¸–ç•Œï¼Œå½¢å•å½±åªï¼Œä¸å¤–å¦‚æ˜¯ã€‚        </p>
<p>è¿™ä¸€è·¯ï¼ŒåŠæ¢¦åŠé†’é—´ï¼Œèµ°èµ°åœåœï¼Œå´åˆæ— æ¯”çš„æƒ¬æ„å’Œè½»æ¾ã€‚æˆ–è®¸è¿™å°±æ˜¯å¼ çˆ±ç²è¯´çš„ï¼šæˆ‘ä»¬éƒ½æ˜¯å¯‚å¯æƒ¯äº†çš„äººã€‚        </p>
<p>äºæ˜¯æ‰§ç¬”ç ”å¢¨ï¼Œå†™ä¸‹äº†è¿™ä¸€çº¸å¯‚å¯ã€‚            </p>
<hr>
<p>è¿™æ˜¯ä¸€ç¯‡æ— ç—…å‘»åŸçš„æ–‡ç« ï¼Œçº¯å±æ˜¯ä¸€æ¬¡é£æ ¼çš„ç»ƒä¹ å°è¯•ã€‚å¤§å®¶è¿˜æ˜¯åº”è¯¥çœ‹äº›æ­£èƒ½é‡çš„æ–‡ç« ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰å†™çš„ï¼š<a href="http://coderperson.com/2015/05/26/byeyouth/" target="_blank" rel="external">ã€Šå†è§-ç™¾åº¦ç©ºé—´ã€‹</a>ã€‚        </p>
<p>æ™šå®‰ï¼        </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘å¤§æ¸…æ—©èµ·ï¼Œ&lt;br&gt;ç«™åœ¨äººå®¶å±‹è§’ä¸Šå“‘å“‘çš„å•¼ï¼Œ&lt;br&gt;äººå®¶è®¨åŒæˆ‘ï¼Œ&lt;br&gt;è¯´æˆ‘ä¸å‰åˆ©ï¼Œ&lt;br&gt;æˆ‘ä¸èƒ½å‘¢å‘¢å–ƒå–ƒçš„è®¨äººå®¶æ¬¢å–œã€‚        &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;----èƒ¡é€‚ã€Šä¹Œé¸¦ã€‹
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ˜¨å¤œç”µé—ªé›·é¸£ï¼Œåˆæ˜¯ä¸€æ–¹é£é›¨ã€‚åŠæ¢¦åŠé†’é—´ï¼Œå¬åˆ°äº†ä¸€å£°é¸¦
    
    </summary>
    
      <category term="ç”Ÿæ´»" scheme="http://yoursite.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="æƒ…æ„Ÿ" scheme="http://yoursite.com/tags/%E6%83%85%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>2016å¹´åº¦æ€»ç»“</title>
    <link href="http://yoursite.com/2017/01/02/life-2016summary/"/>
    <id>http://yoursite.com/2017/01/02/life-2016summary/</id>
    <published>2017-01-02T09:59:10.000Z</published>
    <updated>2017-01-02T10:07:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨æ’¸ä»£ç çš„æ—¶å€™ï¼Œç‚¹äº†ä¸€ä¸‹æ—¶é—´ä¸Šçš„æ—¥å†ï¼Œæ—¥æœŸå·²ç»å˜æˆ2017å¹´äº†ï¼Œå¿ƒå¼¦è«åçš„è¢«è§¦åŠ¨ï¼Œé‚£ä¸ªæ„çŠ¹æœªå°½çš„2016å°±è¿™æ ·å†ä¹Ÿå›ä¸æ¥äº†ã€‚ä¹Ÿè®¸å†è¿‡ä¸€æ®µæ—¶é—´ï¼Œä½ å°±å¿˜äº†æ›¾ç»çš„é‚£ä¸ª2016å¹´è‡ªå·±èµ°è¿‡çš„è¡—é“ã€æµè¿‡æ±—æ°´ã€åšè¿‡çš„äº‹æƒ…ã€é‡è§çš„äººï¼Œæƒ³æŠ“å´åˆæŠ“ä¸ä½ã€‚</p>
<p>å›é¦–2016å¹´ï¼Œè¿™ä¸€å¹´æ˜¯è‡ªå·±å¿ƒæ€æ”¹å˜æœ€å¤§çš„ä¸€å¹´ï¼Œåšäº‹å’Œè€ƒè™‘é—®é¢˜çš„æ–¹å¼å’Œä»¥å‰æœ‰äº†å¾ˆå¤§çš„ä¸åŒã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œç”±äºå·¥ä½œåŸå› å’Œå‡ ä¸ªå¥½æœ‹å‹åˆ†å¼€ä½äº†ï¼Œæ‰€å¹¸ç¦»å¾—ä¸æ˜¯å¾ˆè¿œï¼Œæ¯ä¸ªæ˜ŸæœŸéƒ½èƒ½èšèšï¼Œä¸€èµ·è°ˆè°ˆç†æƒ³ï¼Œæ‰¯æ‰¯äººç”Ÿï¼Œå¾ˆå¹¸è¿æœ‰è¿™å¸®å¿—åŒé“åˆçš„æœ‹å‹ã€‚</p>
<p>å…³äºè¿åŠ¨ï¼Œä»Šå¹´åšæŒçš„è¿˜ä¸é”™ï¼Œä»å¹´åˆå¼€å§‹ç›´åˆ°è¿›å…¥å†¬å¤©ï¼Œæ¯å‘¨æœ«è‡³å°‘ä¼šå»å¥¥æ£®è·‘10å…¬é‡Œæˆ–è€…å»å¹²éƒ¨å­¦é™¢æ‰“ä¸€ä¸‹åˆç¯®çƒã€‚ä»Šå¹´å¤å¤©è¿˜åŠäº†ä¸€å¼ æ¸¸æ³³å¡ï¼Œå­¦ä¼šäº†æ¸¸æ³³ï¼Œæ¸¸å®Œæ³³åå†å»æ‰“ç¯®çƒï¼Œä¹Ÿæ˜¯ç´¯çš„ä¸è¡Œã€‚å¯æƒœè¿›å…¥å†¬å¤©åï¼Œè¿åŠ¨çš„æ¬¡æ•°æ˜æ˜¾æ˜¯å‡å°‘äº†ï¼Œèº«ä½“çŠ¶æ€ä¹Ÿä¸å¦‚ä»¥å‰äº†ï¼Œå¼•ä»¥ä¸ºé‰´ã€‚</p>
<p>ä»Šå¹´å†¬å¤©æˆ‘æ›´æ¢äº†å·¥ä½œï¼Œè¿™ä»¶äº‹æƒ…å¯¹æˆ‘çš„è§¦åŠ¨å¾ˆå¤§ã€‚æˆ‘åœ¨è¿™ä¸ªé¡¹ç›®ä¸Šä»˜å‡ºäº†å¾ˆå¤šï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› æå‡ºäº†ç¦»èŒï¼Œæ‰€å¹¸çš„æ˜¯åæ¥æˆ‘åŠ å…¥äº†ä¸€ä¸ªå¾ˆæ£’çš„å›¢é˜Ÿï¼ŒåŒæ—¶ä¹Ÿåœ¨åšä¸€æ¬¾ä¼Ÿå¤§çš„äº§å“ã€‚äºæ˜¯ä¸çˆ±åŠ ç­çš„æˆ‘å¼€å¯äº†ç–¯ç‹‚åŠ ç­æ¨¡å¼ï¼Œç†ç”±å¾ˆç®€å•ï¼Œæˆ‘å¾ˆçœ‹å¥½è¿™æ¬¾äº§å“ã€‚ç”¨è€å¤§çš„ä¸€å¥è¯å°±æ˜¯ï¼šä¸ºäº†ä¸–ç•Œå’Œå¹³ã€‚</p>
<p>å…³äºç”Ÿæ´»ï¼Œä»ç„¶æ˜¯ä¸€äººåƒé¥±å…¨å®¶ä¸é¥¿çš„çŠ¶æ€ã€‚ä¸€ä¸ªäººè¿‡çš„å¾ˆéšä¾¿ï¼Œç›´åˆ°å‘¨è¾¹æœ‹å‹å¼€å§‹ä¹°è½¦ä¹°æˆ¿äº†ï¼Œæ‰ç»™è‡ªå·±æ•²å“äº†è­¦é’Ÿï¼Œ2017å¹´è¯¥æ”’é¦–ä»˜é’±äº†ã€‚</p>
<p>å…³äºè¯»ä¹¦ï¼Œè¿™å—å¾ˆæƒ­æ„§ï¼Œä»Šå¹´è¯»çš„ä¹¦æ¯”è¾ƒå°‘ï¼Œ2017å¹´ä¸€å®šè¦å¤šè¯»ä¹¦ã€‚æ—¥è®°ä¹Ÿæœ‰åŠå¹´æ²¡æœ‰å†™äº†ï¼Œ2017ä¸€å®šè¦åšæŒä¸‹æ¥ã€‚</p>
<p>å…³äºçˆ±æƒ…ï¼Œè¿™å—æ²¡æœ‰ï¼Œç•¥~~        </p>
<p>2016ç•™ä¸‹äº†å¾ˆå¤šé—æ†¾ï¼Œåšé”™äº†å¾ˆå¤šäº‹ï¼Œæ€»å½’æ˜¯ä¸æ–­æˆé•¿çš„ã€‚</p>
<p>å±•æœ›2017ï¼Œåªæœ‰ä¸€ä¸ªç›®æ ‡ï¼šåŠªåŠ›æé«˜è‡ªå·±ï¼</p>
<p>å†è§ï¼Œ2016ï¼<br>ä½ å¥½ï¼Œ2017ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨æ’¸ä»£ç çš„æ—¶å€™ï¼Œç‚¹äº†ä¸€ä¸‹æ—¶é—´ä¸Šçš„æ—¥å†ï¼Œæ—¥æœŸå·²ç»å˜æˆ2017å¹´äº†ï¼Œå¿ƒå¼¦è«åçš„è¢«è§¦åŠ¨ï¼Œé‚£ä¸ªæ„çŠ¹æœªå°½çš„2016å°±è¿™æ ·å†ä¹Ÿå›ä¸æ¥äº†ã€‚ä¹Ÿè®¸å†è¿‡ä¸€æ®µæ—¶é—´ï¼Œä½ å°±å¿˜äº†æ›¾ç»çš„é‚£ä¸ª2016å¹´è‡ªå·±èµ°è¿‡çš„è¡—é“ã€æµè¿‡æ±—æ°´ã€åšè¿‡çš„äº‹æƒ…ã€é‡è§çš„äººï¼Œæƒ³æŠ“å´åˆæŠ“ä¸ä½ã€‚&lt;/p&gt;
&lt;p&gt;å›é¦–2016å¹´ï¼Œè¿™ä¸€
    
    </summary>
    
      <category term="ç”Ÿæ´»" scheme="http://yoursite.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="æƒ…æ„Ÿ" scheme="http://yoursite.com/tags/%E6%83%85%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>è®¿é—®åå†…å­˜Bugå®šä½è§£å†³</title>
    <link href="http://yoursite.com/2016/10/24/bugs-EXC_BREAKPOINT/"/>
    <id>http://yoursite.com/2016/10/24/bugs-EXC_BREAKPOINT/</id>
    <published>2016-10-24T06:39:05.000Z</published>
    <updated>2016-10-24T06:53:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>å½“ä½ åˆšæ¥æ‰‹ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼ˆå¯¹ä»£ç çš„å†…éƒ¨ç»“æ„è¿˜ä¸æ¸…æ¥šï¼‰ï¼Œå¦‚æœå‡ºç°ä¸€äº›è«åå…¶å¦™çš„å†…å­˜é—®é¢˜ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰é”™è¯¯çš„logæ—¥å¿—ï¼Œè¿™ç§é—®é¢˜æœ‰æ—¶å€™æ˜¯æ¯”è¾ƒéš¾å®šä½çš„ï¼Œæ ¹æœ¬å°±ä¸çŸ¥é“ä»£ç å“ªé‡Œå‡ºç°äº†é—®é¢˜ï¼Œä»Šå¤©åˆšå¥½é‡åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„é—®é¢˜ï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹ã€‚</p>
<p>å½“å¯¹é¡¹ç›®ä¸­çš„æŸä¸€æ¨¡å—è¿›è¡Œæ“ä½œçš„æ—¶å€™é‡åˆ°çš„é”™è¯¯æ˜¯<code>EXC_BREAKPOINT (code=1, subcode=â€¦)</code>è€Œä¸”æ²¡æœ‰ä»»ä½•é”™è¯¯logçš„æ‰“å°ã€‚æ·»åŠ äº†<code>å…¨å±€æ–­ç‚¹</code>è¿˜æ˜¯æ²¡æœ‰å®šä½åˆ°å‡ºé”™ä»£ç çš„ä½ç½®ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¯¹xcodeè¿›è¡Œä¸€äº›è®¾ç½®äº†ã€‚        </p>
<p><img src="http://oet7ffdgt.bkt.clouddn.com/EXC_BRECKPOINT.png" alt="EXC_BRECKPOINT.png"></p>
<p>xcodeå¼€å¯<code>åƒµå°¸æ¨¡å¼</code>,å¦‚æœé‡åˆ°<code>The target process has no stack logs. Run it with the MallocStackLogging env</code>è¿™ç§é—®é¢˜é‚£ä¹ˆå¯ä»¥è®¾ç½®ä¸‹<code>MallocStackLoggingNoCompact</code>ä¸ºYESã€‚</p>
<p><img src="http://oet7ffdgt.bkt.clouddn.com/malloc1.jpg" alt="zombie"></p>
<p>è¿™ä¸ªæ—¶å€™å†å¯¹å‡ºé—®é¢˜çš„æ¨¡å—è¿›è¡Œæ“ä½œï¼Œä¼šæ‰“å°å‡º<code>[testViewController retain]message sent to deallocated instance</code>çš„é”™è¯¯æç¤ºï¼Œè¿™è¦å°±å®šä½åˆ°äº†å‡ºé—®é¢˜çš„å¤§ä½“ä½ç½®äº†,å¹¶ä¸”ä¹ŸçŸ¥é“äº†æ˜¯åå†…å­˜è®¿é—®çš„é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯è¿™ä¸ªæ§åˆ¶å™¨ä¸­çš„ä»£ç æœ‰ä¸Šåƒè¡Œï¼Œè¿™ä¸ªæ—¶å€™å¦‚ä½•å®šä½å‘¢ï¼Œæ—¢ç„¶æ˜¯å†…å­˜é—®é¢˜ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº†å†…å­˜è°ƒè¯•å·¥å…·<code>Zombies</code>äº†ã€‚<br>æ‰“å¼€è¯¥å·¥å…·ï¼Œè¿è¡Œé¡¹ç›®ï¼Œå½“å‡ºç°<code>message sent to deallocated instance</code>æ—¶å€™ï¼Œå·¥å…·ä¼šæç¤º<code>An Objective-C message was sent to a deallocated object(zombie) at address:0x8b3b200</code>ï¼Œç‚¹å‡»æç¤ºï¼Œå·¥å…·ä¼šæç¤ºå¯èƒ½å­˜åœ¨å†…å­˜é—®é¢˜çš„åœ°æ–¹ï¼Œç„¶åè‡ªå·±çœ‹ä¸€ä¸‹å®šä½çš„å…·ä½“ä»£ç ï¼Œå°±èƒ½å‘ç°å‡ºç°é—®é¢˜çš„åœ°æ–¹äº†ã€‚    </p>
<p><img src="http://i.stack.imgur.com/qbfcb.png" alt=""></p>
<p><img src="http://i.stack.imgur.com/wpolZ.png" alt="">        </p>
<p>åˆ°è¿™é‡Œä½ å°±åº”è¯¥å®šä½åˆ°å‡ºé—®é¢˜ä»£ç çš„ä½ç½®äº†ï¼Œåˆç†çš„åˆ©ç”¨è°ƒè¯•å·¥å…·ï¼Œç”¨åŠ©äºæˆ‘ä»¬é«˜æ•ˆç‡çš„å¼€å‘ã€‚</p>
<blockquote>
<p>ä»Šå¤©æ˜¯1024ï¼Œç¨‹åºå‘˜çš„èŠ‚æ—¥ï¼Œç¥å¤§å®¶èŠ‚æ—¥å¿«ä¹ã€‚</p>
</blockquote>
<p>å‚è€ƒèµ„æ–™åœ¨<a href="http://stackoverflow.com/questions/11170614/viewcontroller-respondstoselector-message-sent-to-deallocated-instance-crash" target="_blank" rel="external">è¿™é‡Œ</a>ï¼Œæ¬¢è¿å¤§å®¶è½¬è½½ï¼Œè¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“ä½ åˆšæ¥æ‰‹ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼ˆå¯¹ä»£ç çš„å†…éƒ¨ç»“æ„è¿˜ä¸æ¸…æ¥šï¼‰ï¼Œå¦‚æœå‡ºç°ä¸€äº›è«åå…¶å¦™çš„å†…å­˜é—®é¢˜ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰é”™è¯¯çš„logæ—¥å¿—ï¼Œè¿™ç§é—®é¢˜æœ‰æ—¶å€™æ˜¯æ¯”è¾ƒéš¾å®šä½çš„ï¼Œæ ¹æœ¬å°±ä¸çŸ¥é“ä»£ç å“ªé‡Œå‡ºç°äº†é—®é¢˜ï¼Œä»Šå¤©åˆšå¥½é‡åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„é—®é¢˜ï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å½“å¯¹é¡¹ç›®ä¸­çš„æŸä¸€æ¨¡å—è¿›è¡Œæ“ä½œçš„æ—¶å€™é‡åˆ°
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="bugs" scheme="http://yoursite.com/tags/bugs/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘å®æˆ˜</title>
    <link href="http://yoursite.com/2016/10/10/wx-progects/"/>
    <id>http://yoursite.com/2016/10/10/wx-progects/</id>
    <published>2016-10-10T03:10:55.000Z</published>
    <updated>2016-10-11T02:23:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>å›½åº†å‰å¤•ï¼Œå¾®ä¿¡å°ç¨‹åºå¼€æ”¾äº†å±€éƒ¨å°æµ‹ï¼Œå„ç§è‡ªåª’ä½“ç–¯ç‹‚çš„ç‚’ä½œï¼Œæ­£çœŸçš„çƒ­çš„ä¸è¡Œã€‚æˆ‘ç”šè‡³çœ‹åˆ°äº†ä¸€ä¸ªå…¬ä¼—å·å®£ä¼ è¦åšå°ç¨‹åºçš„åŸ¹è®­ï¼Œè€Œä¸”è¿˜åªæ˜¯ä¸€å°æ—¶çš„è¯¾ç¨‹ï¼Œå¼€å£å°±ä¸¤åƒå¤§æ´‹ï¼Œå½“æ—¶æˆ‘éƒ½æƒ³å–·é¥­äº†ï¼Œè¿™æ˜¯æ¬ºè´Ÿé‚£äº›æ²¡æœ‰ç¼–ç¨‹ç»éªŒçš„äººçš„å§ã€‚è¶ç€å›½åº†æœ‰æ—¶é—´å­¦ä¹ äº†ä¸€ä¸‹å¾®ä¿¡å°ç¨‹åºçš„APIï¼Œå‚è€ƒä¸€äº›èµ„æ–™ï¼Œç”¨å¾®ä¿¡å°ç¨‹åºåšäº†å‡ ä¸ªå°é¡¹ç›®ï¼Œæ„Ÿè§‰å’Œä»¥å‰å­¦çš„ReactNavativeå¼€å‘æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ã€‚</p>
<ul>
<li>éªšå®¢è®¡ç®—å™¨</li>
</ul>
<p>ç”¨å¾®ä¿¡å°ç¨‹åºæ­å»ºçš„ç®€æ˜“è®¡ç®—å™¨ï¼Œä¸€äº›è®¡ç®—é€»è¾‘å¯èƒ½è¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œä¸è¿‡è¿™ä¸æ˜¯é‡ç‚¹ï¼Œä¸»è¦æ˜¯é€šè¿‡è¿™ä¸ªé¡¹ç›®ç»ƒç»ƒæ‰‹ã€‚é‡Œé¢æ¶‰åŠåˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼šæ•°æ®ç»‘å®šã€é¡µé¢æ¸²æŸ“ã€é€»è¾‘ç»“æ„ã€äº‹ä»¶å“åº”ã€é¡µé¢è·³è½¬ç­‰ã€‚        </p>
<center><br><br><img src="http://oet7ffdgt.bkt.clouddn.com/wx-calculator.jpg" width="25%" height="25%"><br><br></center>



<ul>
<li>éªšå®¢å¤©æ°”</li>
</ul>
<p>ç”¨å¾®ä¿¡å°ç¨‹åºæ­å»ºçš„ç®€æ˜“å¤©æ°”ç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ°å½“å¤©å’Œæœªæ¥ä¸‰å¤©çš„å¤©æ°”æƒ…å†µã€‚é‡Œé¢æ¶‰åŠåˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼šä½ç½®æ¥å£ã€ç½‘ç»œé€šä¿¡ã€ç™¾åº¦åœ°å›¾APIã€å¤©æ°”APIã€æ–¹æ³•å°è£…è°ƒç”¨ï¼ŒFlexå¸ƒå±€ã€æ¨¡æ¿å¤„ç†ã€å¼•ç”¨ã€åˆ—è¡¨æ¸²æŸ“ç­‰ã€‚        </p>
<center><br><br><img src="http://oet7ffdgt.bkt.clouddn.com/wx-weather.jpg" width="25%" height="25%"><br><br></center>        


<p>åç»­è¿˜ä¼šå†™ä¸€äº›ç®€å•çš„å°åº”ç”¨ã€‚        </p>
<p>è¿™äº›é¡¹ç›®ç»Ÿä¸€æ”¾åœ¨githubä¸Šï¼š<a href="https://github.com/corderguo/WX_Projects" target="_blank" rel="external">æˆ³è¿™é‡Œ</a>ï¼Œä»¥åç”¨å¾®ä¿¡å°ç¨‹åºå†™çš„ä¸€äº›åº”ç”¨æˆ‘ä¹Ÿä¼šç»Ÿä¸€æ”¾åˆ°<a href="https://github.com/corderguo/WX_Projects" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å›½åº†å‰å¤•ï¼Œå¾®ä¿¡å°ç¨‹åºå¼€æ”¾äº†å±€éƒ¨å°æµ‹ï¼Œå„ç§è‡ªåª’ä½“ç–¯ç‹‚çš„ç‚’ä½œï¼Œæ­£çœŸçš„çƒ­çš„ä¸è¡Œã€‚æˆ‘ç”šè‡³çœ‹åˆ°äº†ä¸€ä¸ªå…¬ä¼—å·å®£ä¼ è¦åšå°ç¨‹åºçš„åŸ¹è®­ï¼Œè€Œä¸”è¿˜åªæ˜¯ä¸€å°æ—¶çš„è¯¾ç¨‹ï¼Œå¼€å£å°±ä¸¤åƒå¤§æ´‹ï¼Œå½“æ—¶æˆ‘éƒ½æƒ³å–·é¥­äº†ï¼Œè¿™æ˜¯æ¬ºè´Ÿé‚£äº›æ²¡æœ‰ç¼–ç¨‹ç»éªŒçš„äººçš„å§ã€‚è¶ç€å›½åº†æœ‰æ—¶é—´å­¦ä¹ äº†ä¸€ä¸‹å¾®ä¿¡å°ç¨‹åºçš„APIï¼Œå‚è€ƒä¸€äº›èµ„æ–™ï¼Œç”¨å¾®ä¿¡
    
    </summary>
    
      <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://yoursite.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
      <category term="wx" scheme="http://yoursite.com/tags/wx/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡èŠå¤©æ¡†æ¶çš„æ­å»º</title>
    <link href="http://yoursite.com/2016/09/28/iOS-weChat/"/>
    <id>http://yoursite.com/2016/09/28/iOS-weChat/</id>
    <published>2016-09-28T13:52:50.000Z</published>
    <updated>2019-01-21T07:45:55.847Z</updated>
    
    <content type="html"><![CDATA[<p><code>XZ_WeChat</code>é«˜ä»¿å¾®ä¿¡èŠå¤©æ¡†æ¶çš„æ­å»ºï¼Œå·¥ç¨‹åœ°å€ï¼š<a href="https://github.com/corderguo/XZ_WeChat" target="_blank" rel="external">https://github.com/corderguo/XZ_WeChat</a>        </p>
<p>æ•ˆæœå›¾å±•ç¤ºï¼š            </p>
<p><img src="https://img-blog.csdn.net/20160928230616321" alt="1"><br><img src="https://img-blog.csdn.net/20160928230519993" alt="2">        </p>
<p>åšäº†ä¸¤å¹´IMç›¸å…³å·¥ä½œäº†ï¼Œå»å¹´æ˜¯é›†æˆç¯ä¿¡çš„SDKå®ç°çš„IMåŠŸèƒ½ï¼Œä»Šå¹´å…¬å¸æ‹¥æœ‰è‡ªå·±çš„é•¿è¿æ¥æœåŠ¡å™¨ï¼Œäºæ˜¯ä»å¤´è‡ªå·±å®šåè®®ç„¶åä¸€æ­¥æ­¥å®ç°äº†IMçš„æ•´ä½“åŠŸèƒ½ï¼ŒåŸºæœ¬æŠŠå¾®ä¿¡IMæœ‰å…³çš„å†…å®¹éƒ½å®ç°äº†ã€‚æœ€è¿‘å¼€å§‹æ•´ç†è¿‡å»çš„ä¸€äº›çŸ¥è¯†ï¼Œäºæ˜¯å…ˆä»èŠå¤©æ¡†æ¶ä¸‹æ‰‹ï¼Œæ•´ç†å‡ºè¿™ä¸ªç®€æ˜“çš„èŠå¤©æ¡†æ¶ï¼Œæ–¹ä¾¿å¤§å®¶å­¦ä¹ äº¤æµã€‚</p>
<p>è¯¥æ¡†æ¶æ‘˜é™¤äº†æœ¬åœ°ç¼“å­˜çš„åŠŸèƒ½ï¼ˆè¿™éƒ¨åˆ†å†…å®¹å¤ªå¤šäº†ï¼‰ï¼Œé¢„ç•™å¥½ç¼“å­˜çš„æ–¹æ³•ï¼Œä½¿å¾—è¯¥æ¡†æ¶å°½å¯èƒ½çš„ç®€æ´å®ç”¨ï¼Œæ–¹ä¾¿å¤§å®¶å­¦ä¹ ï¼Œæˆ‘ä¹Ÿä¼šé€æ¸æŠŠè¯¥æ¡†æ¶å®Œå–„èµ·æ¥ã€‚    </p>
<p>ç”±äºä½œè€…çš„ç”µè„‘ç¯å¢ƒè¢«æŠ˜è…¾åäº†ï¼Œä¸èƒ½å®‰è£…cocoapodsæ¥ç®¡ç†ä¸€äº›ç”¨åˆ°çš„ä¸‰æ–¹ï¼Œæ‰€ä»¥ç›´æ¥å¯¼å…¥è¿›äº†è¯¥æ¡†æ¶ï¼Œè¿™ä¸€ç‚¹å¤§å®¶ä¸è¦å­¦ä¹ ã€‚</p>
<p>è¯¥æ¡†æ¶ç›®å‰æ”¯æŒçš„æ¶ˆæ¯ç±»å‹ï¼šæ–‡æœ¬æ¶ˆæ¯ï¼ˆåŒ…å«è¡¨æƒ…ï¼‰ï¼Œå›¾ç‰‡æ¶ˆæ¯ï¼Œè¯­éŸ³æ¶ˆæ¯ï¼Œè§†é¢‘æ¶ˆæ¯ï¼Œæ–‡ä»¶æ¶ˆæ¯(pdf,word,excel,ppt,png,htmlç­‰æ ¼å¼)ã€‚</p>
<p>å¦‚æœä½ æƒ³å±•ç¤ºæ–‡ä»¶æ¶ˆæ¯ï¼Œä½ éœ€è¦æŠŠæ–‡ä»¶æ‹·è´åˆ°æ²™ç›’çš„<code>/Library/Caches/Chat/File</code>ç›®å½•ä¸‹,ç”±äºæˆ‘ä»¥å‰æ˜¯ä»PCç«¯å‘é€æ–‡ä»¶åˆ°æ‰‹æœºç«¯è¿›è¡Œçš„å±•ç¤ºï¼Œæ‰€ä»¥ç›®å‰åªèƒ½ä½ æ‰‹åŠ¨æ‹·è´äº†ã€‚</p>
<p>é¡¹ç›®ä¸­å±•ç¤ºçš„è§†é¢‘å·²ç»è½¬æˆäº†<code>mp4</code>ç±»å‹ï¼Œè€Œä¸”ä¹Ÿç»è¿‡äº†å‹ç¼©ï¼Œè¯­éŸ³ä¹Ÿè½¬æ¢æˆäº†<code>amr</code>æ ¼å¼ï¼ŒèŠ‚çœæµé‡çš„åŒæ—¶ï¼Œå¯ä»¥å’Œå®‰å“ç«¯å…¼å®¹ã€‚</p>
<p>ä½ èƒ½ä»è¯¥æ¡†æ¶å­¦ä¹ åˆ°ä»€ä¹ˆï¼š        </p>
<ul>
<li>èŠå¤©æ¡†æ¶çš„æ­å»º</li>
<li>è¡¨æƒ…é”®ç›˜çš„å®ç°</li>
<li>è¯­éŸ³ç›¸å…³çš„çŸ¥è¯†</li>
<li>è§†é¢‘ç›¸å…³çš„çŸ¥è¯†</li>
<li>æ–‡ä»¶ç›¸å…³çš„åŠŸèƒ½</li>
<li>è½¬åœºåŠ¨ç”»ç›¸å…³çš„çŸ¥è¯†</li>
<li>æ•°æ®æ¨¡å‹å’Œå°ºå¯¸æ¨¡å‹åˆ†ç¦»</li>
<li>ä½ èƒ½æ¸…æ¥šçš„äº†è§£åˆ°åœ¨å®æˆ˜é¡¹ç›®ä¸­IMçš„å®ç°    </li>
</ul>
<p>ç›®å‰è¯¥æ¡†æ¶è¿™æ˜¯åˆæ­¥ï¼Œæˆ‘è¿˜æœ‰å¥½å¤šåŠŸèƒ½æ²¡æœ‰åŠ å…¥è¿›å»ï¼Œåç»­ä¼šæ…¢æ…¢åŠ å…¥ï¼ŒåŒ…æ‹¬ï¼š        </p>
<ul>
<li>æ¶ˆæ¯çš„è½¬å‘ã€æ‹·è´ã€æ’¤å›</li>
<li>æ–‡ç« çš„åˆ†äº«</li>
<li>è®¢é˜…å·çš„åŠŸèƒ½</li>
<li>çº¢åŒ…çš„åŠŸèƒ½</li>
<li>æœ¬åœ°ç¼“å­˜çš„åŠŸèƒ½(å…¶å®å¾ˆå¤šåŠŸèƒ½éƒ½è¦åŸºäºæ•°æ®åº“çš„ï¼Œæˆ‘æŠŠæ•°æ®åº“å»é™¤æ‰åï¼Œå¾ˆå¤šåŠŸèƒ½å°±ä¸€å—å»é™¤äº†)</li>
<li>è‰ç¨¿ç®±çš„åŠŸèƒ½</li>
<li>ç­‰ç­‰ç­‰è¿˜æœ‰å¥½å¤šå¥½å¤š</li>
</ul>
<hr>
<p><strong>æ›´æ–°æ—¥å¿—</strong>ï¼š            </p>
<p>10æœˆ8æ—¥ï¼šæ·»åŠ äº†æ¶ˆæ¯çš„æ‹·è´ã€åˆ é™¤ã€æ’¤å›åŠŸèƒ½ï¼Œç”±äºè½¬å‘åŠŸèƒ½éœ€è¦ç”¨åˆ°æ•°æ®åº“æ‰€ä»¥æˆ‘åªæ·»åŠ äº†è½¬å‘çš„UI,ç­‰æ·»åŠ äº†æ•°æ®åº“åå†å®Œå–„ã€‚<code>æ³¨æ„</code>è¿™é‡Œçš„åªæœ‰è‡ªå·±çš„æ¶ˆæ¯å¹¶ä¸”æ˜¯å‘é€æˆåŠŸçš„æ¶ˆæ¯æ‰å¯ä»¥æ’¤å›ï¼Œæˆ‘è¿™é‡Œé™åˆ¶çš„æ˜¯<code>5åˆ†é’Ÿ</code>å†…çš„æ¶ˆæ¯å¯ä»¥æ’¤å›,è¶…è¿‡è§„å®šæ—¶é—´ä¸å…è®¸æ’¤å›ã€‚            </p>
<p>10æœˆ12æ—¥ï¼šæ·»åŠ äº†ç³»ç»Ÿæ¶ˆæ¯ï¼Œå½“æ¶ˆæ¯æ’¤å›çš„æ—¶å€™èŠå¤©ç•Œé¢ä¸Šæç¤ºä¸€æ¡<code>ä½ æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯</code>çš„æç¤ºã€‚å½“å¤šäººèŠå¤©çš„æ—¶å€™ï¼Œå¦‚æœä¸€æ–¹æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯ï¼Œç³»ç»Ÿåº”è¯¥ç»™ä½ å‘é€ä¸€æ¡æŒ‡ä»¤ï¼Œæ ¹æ®è¿™æ¡æŒ‡ä»¤ä½ è¯†åˆ«å‡ºæ˜¯å“ªä¸€æ¡æ¶ˆæ¯è¢«æ’¤å›äº†ï¼Œç„¶ååˆ é™¤è¿™æ¡æ¶ˆæ¯ï¼Œå¹¶ä¸”æ’å…¥ä¸€æ¡<code>è°è°æ’¤å›äº†ä¸€æ¡æ¶ˆæ¯</code>ã€‚</p>
<p>10æœˆ12æ—¥ï¼šé€‚é…xcode8.0ï¼Œè§£å†³bugï¼Œå¦‚æœç”¨xcode8.0çš„æ¨¡æ‹Ÿå™¨è®¿é—®ç›¸å†Œæ—¶å´©æºƒï¼Œåˆ™æ¢æˆçœŸæœºå³å¯ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨å‡çº§åˆ°xcode8.0åé‡åˆ°çš„é—®é¢˜ï¼Œé—®é¢˜å¦‚ä¸‹ï¼š            </p>
<pre><code class="objc">objc[<span class="number">6777</span>]: Class PLBuildVersion is implemented 
<span class="keyword">in</span> both /Applications/Xcode.        
app/Contents/Developer/Platforms/iPhoneSimulator.            
platform/Developer/SDKs/iPhoneSimulator.            
sdk/System/Library/PrivateFrameworks/AssetsLibraryServices.
framework/AssetsLibraryServices (<span class="number">0x1227c3910</span>) and        
/Applications/Xcode.app/Contents/Developer/Platforms
/iPhoneSimulator.platform/Developer/SDKs
/iPhoneSimulator.    
sdk/System/Library/PrivateFrameworks/PhotoLibraryServices.
framework/PhotoLibraryServices (<span class="number">0x1225ed210</span>).                 
One of the two will be used. Which one is undefined.
</code></pre>
<p>å¥‡æ€ªçš„æ˜¯æˆ‘åŸé¡¹ç›®ä¸­æ²¡æœ‰é‡åˆ°è¯¥é—®é¢˜ï¼Œè€ŒæŠ½å‡ºæ¥çš„è¿™ä¸ªèŠå¤©æ¡†æ¶å´é‡åˆ°äº†é—®é¢˜ï¼Œæˆ‘çŒœæƒ³æ˜¯æˆ‘é¡¹ç›®ä¸­ä½¿ç”¨äº†cocoapodsæ¥ç®¡ç†ä¸‰æ–¹ï¼Œè€Œè¯¥èŠå¤©æ¡†æ¶ä¸­æˆ‘æ˜¯ç›´æ¥å¯¼å…¥çš„ï¼Œç¨åæˆ‘ä¼šé›†æˆcocoapodsï¼Œå°è¯•é—®é¢˜çš„è§£å†³ã€‚å¤§å®¶è‹¥æœ‰è§£å†³æ–¹æ³•å¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œå¤§å®¶å…±åŒæé«˜ã€‚</p>
<p>å¦‚æœä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥å’Œæˆ‘ç•™è¨€ï¼Œå¤§å®¶å…±åŒæé«˜ã€‚å¦‚æœè¯¥æ¡†æ¶èƒ½å¸®åŠ©åˆ°ä½ ï¼Œæ¬¢è¿starï¼Œä½ çš„å…³æ³¨æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ï¼Œè°¢è°¢ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;XZ_WeChat&lt;/code&gt;é«˜ä»¿å¾®ä¿¡èŠå¤©æ¡†æ¶çš„æ­å»ºï¼Œå·¥ç¨‹åœ°å€ï¼š&lt;a href=&quot;https://github.com/corderguo/XZ_WeChat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="WeChat" scheme="http://yoursite.com/tags/WeChat/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹å®‰å…¨åŠ å¯†</title>
    <link href="http://yoursite.com/2016/09/02/iOS-security-encrypt/"/>
    <id>http://yoursite.com/2016/09/02/iOS-security-encrypt/</id>
    <published>2016-09-02T02:12:15.000Z</published>
    <updated>2016-09-20T08:42:24.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ•°æ®å®‰å…¨"><a href="#æ•°æ®å®‰å…¨" class="headerlink" title="æ•°æ®å®‰å…¨"></a>æ•°æ®å®‰å…¨</h3><hr>
<p>åœ¨é¡¹ç›®ä¸­å½“æˆ‘ä»¬æäº¤ç”¨æˆ·çš„éšç§æ•°æ®æ—¶ï¼Œæ¯”å¦‚:ç™»é™†å¯†ç ã€é“¶è¡Œè´¦å·ç­‰ï¼Œä¸€å®šè¦ä½¿ç”¨<code>POST</code>è¯·æ±‚æäº¤ç”¨æˆ·çš„è¿™äº›éšç§æ•°æ®ã€‚å› ä¸º<code>GET</code>è¯·æ±‚çš„æ‰€æœ‰å‚æ•°éƒ½ç›´æ¥æš´éœ²åœ¨<code>URL</code>ä¸­ã€‚åŒæ—¶è¯·æ±‚çš„<code>URL</code>ä¸€èˆ¬ä¼šè®°å½•åœ¨æœåŠ¡å™¨çš„è®¿é—®æ—¥å¿—ä¸­ï¼ŒæœåŠ¡å™¨çš„è®¿é—®æ—¥å¿—æ˜¯é»‘å®¢æ”»å‡»çš„é‡ç‚¹å¯¹è±¡ä¹‹ä¸€ã€‚</p>
<p>ä»…ä»…ç”¨<code>POST</code>è¯·æ±‚æäº¤ç”¨æˆ·çš„éšç§æ•°æ®ï¼Œè¿˜æ˜¯ä¸èƒ½å®Œå…¨è§£å†³æ•°æ®å®‰å…¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è½¯ä»¶ï¼ˆæ¯”å¦‚Charlesï¼‰è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼Œæ‹¦æˆªæŸ¥çœ‹æ‰‹æœºçš„è¯·æ±‚æ•°æ®ã€‚å› æ­¤ï¼šæäº¤ç”¨æˆ·çš„éšç§æ•°æ®æ—¶ï¼Œä¸€å®šä¸è¦æ˜æ–‡æäº¤ï¼Œè¦åŠ å¯†å¤„ç†åå†æäº¤ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä¸åº”è¯¥åœ¨æœ¬åœ°ä¿å­˜ç”¨æˆ·çš„éšç§æ•°æ®çš„<code>æ˜æ–‡</code>ã€‚</p>
<h3 id="åŠ å¯†æ–¹æ³•"><a href="#åŠ å¯†æ–¹æ³•" class="headerlink" title="åŠ å¯†æ–¹æ³•"></a>åŠ å¯†æ–¹æ³•</h3><hr>
<p>å¸¸è§çš„åŠ å¯†ç®—æ³•:MD5 \ SHA \ DES \ 3DES \ RC2å’ŒRC4 \ RSA \ IDEA \ DSA \ AESã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°åŠ å¯†ç®—æ³•ï¼Œæˆ‘æŠŠç›®å‰æµè¡Œçš„å‡ ç§åŠ å¯†æ–¹å¼åšä¸‹åˆ†ç±»ï¼š</p>
<ul>
<li><p>å“ˆå¸Œï¼ˆæ•£åˆ—ï¼‰å‡½æ•°</p>
<ul>
<li>MD5ï¼ˆMessage Digest Algorithm 5ï¼Œè¯‘ä¸ºâ€œæ¶ˆæ¯æ‘˜è¦ç®—æ³•ç¬¬5ç‰ˆâ€ï¼‰</li>
<li>SHA1</li>
<li>SHA256            </li>
</ul>
</li>
<li><p>å¯¹ç§°åŠ å¯†ç®—æ³•</p>
<ul>
<li>DES</li>
<li>3DES</li>
<li>AES(é«˜çº§å¯†ç æ ‡å‡†ï¼Œç¾å›½å›½å®¶å®‰å…¨å±€ä½¿ç”¨çš„)</li>
</ul>
</li>
<li><p>éå¯¹ç§°åŠ å¯†ç®—æ³•</p>
<ul>
<li>RSA</li>
</ul>
</li>
</ul>
<blockquote>
<p>é‡ç‚¹è¯´ä¸€ä¸‹æ•£åˆ—å‡½æ•°çš„ç‰¹ç‚¹ï¼š    </p>
</blockquote>
<ul>
<li>ç®—æ³•æ˜¯å…¬å¼€çš„;</li>
<li>å¯¹ç›¸åŒçš„æ•°æ®åŠ å¯†ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„;</li>
<li>å¯¹ä¸åŒçš„æ•°æ®åŠ å¯†ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯å®šé•¿çš„ã€‚ä¾‹å¦‚:MD5å¯¹ä¸åŒçš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯32ä¸ªå­—ç¬¦é•¿åº¦çš„å­—ç¬¦ä¸²;</li>
<li>ä¿¡æ¯æ‘˜è¦ï¼Œä¿¡æ¯â€æŒ‡çº¹â€ï¼Œæ˜¯ç”¨æ¥åšæ•°æ®è¯†åˆ«çš„ï¼æ¯”å¦‚:æœç´¢;</li>
<li>ä¸èƒ½åç®—çš„,å³æ˜¯ä¸å¯é€†çš„ã€‚</li>
</ul>
<p>åˆ©ç”¨è¿™äº›ç‰¹ç‚¹ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­çš„åº”ç”¨:    </p>
<p><code>åŠ å¯†å¯†ç </code>ï¼šæœåŠ¡å™¨å¹¶ä¸éœ€è¦çŸ¥é“ç”¨æˆ·çœŸå®çš„å¯†ç ï¼        </p>
<p><code>æœç´¢</code>ï¼šæ¯”å¦‚ä½ è¦æœç´¢â€œå¼ è€å¸ˆ æ¨è€å¸ˆ è‹è€å¸ˆâ€å’Œâ€œè‹è€å¸ˆ å¼ è€å¸ˆ æ¨è€å¸ˆâ€ï¼Œå…¶å®è¿™ä¸¤ä¸ªè¦æœç´¢çš„å†…å®¹æ‰€è¡¨è¾¾çš„æ„æ€æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥å¦‚ä½•åˆ¤æ–­å‘¢ã€‚æˆ‘ä»¬å¯ä»¥å¯¹æœç´¢çš„æ¯ä¸ªå…³é”®å­—è¿›è¡Œæ•£åˆ—ï¼Œå¾—åˆ°ä¸‰ä¸ªç›¸å¯¹åº”çš„ç»“æœï¼ŒæŒ‰ä½ç›¸åŠ ç»“æœå¦‚æœæ˜¯ä¸€æ ·çš„ï¼Œé‚£æœç´¢çš„å†…å®¹å°±æ˜¯ä¸€æ ·çš„ï¼<br>å¼ è€å¸ˆ            1bdf605991920db11cbdf8508204c4eb<br>æ¨è€å¸ˆ             2d97fbce49977313c2aae15ea77fec0f<br>è‹è€å¸ˆ             692e92669c0ca340eff4fdcef32896ee</p>
<p><code>ç‰ˆæƒ</code>: ç‰ˆæƒä¿æŠ¤ï¼Œæ–‡ä»¶è¯†åˆ«ã€‚ä¾‹å¦‚å¯ä»¥å¯¹æ–‡ä»¶å†…å®¹è¿›è¡ŒMD5ï¼Œç„¶åå¯ä»¥æ ¹æ®è¯¥MD5ä¸²åˆ¤æ–­æ–‡ä»¶å†…å®¹æ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚æˆ‘ä»¥å‰åšIMçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å°±æ˜¯è¿™æ ·åˆ¤æ–­çš„ï¼Œå¦‚æœæ–‡ä»¶å†…å®¹çš„MD5ç›¸åŒï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶å·²ç»åœ¨æœåŠ¡å™¨å­˜åœ¨äº†ï¼Œå°±ä¸ç”¨å†æ¬¡ä¸Šä¼ äº†ã€‚</p>
<p>ç”±äº<code>MD5</code>åŠ å¯†ç®—æ³•å…·æœ‰è¾ƒå¥½çš„å®‰å…¨æ€§ï¼Œè€Œä¸”å…è´¹ï¼Œå› æ­¤è¯¥åŠ å¯†ç®—æ³•è¢«å¹¿æ³›ä½¿ç”¨ã€‚ä¸è¿‡é—æ†¾çš„æ˜¯è¯¥åŠ å¯†ç®—æ³•å·²ç»è¢«æš´åŠ›ç ´è§£äº†,<a href="http://www.cmd5.com" target="_blank" rel="external">http://www.cmd5.com</a>è¯¥ç½‘ç«™è®°å½•è¶…è¿‡24ä¸‡äº¿æ¡ï¼Œå…±å ç”¨160Tç¡¬ç›˜ çš„å¯†ç æ•°æ®ï¼Œé€šè¿‡å¯¹æµ·é‡æ•°æ®çš„æœç´¢å¾—åˆ°çš„ç»“æœï¼    </p>
<p>ä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡æå‡MD5åŠ å¯†çš„å®‰å…¨æ€§ï¼ŒåŠ å¤§è¢«ç ´è§£çš„éš¾åº¦ã€‚    </p>
<p><code>1</code>. åŠ â€œç›â€ï¼ˆä½æ–™ï¼‰ã€‚<br><code>2</code>. HMACï¼šç»™å®šä¸€ä¸ªâ€ç§˜é’¥â€ï¼Œå¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†ï¼Œå¹¶ä¸”åšâ€ä¸¤æ¬¡æ•£åˆ—â€ï¼-&gt; å¾—åˆ°çš„ç»“æœï¼Œè¿˜æ˜¯ 32 ä¸ªå­—ç¬¦ã€‚</p>
<h3 id="RSAåŠ å¯†ç®—æ³•"><a href="#RSAåŠ å¯†ç®—æ³•" class="headerlink" title="RSAåŠ å¯†ç®—æ³•"></a>RSAåŠ å¯†ç®—æ³•</h3><hr>
<p>RSAç®—æ³•ä¸­ï¼Œæ¯ä¸ªé€šä¿¡ä¸»ä½“éƒ½æœ‰ä¸¤ä¸ªé’¥åŒ™ï¼Œä¸€ä¸ªå…¬é’¥ä¸€ä¸ªç§é’¥ã€‚å°±æ˜¯æœ‰2æŠŠé’¥åŒ™ï¼šä½¿ç”¨publicKeyå¯ä»¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä½¿ç”¨Keyæ‰èƒ½å¯¹æ•°æ®è¿›è¡Œè§£å¯†ã€‚    </p>
<p>ç‰¹ç‚¹ï¼šå•æ–¹å‘ä¼ è¾“<br>ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®ï¼Œåªæœ‰ç§é’¥èƒ½è§£å¼€ï¼ˆå¯ç”¨äºåŠ å¯†ï¼‰ï¼›<br>åŒæ—¶ï¼Œä½¿ç”¨ç§é’¥åŠ å¯†çš„æ•°æ®ï¼Œåªæœ‰å…¬é’¥èƒ½è§£å¼€ï¼ˆç­¾åï¼‰ã€‚ä½†æ˜¯é€Ÿåº¦å¾ˆæ…¢ï¼ˆæ¯”ç§é’¥åŠ å¯†æ…¢100åˆ°1000å€ï¼‰ï¼›</p>
<p>å…¬é’¥ä¸ç§é’¥ï¼š            </p>
<p>1.æƒå¨æ•°å­—è®¤è¯æœºæ„ï¼ˆCAï¼‰ç»™æ‰€æœ‰é€šä¿¡ä¸»ä½“ï¼ˆä¸ªäººæˆ–ç»„ç»‡ï¼‰é¢å‘å…¬é’¥å’Œç§é’¥ï¼Œå½¼æ­¤é…å¯¹ï¼Œåˆ†åˆ«å”¯ä¸€ã€‚<br>2.ç§é’¥å¥½æ¯”æ•°å­—æŒ‡çº¹ï¼ŒåŒæ—¶å…·æœ‰è§£å¯†å’ŒåŠ å¯†åŠŸèƒ½ã€‚ä¸ªäººä¿ç®¡ï¼Œä¸å…¬å¼€ã€‚<br>3.å…¬é’¥å¥½æ¯”å®‰å…¨æ€§æé«˜çš„æŒ‚å·ä¿¡ç®±åœ°å€ï¼Œå…¬å¼€ã€‚        </p>
<p>ä¸¾ä¾‹ï¼šè‹¥ç”²æœ‰ä¸€ä»½éœ€ä¿å¯†çš„æ•°å­—å•†ä¸šåˆåŒå‘ç»™ä¹™ç­¾ç½²ã€‚ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼š        </p>
<ol>
<li>ç”²ç”¨ä¹™çš„å…¬é’¥å¯¹åˆåŒåŠ å¯†ã€‚        </li>
<li>å¯†æ–‡ä»ç”²å‘é€åˆ°ä¹™ã€‚        </li>
<li>ä¹™æ”¶åˆ°å¯†æ–‡ï¼Œå¹¶ç”¨è‡ªå·±çš„ç§é’¥å¯¹å…¶è§£å¯†ã€‚        </li>
<li>è§£å¯†æ­£ç¡®ï¼Œç»é˜…è¯»ï¼Œä¹™ç”¨è‡ªå·±çš„ç§é’¥å¯¹åˆåŒè¿›è¡Œç­¾ç½²ã€‚        </li>
<li>ä¹™ç”¨ç”²çš„å…¬é’¥å¯¹å·²ç»ç­¾ç½²çš„åˆåŒè¿›è¡ŒåŠ å¯†ã€‚            </li>
<li>ä¹™å°†å¯†æ–‡å‘ç»™ç”²ã€‚        </li>
<li>ç”²ç”¨è‡ªå·±çš„ç§é’¥å°†å·²ç­¾ç½²åˆåŒè§£å¯†ã€‚        </li>
<li>è§£å¯†æ­£ç¡®ï¼Œç¡®è®¤ç­¾ç½²ã€‚        </li>
</ol>
<p>ä»ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬çŸ¥é“ï¼š            </p>
<ol>
<li>ç”¨å…¬é’¥åŠ å¯†çš„å¯†æ–‡èƒ½ä¸”åªèƒ½ç”¨ä¸å…¶å”¯ä¸€é…å¯¹çš„ç§é’¥æ‰èƒ½è§£å¼€ã€‚        </li>
<li>å¦‚æœæŸä»½å¯†æ–‡è¢«è§£å¼€ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯å¯†æ–‡çš„ç›®æ ‡ä¿¡æ¯ä¸»ä½“è§£å¼€çš„ã€‚        </li>
<li>ç§é’¥å› å…¶å”¯ä¸€æ ‡è¯†æ‰€æœ‰è€…çš„å±æ€§ï¼Œè¢«ç”¨äºæ•°å­—ç­¾åï¼Œå…·æœ‰æ³•å¾‹æ•ˆåŠ›ã€‚        </li>
</ol>
<h3 id="Base64è¡¥å……"><a href="#Base64è¡¥å……" class="headerlink" title="Base64è¡¥å……"></a>Base64è¡¥å……</h3><hr>
<p>1.Base64ç®€å•è¯´æ˜ï¼š<br>æè¿°ï¼šBase64å¯ä»¥æˆä¸ºå¯†ç å­¦çš„åŸºçŸ³ï¼Œéå¸¸é‡è¦ã€‚<br>ç‰¹ç‚¹ï¼šå¯ä»¥å°†ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®è¿›è¡ŒBase64ç¼–ç <br>ç»“æœï¼šæ‰€æœ‰çš„æ•°æ®éƒ½èƒ½è¢«ç¼–ç ä¸ºå¹¶åªç”¨65ä¸ªå­—ç¬¦å°±èƒ½è¡¨ç¤ºçš„æ–‡æœ¬æ–‡ä»¶ã€‚<br>65å­—ç¬¦ï¼šA~Z a~z 0~9 + / =<br>å¯¹æ–‡ä»¶è¿›è¡Œbase64ç¼–ç åæ–‡ä»¶æ•°æ®çš„å˜åŒ–ï¼šç¼–ç åçš„æ•°æ®~=ç¼–ç å‰æ•°æ®çš„4/3ï¼Œä¼šå¤§1/3å·¦å³ã€‚        </p>
<p>2.å‘½ä»¤è¡Œè¿›è¡ŒBase64ç¼–ç å’Œè§£ç ï¼š<br>ç¼–ç ï¼šbase64 123.png -o 123.txt<br>è§£ç ï¼šbase64 123.txt -o test.png -D        </p>
<p>3.Base64ç¼–ç åŸç†ï¼š<br>1)å°†æ‰€æœ‰å­—ç¬¦è½¬åŒ–ä¸º<code>ASCII</code>ç ï¼›<br>2)å°†ASCIIç è½¬åŒ–ä¸º<code>8</code>ä½äºŒè¿›åˆ¶ï¼›<br>3)å°†äºŒè¿›åˆ¶<code>3</code>ä¸ªå½’æˆä¸€ç»„(ä¸è¶³<code>3</code>ä¸ªåœ¨åè¾¹è¡¥<code>0</code>)å…±<code>24</code>ä½ï¼Œå†æ‹†åˆ†æˆ<code>4</code>ç»„ï¼Œæ¯ç»„<code>6</code>ä½ï¼›<br>4)ç»Ÿä¸€åœ¨<code>6</code>ä½äºŒè¿›åˆ¶å‰è¡¥ä¸¤ä¸ª<code>0</code>å‡‘è¶³<code>8</code>ä½ï¼›<br>5)å°†è¡¥<code>0</code>åçš„äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶ï¼›<br>6)ä»Base64ç¼–ç è¡¨è·å–åè¿›åˆ¶å¯¹åº”çš„Base64ç¼–ç ï¼›    </p>
<p>å¤„ç†è¿‡ç¨‹è¯´æ˜ï¼š<br>    a.è½¬æ¢çš„æ—¶å€™ï¼Œå°†ä¸‰ä¸ªbyteçš„æ•°æ®ï¼Œå…ˆåæ”¾å…¥ä¸€ä¸ª<code>24bit</code>çš„ç¼“å†²åŒºä¸­ï¼Œå…ˆæ¥çš„byteå é«˜ä½ã€‚<br>    b.æ•°æ®ä¸è¶³<code>3byte</code>çš„è¯ï¼Œäºç¼“å†²åŒºä¸­å‰©ä¸‹çš„bitç”¨0è¡¥è¶³ã€‚ç„¶åï¼Œæ¯æ¬¡å–å‡º<code>6</code>ä¸ªbitï¼ŒæŒ‰ç…§å…¶å€¼é€‰æ‹©æŸ¥è¡¨é€‰æ‹©å¯¹åº”çš„å­—ç¬¦ä½œä¸ºç¼–ç åçš„è¾“å‡ºã€‚<br>    c.ä¸æ–­è¿›è¡Œï¼Œç›´åˆ°å…¨éƒ¨è¾“å…¥æ•°æ®è½¬æ¢å®Œæˆã€‚<br>    d.å¦‚æœæœ€åå‰©ä¸‹ä¸¤ä¸ªè¾“å…¥æ•°æ®ï¼Œåœ¨ç¼–ç ç»“æœååŠ <code>1</code>ä¸ªâ€œ=â€ï¼›<br>    e.å¦‚æœæœ€åå‰©ä¸‹ä¸€ä¸ªè¾“å…¥æ•°æ®ï¼Œç¼–ç ç»“æœååŠ <code>2</code>ä¸ªâ€œ=â€ï¼›<br>    f.å¦‚æœæ²¡æœ‰å‰©ä¸‹ä»»ä½•æ•°æ®ï¼Œå°±ä»€ä¹ˆéƒ½ä¸è¦åŠ ï¼Œè¿™æ ·æ‰å¯ä»¥ä¿è¯èµ„æ–™è¿˜åŸçš„æ­£ç¡®æ€§ã€‚        </p>
<p> 4.åœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ï¼š        </p>
<p>1ï¼‰ä»iOS7.0 å¼€å§‹ï¼Œè‹¹æœå°±æä¾›äº†base64çš„ç¼–ç å’Œè§£ç æ”¯æŒ<br>2)å¦‚æœæ˜¯è€é¡¹ç›®ï¼Œåˆ™è¿˜èƒ½çœ‹åˆ°base64ç¼–ç å’Œè§£ç çš„ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œå¦‚æœå½“å‰ä¸å†æ”¯æŒiOS7.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œåˆ™å»ºè®®æ›¿æ¢ã€‚</p>
<p>ä»£ç å®ç°ï¼š    </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹è¯¥å­—ç¬¦ä¸²è¿›è¡ŒBase64ç¼–ç ï¼Œç„¶åè¿”å›ç¼–ç åçš„ç»“æœ</span></span><br><span class="line">    -(<span class="built_in">NSString</span> *)base64EncodeString:(<span class="built_in">NSString</span> *)string</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//1.å…ˆæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line">        <span class="built_in">NSData</span> *data = [string dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">        <span class="comment">//2.å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œbase64ç¼–ç ï¼Œè¿”å›ç¼–ç åçš„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">return</span> [data base64EncodedStringWithOptions:<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¯¹base64ç¼–ç åçš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç </span></span><br><span class="line">    -(<span class="built_in">NSString</span> *)base64DecodeString:(<span class="built_in">NSString</span> *)string</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//1.å°†base64ç¼–ç åçš„å­—ç¬¦ä¸²ã€è§£ç ã€ä¸ºäºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line">        <span class="built_in">NSData</span> *data = [[<span class="built_in">NSData</span> alloc]initWithBase64EncodedString:string options:<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//2.æŠŠäºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> [[<span class="built_in">NSString</span> alloc]initWithData:data encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç»ˆç«¯æµ‹è¯•å‘½ä»¤ï¼š            </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> -n A | base64			</span><br><span class="line">$ <span class="built_in">echo</span> -n QQ== |base64 -D</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;æ•°æ®å®‰å…¨&quot;&gt;&lt;a href=&quot;#æ•°æ®å®‰å…¨&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®å®‰å…¨&quot;&gt;&lt;/a&gt;æ•°æ®å®‰å…¨&lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;åœ¨é¡¹ç›®ä¸­å½“æˆ‘ä»¬æäº¤ç”¨æˆ·çš„éšç§æ•°æ®æ—¶ï¼Œæ¯”å¦‚:ç™»é™†å¯†ç ã€é“¶è¡Œè´¦å·ç­‰ï¼Œä¸€å®šè¦ä½¿ç”¨&lt;code&gt;POST&lt;/code&gt;è¯·æ±‚æ
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="security" scheme="http://yoursite.com/tags/security/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºå§”æ‰˜ä»£ç†çš„ä¼˜åŒ–</title>
    <link href="http://yoursite.com/2016/08/20/iOS-delegate_optimized/"/>
    <id>http://yoursite.com/2016/08/20/iOS-delegate_optimized/</id>
    <published>2016-08-20T02:02:04.000Z</published>
    <updated>2016-09-06T06:48:10.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å§”æ‰˜æ¨¡å¼"><a href="#å§”æ‰˜æ¨¡å¼" class="headerlink" title="å§”æ‰˜æ¨¡å¼"></a>å§”æ‰˜æ¨¡å¼</h3><hr>
<p>å¯¹è±¡ä¹‹é—´ç»å¸¸ç›¸äº’é€šä¿¡ï¼Œè€Œé€šä¿¡æ–¹å¼æœ‰å¾ˆå¤šã€‚Object-Cå¼€å‘è€…å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§åå«â€œå§”æ‰˜æ¨¡å¼â€çš„ç¼–ç¨‹è®¾è®¡æ¨¡å¼æ¥å®ç°å¯¹è±¡é—´çš„çš„é€šä¿¡ï¼Œè¯¥æ¨¡å¼çš„ä¸»æ—¨æ˜¯ï¼šå®šä¹‰ä¸€å¥—æ¥å£ï¼ŒæŸå¯¹è±¡è‹¥æƒ³æ¥å—å¦ä¸€ä¸ªå¯¹è±¡çš„å§”æ‰˜ï¼Œåˆ™éœ€éµä»æ­¤æ¥å£ï¼Œä»¥ä¾¿æˆä¸ºå…¶â€œå§”æ‰˜å¯¹è±¡â€ã€‚è€Œè¿™â€œå¦ä¸€ä¸ªå¯¹è±¡â€åˆ™å¯ä»¥ç»™å…¶å§”æ‰˜å¯¹è±¡å›ä¼ ä¸€äº›ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å‘ç”Ÿç›¸å…³äº‹ä»¶æ—¶é€šçŸ¥å§”æ‰˜å¯¹è±¡ã€‚</p>
<p>é€šå¸¸delegateå¯¹è±¡ä¸­çš„æ–¹æ³•åä¹Ÿä¸€å®šè¦èµ·å¾—æ°å½“æ‰è¡Œã€‚æ–¹æ³•ååº”è¯¥å‡†ç¡®æè¿°å½“å‰å‘ç”Ÿçš„äº‹ä»¶ä»¥åŠdelegateå¯¹è±¡ä¸ºä½•è¦è·çŸ¥æ­¤äº‹ä»¶ã€‚åœ¨è°ƒç”¨delegateå¯¹è±¡ä¸­çš„æ–¹æ³•æ—¶ï¼Œæ€»æ˜¯åº”è¯¥æŠŠå‘èµ·å§”æ‰˜çš„å®ä¾‹ä¹Ÿä¸€å¹¶ä¼ å…¥æ–¹æ³•ä¸­ï¼Œè¿™æ ·ï¼Œdelegateå¯¹è±¡åœ¨å®ç°ç›¸å…³æ–¹æ³•æ—¶ï¼Œå°±èƒ½æ ¹æ®ä¼ å…¥çš„å®ä¾‹åˆ†åˆ«æ‰§è¡Œä¸åŒçš„ä»£ç äº†ã€‚è‹¥æ²¡æœ‰æ­¤ä¿¡æ¯ï¼Œåˆ™å§”æ‰˜å¯¹è±¡åœ¨åŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€å¥—é€»è¾‘ï¼Œè¿™ä¹ˆåšä¸å¤ªå¥½ã€‚</p>
<h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><hr>
<p>åœ¨å®ç°å§”æ‰˜æ¨¡å¼æ—¶ï¼Œå¦‚æœåè®®ä¸­çš„æ–¹æ³•æ˜¯å¯é€‰å¾—ï¼Œé‚£ä¹ˆå°±ä¼šå†™å‡ºä¸€å¤§æ‰¹ç±»ä¼¼ä¸‹é¢çš„ä»£ç æ¥ï¼š    </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([_delegate respondsToSelector:@selector(someClassDidSomething:)])</span><br><span class="line">&#123;</span><br><span class="line">	[_delegate someClassDidSomething];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆå®¹æ˜“ç”¨ä»£ç æŸ¥å‡ºæŸä¸ªå§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å“åº”ç‰¹å®šçš„é€‰æ‹©å­ï¼Œå¯æ˜¯å¦‚æœé¢‘ç¹æ‰§è¡Œæ­¤æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆé™¤äº†ç¬¬ä¸€æ¬¡æ£€æµ‹çš„ç»“æœæœ‰ç”¨ä¹‹å¤–ï¼Œåç»­çš„æ£€æµ‹å¯èƒ½éƒ½æ˜¯å¤šä½™çš„ã€‚å¦‚æœå§”æ‰˜å¯¹è±¡æœ¬èº«æ²¡å˜ï¼Œé‚£ä¹ˆä¸å¤ªå¯èƒ½ä¼šçªç„¶å“åº”æŸä¸ªåŸæ¥ä¸èƒ½å“åº”çš„é€‰æ‹©å­ï¼Œä¹Ÿä¸å¤ªä¼šçªç„¶æ— æ³•å“åº”æŸä¸ªåŸæ¥å¯ä»¥å“åº”çš„é€‰æ‹©å­ã€‚é‰´äºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå§”æ‰˜å¯¹è±¡èƒ½å¦å“åº”æŸä¸ªåè®®æ–¹æ³•è¿™ä¸€ä¿¡æ¯ç¼“å­˜èµ·æ¥ï¼Œä»¥ä¼˜åŒ–ç¨‹åºæ•ˆç‡ã€‚</p>
<p>å°†æ–¹æ³•å“åº”èƒ½åŠ›ç¼“å­˜èµ·æ¥çš„æœ€ä½³é€”å¾„æ˜¯ä½¿ç”¨â€œä½æ®µâ€æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç»“æ„ä½“ä¸­çš„å­—æ®µå ç”¨çš„äºŒè¿›åˆ¶ä½ä¸ªæ•°è®¾ä¸ºä¸€ä¸ªå­—èŠ‚ï¼Œä»è€Œç”¨0å’Œ1è¡¨ç¤ºæ–¹æ³•æ˜¯å¦è¢«å“åº”ã€‚</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>åœ¨â€œclass-continuationåˆ†ç±»â€ä¸­æ–°å¢å®ä¾‹å˜é‡ï¼Œè¿™ä¸ªæ–°å¢çš„å®ä¾‹å˜é‡æ˜¯ä¸ªç»“æ„ä½“ï¼Œç”¨æ¥ç¼“å­˜æ–¹æ³•çš„å“åº”ä¸å¦ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">struct&#123;</span><br><span class="line">	unsigned int didReceiveData     : 1;</span><br><span class="line">	unsigned int didFailWithError   : 1;</span><br><span class="line">&#125; _delegateFlags;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç»“æ„ä½“ç”¨æ¥ç¼“å­˜å§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å“åº”ç‰¹å®šçš„é€‰æ‹©å­ã€‚å®ç°ç¼“å­˜åŠŸèƒ½æ‰€ç”¨çš„ä»£ç å¯ä»¥å†™åœ¨delegateå±æ€§æ‰€å¯¹åº”çš„è®¾ç½®æ–¹æ³•é‡Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-(void)<span class="built_in">set</span>Delegate:(id&lt;GXZNetWorkFetcher&gt;)delegate &#123;</span><br><span class="line">	_delegate = delegate;</span><br><span class="line">	_delegateFlags.didReceiveData   = </span><br><span class="line">		[delegate respondsToSelector:@selector(networkFetcher:didReceiveData:)];</span><br><span class="line">	_delegateFlags.didFailWithError = </span><br><span class="line">		[delegate respondsToSelector:@selector(networkFetcher:didFailWithError:)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„è¯ï¼Œæ¯æ¬¡è°ƒç”¨delegateçš„ç›¸å…³æ–¹æ³•ä¹‹å‰ï¼Œå°±ä¸ç”¨æ£€æµ‹å§”æ‰˜å¯¹è±¡æ˜¯å¦èƒ½å“åº”ç»™å®šçš„é€‰æ‹©å­äº†ï¼Œè€Œæ˜¯ç›´æ¥æŸ¥è¯¢ç»“æ„ä½“é‡Œçš„æ ‡å¿—ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-(_delegateFlags.didReceiveData) &#123;</span><br><span class="line">	[_dlegate networkFetcher:self didReceiveData:data];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ç›¸å…³æ–¹æ³•è¦è°ƒç”¨å¾ˆå¤šæ¬¡æ—¶ï¼Œå€¼å¾—è¿›è¡Œè¿™ç§ä¼˜åŒ–ã€‚è€Œæ˜¯å¦éœ€è¦ä¼˜åŒ–ï¼Œåˆ™åº”ä¾ç…§å…·ä½“ä»£ç æ¥å®šã€‚è¿™å°±éœ€è¦åˆ†æä»£ç æ€§èƒ½ï¼Œå¹¶æ‰¾å‡ºç“¶é¢ˆï¼Œè‹¥å‘ç°æ‰§è¡Œé€Ÿåº¦éœ€è¦æ”¹è¿›ï¼Œåˆ™å¯ä½¿ç”¨æ­¤æŠ€å·§ã€‚å¦‚æœé¢‘ç¹çš„é€šè¿‡æ•°æ®æºåè®®ä»æ•°æ®æºä¸­è·å–å¤šä»½ç›¸äº’ç‹¬ç«‹çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™é¡¹ä¼˜åŒ–æŠ€æœ¯ææœ‰å¯èƒ½å°±ä¼šæé«˜ç¨‹åºæ•ˆç‡ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å§”æ‰˜æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å§”æ‰˜æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;å§”æ‰˜æ¨¡å¼&quot;&gt;&lt;/a&gt;å§”æ‰˜æ¨¡å¼&lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;å¯¹è±¡ä¹‹é—´ç»å¸¸ç›¸äº’é€šä¿¡ï¼Œè€Œé€šä¿¡æ–¹å¼æœ‰å¾ˆå¤šã€‚Object-Cå¼€å‘è€…å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§åå«â€œå§”æ‰˜æ¨¡å¼â€çš„ç¼–ç¨‹è®¾è®¡æ¨¡å¼æ¥å®ç°å¯¹
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä½¿ç”¨AVAudioPlayeré‡åˆ°çš„å¥‡è‘©é—®é¢˜</title>
    <link href="http://yoursite.com/2016/08/10/bugs-AvAudioPlayer/"/>
    <id>http://yoursite.com/2016/08/10/bugs-AvAudioPlayer/</id>
    <published>2016-08-10T13:16:15.000Z</published>
    <updated>2016-08-18T06:54:50.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æœ€è¿‘åœ¨åšIMä¸­æ–‡ä»¶å‘é€çš„åŠŸèƒ½ï¼Œå…¶ä¸­æ¶‰åŠåˆ°äº†å‘é€éŸ³é¢‘æ ¼å¼çš„æ–‡ä»¶ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨äº†æˆ‘ä¹‹å‰å°è£…çš„æ’­æ”¾éŸ³é¢‘çš„å·¥å…·ç±»ï¼Œè¿™ä¸ªå·¥<br>å…·ç±»æ˜¯ç”¨æ¥æ’­æ”¾IMçš„è¯­éŸ³çš„ï¼Œä½†æ˜¯æˆ‘åœ¨æ’­æ”¾æ–‡ä»¶ä¸­çš„è¯­è¨€æ—¶å´é‡åˆ°äº†ä¸€ä¸ªå¥‡è‘©é—®é¢˜ã€‚    </p>
</blockquote>
<p>æˆ‘å¼€å§‹æ’­æ”¾éŸ³é¢‘çš„æ’­æ”¾ä»£ç å¦‚ä¸‹ï¼š    </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.player = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:recorderPath] error:nil];</span><br><span class="line">    self.player.numberOfLoops = 0;</span><br><span class="line">    [self.player prepareToPlay];</span><br><span class="line">    self.player.delegate = self;</span><br><span class="line">    [self.player play];</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¼€å§‹æ’­æ”¾è¯­éŸ³çš„æ—¶å€™ï¼Œç¨‹åºå§‹ç»ˆåœåœ¨åˆå§‹åŒ–è¿™å¥ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.player = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:recorderPath] error:nil];</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨Xcodeä¸Šä½¿ç¨‹åºå¼ºåˆ¶è¿è¡Œè¿‡å»ï¼Œè¿™æ ·ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼Œæ²¡æœ‰ä»»ä½•å½±å“ï¼Œè¿™å°±å¥‡äº†æ€ªäº†ã€‚äºæ˜¯æˆ‘åœ¨<font color="green">stackoverflow</font>ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ:<br><img src="http://upload-images.jianshu.io/upload_images/1389022-a81ead68cba8f0c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å›¾ç‰‡">    </p>
<p>åŸæ¥æ˜¯æˆ‘åœ¨XCodeä¸­è®¾ç½®äº†å…¨å±€æ–­ç‚¹ï¼Œå¯¼è‡´audioæ— æ³•æ’­æ”¾ï¼Œï¼ˆä½†æ˜¯æˆ‘è¿™é‡Œå°±æœ‰ç–‘é—®äº†ï¼ŒåŒä¸€ä¸ªå·¥å…·ç±»ä¸ºä»€ä¹ˆæˆ‘æ’­æ”¾IMä¸­å½•éŸ³æ—¶æ²¡æœ‰é—®é¢˜ï¼Œåˆ°è¿™é‡Œå°±æœ‰é—®é¢˜äº†å‘¢ï¼Ÿï¼‰äºæ˜¯æˆ‘æŠŠå…¨å±€æ–­ç‚¹å»æ‰åï¼Œç¨‹åºæœæ–­æ­£å¸¸è¿è¡Œäº†ã€‚        </p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><hr>
<p>ä»¥åé‡åˆ°å¼‚å¸¸ç»ˆæ­¢çš„æƒ…å†µï¼ˆ<strong>æ³¨æ„</strong>ä¸æ˜¯å‡ºé”™ï¼Œå¯ä»¥æ‰‹åŠ¨ä½¿ç¨‹åºç»§ç»­æ­£å¸¸è¿è¡Œï¼‰ï¼Œå¯ä»¥å°è¯•ç§»é™¤å…¨å±€æ–­ç‚¹çš„æ–¹æ³•ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ€è¿‘åœ¨åšIMä¸­æ–‡ä»¶å‘é€çš„åŠŸèƒ½ï¼Œå…¶ä¸­æ¶‰åŠåˆ°äº†å‘é€éŸ³é¢‘æ ¼å¼çš„æ–‡ä»¶ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨äº†æˆ‘ä¹‹å‰å°è£…çš„æ’­æ”¾éŸ³é¢‘çš„å·¥å…·ç±»ï¼Œè¿™ä¸ªå·¥&lt;br&gt;å…·ç±»æ˜¯ç”¨æ¥æ’­æ”¾IMçš„è¯­éŸ³çš„ï¼Œä½†æ˜¯æˆ‘åœ¨æ’­æ”¾æ–‡ä»¶ä¸­çš„è¯­è¨€æ—¶å´é‡åˆ°äº†ä¸€ä¸ªå¥‡è‘©é—®é¢˜ã€‚    &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="bugs" scheme="http://yoursite.com/tags/bugs/"/>
    
  </entry>
  
  <entry>
    <title>æ²‰ç—›æ‚¼å¿µCSDNåšä¸»ã€å¹´ä»…26å²çš„éŸ³è§†é¢‘ä¸“å®¶é›·éœ„éª…</title>
    <link href="http://yoursite.com/2016/08/04/meidia-person/"/>
    <id>http://yoursite.com/2016/08/04/meidia-person/</id>
    <published>2016-08-04T04:30:07.000Z</published>
    <updated>2016-08-04T05:55:56.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://img.blog.csdn.net/20160804134857626" alt=""></p>
<p>CSDNçš„è€æœ‹å‹ã€è¿ç»­ä¸¤å±ŠCSDNåšå®¢ä¹‹æ˜Ÿã€å¾®è½¯MVPã€åšå®¢æ’å52ä½ã€åœ¨ä¸­å›½ä¼ åª’å¤§å­¦é€šä¿¡ä¸ä¿¡æ¯ç³»ç»Ÿä¸“ä¸šæ”»è¯»åšå£«çš„é›·éœ„éª…ï¼Œäº2016å¹´7æœˆ17æ—¥å‡Œæ™¨çŒæ­»åœ¨å­¦æ ¡ä¸»æ¥¼äº”å±‚ï¼Œå¹¶äº7æœˆ23å·å®‰è‘¬ã€‚æ®ç›¸å…³æŠ¥é“ç§°ï¼Œäº‹å‘å‰é›·éœ„éª…ä¸€ç›´æ³¡åœ¨å®éªŒå®¤å¿™ç¢Œï¼Œæ€€ç–‘å…¶æ˜¯åŠ³ç´¯è¿‡åº¦å¯¼è‡´çŒæ­»ã€‚        </p>
<p>CSDNå¤±å»äº†ä¸€ä½äº²å¯†çš„å‹äººï¼Œæˆ‘ä»¬å¤±å»äº†ä¸€ä½æ·±å—ç½‘å‹çˆ±æˆ´çš„â€œé›·å¤§ç¥â€åšä¸»ã€‚æœ€åˆå½“å¤§å®¶çœ‹åˆ°è¿™åˆ™æ–°é—»æ—¶ï¼Œé™¤äº†ä¸æ•¢ç›¸ä¿¡ä¸€å†ç¡®è®¤å¤–ï¼Œå‰©ä¸‹çš„åªæœ‰å¿ƒç—›ã€‚ä¼—å¤šç½‘å‹ä¹Ÿè‡ªå‘åœ°åœ¨å¤šä¸ªå¹³å°è¡¨è¾¾äº†è‡ªå·±çš„æ‚¼å¿µä¹‹æƒ…ã€‚<br><img src="http://img.blog.csdn.net/20160804085950156" alt=""></p>
<p>é€è€…çš„åšå®¢åœ°å€ï¼š<a href="http://blog.csdn.net/leixiaohua1020" target="_blank" rel="external">http://blog.csdn.net/leixiaohua1020</a>,æˆ‘å¾ˆä¹…ä»¥å‰å°±å…³æ³¨äº†é›·ç¥çš„åšå®¢ï¼Œé›·ç¥çš„æ–‡ç« è®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚        </p>
<p>éœ„éª…çš„åšå®¢ä¸ºå¾ˆå¤šäººæ‰€çŸ¥ï¼Œåœ¨ä»–çš„åšå®¢ä¸Šï¼Œæœ‰è¿™æ ·ä¸€æ®µè‡ªæˆ‘ä»‹ç»ã€Œä¸»è¦ä»äº‹ä¸å¹¿æ’­ç”µè§†æœ‰å…³çš„è§†éŸ³é¢‘æŠ€æœ¯çš„ç ”ç©¶ã€‚åŒ…æ‹¬è§†éŸ³é¢‘è´¨é‡è¯„ä»·ï¼Œè§†éŸ³é¢‘ç¼–è§£ç ï¼Œæµåª’ä½“ï¼Œåª’èµ„æ£€ç´¢ç­‰ã€‚ã€æˆªæ­¢ç¬”è€…å‘ç¨¿ï¼Œè¿™ä¸€åˆ»CSDNä¸Šéœ„éª…çš„åšå®¢æ•°æ®ä¸ºï¼š    </p>
<ul>
<li>è®¿é—®ï¼š4354295æ¬¡</li>
<li>ç§¯åˆ†ï¼š43750</li>
<li>ç­‰çº§ï¼š8</li>
<li><p>æ’åï¼šç¬¬52å</p>
</li>
<li><p>åŸåˆ›ï¼š375ç¯‡</p>
</li>
<li><p>è½¬è½½ï¼š159ç¯‡</p>
</li>
<li>è¯‘æ–‡ï¼š28ç¯‡</li>
<li>è¯„è®ºï¼š4985æ¡    </li>
</ul>
<p>ä»æ­¤ï¼Œè¿™äº›æ•°æ®å°†ä¼šç°è‰²å®šæ ¼ï¼<br>æˆ‘ä»¬æ„Ÿè°¢éœ„éª…åšå‡ºçš„å·¨å¤§è´¡çŒ®ï¼è€Œè®¤è¯†é›·éœ„éª…ï¼Œè¿˜å¯ä»¥ä»ä»–çš„ç›¸å…³ä¸“æ å’Œå¼€æºé¡¹ç›®ä¸­åšæ›´æ·±å…¥äº†è§£ï¼š<br>ä¸“æ :        </p>
<blockquote>
<p>FFmpegï¼ˆ135ç¯‡ï¼‰    </p>
<ul>
<li>å¼€æºå¤šåª’ä½“é¡¹ç›®æºä»£ç åˆ†æï¼ˆ91ç¯‡ï¼‰        </li>
<li>è§†é¢‘è´¨é‡è¯„ä»·ï¼ˆ41ç¯‡ï¼‰</li>
</ul>
</blockquote>
<p>å¼€æºé¡¹ç›®åˆ—è¡¨ :            </p>
<blockquote>
<ul>
<li>[SourceForge]ï¼š<a href="https://sourceforge.net/u/leixiaohua1020/wiki/" target="_blank" rel="external">https://sourceforge.net/u/leixiaohua1020/wiki/</a><br>[Github]ï¼š<a href="http://leixiaohua1020.github.io/" target="_blank" rel="external">http://leixiaohua1020.github.io/</a></li>
<li>TIandSIï¼šæœ¬å·¥å…·ç”¨äºè®¡ç®—è§†é¢‘çš„æ—¶é—´ä¿¡æ¯ï¼ˆTIï¼Œä¹Ÿç§°ä¸ºæ—¶é—´å¤æ‚åº¦ï¼‰ï¼Œä»¥åŠç©ºé—´ä¿¡æ¯ï¼ˆSIï¼Œä¹Ÿç§°ä¸ºç©ºé—´å¤æ‚åº¦ï¼‰ï¼Œä»¥ä¸Šä¸¤ä¸ªæŒ‡æ ‡å–è‡ªäºITU-R BT.1788æ ‡å‡†ã€‚</li>
<li>VideoEyeï¼šä¸€ä¸ªå¼€æºçš„è§†é¢‘åˆ†æçš„è½¯ä»¶ã€‚æœ¬è½¯ä»¶å¯ä»¥æ’­æ”¾å’Œåˆ†æè§†é¢‘æ•°æ®ã€‚å®ƒæ”¯æŒå¤šç§è§†é¢‘æµè¾“å…¥æ–¹å¼ï¼šHTTPï¼ŒRTMPï¼ŒRTSPä»¥åŠæ–‡ä»¶ç­‰ç­‰ã€‚è¯¥è½¯ä»¶å¯ä»¥å®æ—¶åˆ†æè§†é¢‘æµå¹¶èƒ½ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å‘ˆç°å…¶åˆ†æç»“æœã€‚ç›®å‰è¯¥è½¯ä»¶è¿˜å¤„äºå®Œå–„é˜¶æ®µã€‚</li>
</ul>
</blockquote>
<p>CSDNåšå®¢è¿è¥äººå‘˜å›å¿†ï¼šâ€œä¸€ç›´ä»¥æ¥ï¼Œä¸éœ„éª…çš„æ¥è§¦éƒ½åœ¨QQä¸Šï¼Œç¬¬ä¸€æ¬¡è§é¢ï¼Œæ˜¯åœ¨CSDNè€å‹è®°çš„æ´»åŠ¨ä¸Šã€‚åœ¨æˆ‘çš„å°è±¡ä¸­ï¼Œä»–æ˜¯ä½è°ƒã€å†…æ•›çš„ç”·å­©ï¼Œä»–çš„ç¬‘å®¹å¾ˆçœŸå®ï¼Œä¹Ÿèƒ½æ‰“åŠ¨äººï¼Œå¾ˆçœŸè¯šã€ä¹äºå¸®åŠ©åˆ«äººçš„ä¸€ä½åšå®¢ä¸“å®¶ã€‚â€è€Œéœ„éª…ä¹Ÿå†™äº†ç¯‡å°çŸ­æ–‡åšè®°å½•ï¼Œè¡¨ç¤ºä¸è™šæ­¤è¡Œã€‚        </p>
<p>éœ„éª…åœ¨14å¹´5æœˆ31æ—¥æ­£å¼æˆä¸ºåšå®¢ä¸“å®¶ï¼Œä»–æ“…é•¿çš„æŠ€æœ¯å½“æ—¶åœ¨CSDNä¸Šå†…å®¹è¿˜ä¸ç®—å¾ˆå¤šï¼Œæ‰€ä»¥ç³»åˆ—æ›´æ–°ä¸€ä¸‹å­å¸å¼•äº†å¾ˆå¤šäººæ¥æµè§ˆå’Œè®¨è®ºã€‚ä»–çš„åšå®¢å¸®åŠ©äº†å¾ˆå¤šäººï¼Œé™¤äº†åœ¨åšå®¢ä¸Šå›å¤å¤§å®¶çš„é—®é¢˜ï¼Œä»¥åŠè¿˜æœ‰è‡ªå·±çš„æŠ€æœ¯äº¤æµç¾¤ï¼Œæ—¨åœ¨ä¸ºè§†éŸ³é¢‘æŠ€æœ¯åŒè¡Œæ–¹ä¾¿äº¤æµæä¾›ä¸€ä¸ªå¹³å°ã€‚æ— è®ºæ˜¯å®éªŒå®¤ã€ç”µè§†å°ã€äº’è”ç½‘è§†é¢‘ã€å®‰é˜²ã€æ’­æ”¾å™¨ã€åª’ä½“ä¸­å¿ƒç­‰éƒ½å¯ä»¥åŠ å…¥è®¨è®ºã€‚ä»–è®¤ä¸ºå¤šäº¤æµå¯ä»¥æ›´å¿«çš„è¿›æ­¥~        </p>
<p>ä¹äºåˆ†äº«æŠ€æœ¯çš„ä»–ï¼Œåœ¨è§†éŸ³é¢‘æŠ€æœ¯åšå‡ºäº†å·¨å¤§è´¡çŒ®çš„ä»–ï¼Œå½“ä¹‹æ— æ„§åœ°è¿ç»­ä¸¤å¹´è·å¾—CSDNå¹´åº¦åšå®¢ä¹‹æ˜Ÿç§°å·ã€‚        </p>
<p>å°±åœ¨ä»Šå¹´ä¸ŠåŠå¹´ï¼ŒCSDNæ›¾é‚€è¯·éœ„éª…æˆä¸ºå…¶ç­¾çº¦ä½œè€…ï¼Œå½“æ—¶éœ„éª…æåˆ°æœ€è¿‘è¦å¿™ç€å†™æ¯•ä¸šè®¾è®¡ï¼Œå·¥ä½œäººå‘˜ä¸€ç›´åœ¨ç­‰ä»–å¿™å®Œè¿™é˜µå­ã€‚ç»“æœï¼Œè¿™ä¸ªå™©è€—æ— æƒ…åœ°åˆ°æ¥ã€‚        </p>
<p>æ–¯äººå·²å»ï¼Œå¯¹äºéœ„éª…åšæ–‡å‡ºä¹¦ä»¥åŠå®¶äººå·å¬æˆç«‹åŸºé‡‘ä¼šäº‹å®œï¼ŒCSDNè¡¨ç¤ºéƒ½ä¼šå…¨åŠ›æ”¯æŒååŠ©ã€‚æˆ‘ä»¬åœ¨æ²‰ç—›æ‚¼å¿µéœ„éª…çš„åŒæ—¶ï¼Œä¹Ÿå‘¼åæ‰€æœ‰æŠ€æœ¯å¼€å‘è€…ä»¬ï¼Œä¸€å®šè¦ç…§é¡¾å¥½è‡ªå·±çš„èº«ä½“ï¼Œè¿œç¦»ç—…ç—›æŠ˜ç£¨ï¼    </p>
<p>å¸Œæœ›å¤©å ‚é‡Œéœ„éª…ä¸€åˆ‡å®‰å¥½ï¼    </p>
<p>å¸Œæœ›ä»äº‹ITè¡Œä¸šçš„äººå‘˜éƒ½è¦æ³¨é‡èº«ä½“çš„å¥åº·ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20160804134857626&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;CSDNçš„è€æœ‹å‹ã€è¿ç»­ä¸¤å±ŠCSDNåšå®¢ä¹‹æ˜Ÿã€å¾®è½¯MVPã€åšå®¢æ’å52ä½ã€åœ¨ä¸­å›½ä¼ åª’å¤§å­¦é€šä¿¡ä¸ä¿¡æ¯ç³»ç»Ÿä¸“ä¸šæ”»è¯»åšå£«çš„é›·éœ„éª…ï¼Œäº2016å¹´7
    
    </summary>
    
      <category term="èµ„è®¯" scheme="http://yoursite.com/categories/%E8%B5%84%E8%AE%AF/"/>
    
    
      <category term="media" scheme="http://yoursite.com/tags/media/"/>
    
  </entry>
  
  <entry>
    <title>iOSå¼€å‘å„ç§æƒé™é—®é¢˜(ç›¸æœºã€å½•éŸ³ç­‰)</title>
    <link href="http://yoursite.com/2016/08/02/iOS-authorization/"/>
    <id>http://yoursite.com/2016/08/02/iOS-authorization/</id>
    <published>2016-08-02T09:13:02.000Z</published>
    <updated>2016-08-02T09:52:08.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><hr>
<p>åœ¨iOSå¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šè°ƒç”¨ç³»ç»Ÿç›¸æœºå’Œéº¦å…‹é£ï¼Œä½†æ˜¯è¿™äº›æƒé™éƒ½æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ï¼Œå½“APPæ²¡æœ‰æƒé™è°ƒç”¨è¿™äº›æ‰‹æœºèµ„æºï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰åˆ¤æ–­ï¼Œç›´æ¥å»è°ƒç”¨äº†ï¼Œè¿™æ ·ä¼šå‡ºç°é—®é¢˜ã€‚        </p>
<h3 id="éº¦å…‹é£æƒé™"><a href="#éº¦å…‹é£æƒé™" class="headerlink" title="éº¦å…‹é£æƒé™"></a>éº¦å…‹é£æƒé™</h3><hr>
<p>æˆ‘åœ¨é¡¹ç›®ä¸­å¼€å‘IMçš„å½•éŸ³åŠŸèƒ½çš„æ—¶å€™ï¼Œæ²¡æœ‰åˆ¤æ–­å½“å‰APPæ˜¯å¦æ‹¥æœ‰å“åº”çš„æƒé™ï¼Œå¯¼è‡´å½•åˆ¶å¤±è´¥ï¼ˆå½•åˆ¶å‡ºæ¥æ˜¯0kbï¼Œé•¿åº¦ä¹Ÿæ˜¯0æ¯«ç§’ï¼‰ã€‚ä¸ºæ­¤æˆ‘åœ¨å·¥å…·ç±»ä¸­ï¼Œæ·»åŠ äº†éº¦å…‹é£æƒé™çš„åˆ¤æ–­æ–¹æ³•ï¼Œå½“ç”¨æˆ·å»å½•éŸ³çš„æ—¶å€™ï¼Œå¦‚æœæ£€æµ‹åˆ°æ²¡æœ‰å“åº”çš„éº¦å…‹é£æƒé™ï¼Œåˆ™æç¤ºç”¨æˆ·åˆ°æ‰‹æœºçš„è®¾ç½®é¡µé¢æ‰“å¼€éº¦å…‹é£çš„æƒé™ï¼Œå½“ç”¨æƒé™çš„æ—¶å€™ç›´æ¥å½•åˆ¶å°±å¯ä»¥äº†ã€‚   </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)canRecord</span><br><span class="line">&#123;</span><br><span class="line">    __block BOOL bCanRecord = YES;</span><br><span class="line">    <span class="keyword">if</span> ([[[UIDevice currentDevice] systemVersion] compare:@<span class="string">"7.0"</span>] != NSOrderedAscending)</span><br><span class="line">    &#123;</span><br><span class="line">        AVAudioSession *audioSession = [AVAudioSession sharedInstance];</span><br><span class="line">        <span class="keyword">if</span> ([audioSession respondsToSelector:@selector(requestRecordPermission:)]) &#123;</span><br><span class="line">            [audioSession performSelector:@selector(requestRecordPermission:) withObject:^(BOOL granted) &#123;</span><br><span class="line">                bCanRecord = granted;</span><br><span class="line">            &#125;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> bCanRecord;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç›¸æœºæƒé™"><a href="#ç›¸æœºæƒé™" class="headerlink" title="ç›¸æœºæƒé™"></a>ç›¸æœºæƒé™</h3><hr>
<p>åŒæ ·åœ¨å¼€å‘IMçš„å°è§†å±(å’Œå¾®ä¿¡å°è§†å±ä¸€æ ·)åŠŸèƒ½çš„æ—¶å€™ä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œåœ¨æ²¡æœ‰åˆ¤æ–­ç›¸æœºæƒé™çš„å‰æä¸‹ï¼Œæˆ‘æ‰‹åŠ¨å…³æ‰äº†APPçš„ç›¸æœºè®¿é—®æƒé™ï¼Œåˆ™æˆ‘å½•åˆ¶è§†é¢‘çš„æ—¶å€™çš„é¢„è§ˆé¡µé»‘ä¹ä¹ä¸€ç‰‡ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼ŒåŒæ ·æ²¡åŠæ³•å½•åˆ¶ï¼Œè¿™ç»™ç”¨æˆ·çš„ä½“éªŒéå¸¸å·®ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨ç³»ç»Ÿèµ„æºçš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆåˆ¤æ–­æ˜¯å¦æ‹¥æœ‰ç›¸åº”çš„æƒé™ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„åˆ¤æ–­ç›¸æœºæƒé™çš„ä»£ç ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)canRecordViedo</span><br><span class="line">&#123;</span><br><span class="line">    NSString *mediaType = AVMediaTypeVideo;</span><br><span class="line">    AVAuthorizationStatus authStatus = [AVCaptureDevice authorizationStatusForMediaType:mediaType];</span><br><span class="line">    <span class="keyword">if</span> (authStatus == AVAuthorizationStatusRestricted || authStatus == AVAuthorizationStatusDenied)&#123;</span><br><span class="line">        <span class="built_in">return</span> NO;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> YES;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç›¸å†Œæƒé™"><a href="#ç›¸å†Œæƒé™" class="headerlink" title="ç›¸å†Œæƒé™"></a>ç›¸å†Œæƒé™</h3><hr>
<p>å…¶å®è¯¥æƒé™ä¸å»åˆ¤æ–­ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºå½“ä½ æ²¡æœ‰ç›¸å†Œæƒé™è€Œå»è°ƒç”¨æœ¬æœºç›¸å†Œçš„æ—¶å€™ï¼Œç³»ç»Ÿé»˜è®¤ä¼špopå‡ºä¸€ä¸ªæç¤ºçš„é¡µé¢ï¼Œæç¤ºç”¨æˆ·ï¼Œæ²¡æœ‰ç›¸å†Œæƒé™ï¼Œå»æ‰‹æœºçš„è®¾ç½®é¡µé¢è®¾ç½®è¯¥æƒé™ã€‚ç³»ç»Ÿçš„è¿™ä¸ªé¡µé¢è¿˜æ˜¯å¯ä»¥çš„ï¼ˆä¸ä¸‘ï¼‰ï¼Œæ‰€ä»¥æˆ‘å°±ç”¨äº†ç³»ç»Ÿçš„æç¤ºé¡µé¢äº†ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯åœ¨å·¥å…·ç±»ä¸­å®ç°äº†ç›¸å†Œæƒé™çš„åˆ¤æ–­ï¼Œæ–¹ä¾¿ä»¥åå½’ç±»ã€‚        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)albumAuthority</span><br><span class="line">&#123;</span><br><span class="line">    ALAuthorizationStatus author = [ALAssetsLibrary authorizationStatus];</span><br><span class="line">    <span class="keyword">if</span> (author == kCLAuthorizationStatusRestricted || author ==kCLAuthorizationStatusDenied)&#123;</span><br><span class="line">        <span class="built_in">return</span> NO;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> YES;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®šä½æƒé™"><a href="#å®šä½æƒé™" class="headerlink" title="å®šä½æƒé™"></a>å®šä½æƒé™</h3><hr>
<p>å½“ç”¨æˆ·ç”¨åˆ°å®šä½çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œä¹Ÿæ¶‰åŠåˆ°æƒé™çš„é—®é¢˜ï¼Œæˆ‘é¡ºä¾¿ä¹Ÿå®ç°äº†è¯¥åŠŸèƒ½æƒé™çš„åˆ¤æ–­ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)locationAuthority</span><br><span class="line">&#123;</span><br><span class="line">    CLAuthorizationStatus status = [CLLocationManager authorizationStatus];</span><br><span class="line">    <span class="keyword">if</span> (kCLAuthorizationStatusDenied == status || kCLAuthorizationStatusRestricted == status) &#123;</span><br><span class="line">        <span class="built_in">return</span> NO;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> YES;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><hr>
<p>å½“æˆ‘ä»¬è°ƒç”¨ç³»ç»Ÿèµ„æºçš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆåˆ¤æ–­æ˜¯å¦æ‹¥æœ‰ç›¸åº”çš„æƒé™ï¼Œåšåˆ°ä»£ç çš„ä¸¥è°¨æ€§ã€‚        </p>
<h3 id="å·å¤–"><a href="#å·å¤–" class="headerlink" title="å·å¤–"></a>å·å¤–</h3><hr>
<p>æ‰«ç å…³æ³¨ä¸‹é¢äºŒç»´ç ï¼Œå¹²è´§ä¸æ–­ï¼š<br><img src="http://img.blog.csdn.net/20160623095054012" alt="äºŒç»´ç "></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;åœ¨iOSå¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šè°ƒç”¨ç³»ç»Ÿç›¸æœºå’Œéº¦å…‹é£ï¼Œä½†æ˜¯è¿™äº›æƒé™éƒ½æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ï¼Œå½“APPæ²¡æœ‰æƒé™è°ƒç”¨è¿™äº›æ‰‹æœºèµ„æºï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰åˆ¤æ–­ï¼Œ
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¸­å…³äºæ­»é”çš„ä¸€ç‚¹æ€»ç»“</title>
    <link href="http://yoursite.com/2016/07/23/iOS-gcd-deadlock/"/>
    <id>http://yoursite.com/2016/07/23/iOS-gcd-deadlock/</id>
    <published>2016-07-23T04:02:04.000Z</published>
    <updated>2016-09-12T10:29:35.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><hr>
<p>æ‰€è°“æ­»é”: æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚        </p>
<p>ä¾‹å¦‚ï¼š     </p>
<p>æ­»é”æ˜¯å› ä¸ºå¤šçº¿ç¨‹è®¿é—®å…±äº«èµ„æºï¼Œç”±äºè®¿é—®çš„é¡ºåºä¸å½“æ‰€é€ æˆçš„ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªçº¿ç¨‹é”å®šäº†ä¸€ä¸ªèµ„æºAï¼Œè€Œåˆæƒ³å»é”å®šèµ„æºBï¼›åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œé”å®šäº†èµ„æºBï¼Œè€Œåˆæƒ³å»é”å®šèµ„æºAä»¥å®Œæˆè‡ªèº«çš„æ“ä½œï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½æƒ³å¾—åˆ°å¯¹æ–¹çš„èµ„æºï¼Œè€Œä¸æ„¿é‡Šæ”¾è‡ªå·±çš„èµ„æºï¼Œé€ æˆä¸¤ä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…ï¼Œè€Œæ— æ³•æ‰§è¡Œçš„æƒ…å†µã€‚    </p>
<h3 id="GCDå¯¼è‡´æ­»é”çš„ä¾‹å­"><a href="#GCDå¯¼è‡´æ­»é”çš„ä¾‹å­" class="headerlink" title="GCDå¯¼è‡´æ­»é”çš„ä¾‹å­"></a>GCDå¯¼è‡´æ­»é”çš„ä¾‹å­</h3><hr>
<p>æ¯”å¦‚ä¸‹é¢çš„è¿™ä¸ªä¼šäº§ç”Ÿæ­»é”çš„ä¾‹å­ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</span><br><span class="line">    <span class="built_in">dispatch_sync</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"2"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"3"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥è‡ªå·±å…ˆåˆ†æä¸€ä¸‹è¯¥ç¨‹åºäº§ç”Ÿæ­»é”çš„åŸå› ã€‚    </p>
<p>æˆ‘ä»¬é¦–å…ˆè¦ææ¸…æ¥š<code>åŒæ­¥&amp;å¼‚æ­¥</code> <code>ä¸²è¡Œ&amp;å¹¶å‘</code>è¿™ä¸¤ç»„åŸºæœ¬æ¦‚å¿µï¼š    </p>
<blockquote>
<p>åŒæ­¥æ‰§è¡Œï¼šæ¯”å¦‚dispatch_syncï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠä¸€ä¸ªblockåŠ å…¥åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ä¸­ï¼Œè€Œä¸”ä¼šä¸€ç›´ç­‰åˆ°æ‰§è¡Œå®Œblcokï¼Œè¿™ä¸ªå‡½æ•°æ‰è¿”å›ã€‚å› æ­¤åœ¨blockæ‰§è¡Œå®Œä¹‹å‰ï¼Œè°ƒç”¨dispatch_syncæ–¹æ³•çš„çº¿ç¨‹æ˜¯é˜»å¡çš„ã€‚        </p>
<p>å¼‚æ­¥æ‰§è¡Œï¼šä¸€èˆ¬ä½¿ç”¨dispatch_asyncï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿä¼šæŠŠä¸€ä¸ªblockåŠ å…¥åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ä¸­ï¼Œä½†æ˜¯å’ŒåŒæ­¥æ‰§è¡Œä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°æŠŠblockåŠ å…¥é˜Ÿåˆ—åä¸ç­‰blockçš„æ‰§è¡Œå°±ç«‹åˆ»è¿”å›äº†ã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥æ˜¯â€ä¸²è¡Œå’Œå¹¶è¡Œâ€ï¼š        </p>
<blockquote>
<p>ä¸²è¡Œé˜Ÿåˆ—ï¼šæ¯”å¦‚dispatch_get_main_queue,è¿™ä¸ªé˜Ÿåˆ—ä¸­æ‰€æœ‰ä»»åŠ¡ï¼Œä¸€å®šæŒ‰ç…§å…ˆæ¥ååˆ°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿˜å¯ä»¥ä¿è¯åœ¨æ‰§è¡ŒæŸä¸ªä»»åŠ¡æ—¶ï¼Œåœ¨å®ƒå‰é¢è¿›å…¥é˜Ÿåˆ—çš„æ‰€æœ‰ä»»åŠ¡è‚¯å®šæ‰§è¡Œå®Œäº†ã€‚å¯¹äºæ¯ä¸€ä¸ªä¸åŒçš„ä¸²è¡Œé˜Ÿåˆ—ï¼Œç³»ç»Ÿä¼šä¸ºè¿™ä¸ªé˜Ÿåˆ—å»ºç«‹å”¯ä¸€çš„çº¿ç¨‹æ¥æ‰§è¡Œä»£ç ã€‚            </p>
<p>å¹¶å‘é˜Ÿåˆ—ï¼šæ¯”å¦‚dispatch_get_global_queue,è¿™ä¸ªé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¹Ÿæ˜¯æŒ‰ç…§å…ˆæ¥ååˆ°çš„é¡ºåºå¼€å§‹æ‰§è¡Œï¼Œæ³¨æ„æ˜¯å¼€å§‹ï¼Œä½†æ˜¯å®ƒä»¬çš„æ‰§è¡Œç»“æŸæ—¶é—´æ˜¯ä¸ç¡®å®šçš„ï¼Œå–å†³äºæ¯ä¸ªä»»åŠ¡çš„è€—æ—¶ã€‚å¯¹äºnä¸ªå¹¶å‘é˜Ÿåˆ—ï¼ŒGCDä¸ä¼šåˆ›å»ºå¯¹åº”çš„nä¸ªçº¿ç¨‹è€Œæ˜¯è¿›è¡Œé€‚å½“çš„ä¼˜åŒ–ã€‚</p>
</blockquote>
<p>ç†è§£æ¸…æ¥šä¸Šé¢çš„ä¸¤ç»„æ¦‚å¿µåæˆ‘ä»¬å†æ¥åˆ†æä¸Šé¢ä¾‹å­äº§ç”Ÿæ­»é”çš„åŸå› ï¼š        </p>
<p>è¯¥ç¨‹åºä¸­åœ¨ä¸»çº¿ç¨‹ä¸­åŒæ­¥æ‰§è¡Œ<code>dispatch_sync(queue,block)</code>ä»»åŠ¡ï¼Œè€Œè¯¥ä»»åŠ¡åˆè¢«åˆ†å‘åˆ°äº†ä¸»çº¿ç¨‹<code>dispatch_get_main_queue()</code>ä¸­ï¼Œè¿™å°±äº§ç”Ÿäº†é—®é¢˜ã€‚ç¨‹åºåœ¨æ‰§è¡Œ<code>dispatch_sync(queue,block)</code>æ—¶ï¼Œä¼šé˜»å¡è°ƒç”¨çº¿ç¨‹ï¼ˆåœ¨è¿™é‡Œæ˜¯ä¸»çº¿ç¨‹ï¼‰ï¼Œç­‰å¾…blockä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œåå†è¿”å›é˜»å¡çº¿ç¨‹ç»§ç»­è¿›è¡Œæ‰§è¡Œï¼Œä½†æ˜¯blockä¸­çš„ä»»åŠ¡åœ¨æ‰§è¡Œçš„æ—¶å€™åˆéœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè€Œç°åœ¨ä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œæ‰€ä»¥å°±ä¼šäº§ç”Ÿä¸¤è€…ç›¸äº’ç­‰å¾…çš„æƒ…å†µï¼Œæ­»é”å°±å½¢æˆäº†ã€‚    </p>
<p>ä¸‹é¢å¯¹æ¯”ç€æ€»ç»“ä¸€ä¸‹<code>dispatch_sync</code>å’Œ<code>dispatch_async</code>çš„æ‰§è¡Œæµç¨‹ï¼š        </p>
<p>ï¼ˆ1ï¼‰dispatch_syncçš„æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li>å°†blockæ·»åŠ åˆ°queueé˜Ÿåˆ—ä¸­</li>
<li>é˜»å¡è°ƒç”¨çº¿ç¨‹ï¼Œç­‰å¾…blockï¼ˆï¼‰æ‰§è¡Œç»“æŸï¼Œå›è°ƒåˆ°è°ƒç”¨çº¿ç¨‹ã€‚</li>
</ul>
<p>ï¼ˆ2ï¼‰dispatch_asyncçš„æ‰§è¡Œæµç¨‹ï¼š    </p>
<ul>
<li>å°†blockæ·»åŠ åˆ°queueé˜Ÿåˆ—ä¸­</li>
<li>ç›´æ¥å›åˆ°è°ƒç”¨çº¿ç¨‹ï¼ˆä¸é˜»å¡è°ƒç”¨çº¿ç¨‹ï¼‰,å¼‚æ­¥æ‰§è¡Œã€‚</li>
</ul>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><hr>
<p>ä¸‹é¢æˆ‘æ€»ç»“ä¸€ä¸‹å…³äºæ­»é”çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š    </p>
<ul>
<li>å¼‚æ­¥æ‰§è¡Œä¸€å®šä¸ä¼šäº§ç”Ÿæ­»é”ï¼Œå› ä¸ºå¼‚æ­¥çš„æ‰§è¡Œï¼Œblockä¼šç«‹åˆ»è¿”å›ï¼Œä¸ä¼šé˜»å¡çº¿ç¨‹ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°æ­»é”çš„é—®é¢˜ï¼Œå¾ˆå¤§å¯èƒ½æ˜¯åŒæ­¥æ‰§è¡Œçš„åŸå› ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½ã€‚</li>
<li>ä¸è¦æŠŠblockä»»åŠ¡åŒæ­¥æ´¾å‘åˆ°è°ƒç”¨gcdæ‰€åœ¨çº¿ç¨‹çš„å…³è”é˜Ÿåˆ—ä¸­ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;æ‰€è°“æ­»é”: æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚   
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="å¤šçº¿ç¨‹" scheme="http://yoursite.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>CocoaPodsæ›´æ–°é‡redefinitioné—®é¢˜åŠå…¶å®ƒé—®é¢˜æ±‡æ€»</title>
    <link href="http://yoursite.com/2016/07/11/iOS-cocoaPods-bugs/"/>
    <id>http://yoursite.com/2016/07/11/iOS-cocoaPods-bugs/</id>
    <published>2016-07-11T08:20:30.000Z</published>
    <updated>2016-07-11T10:40:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¸‹è½½äº†ç½‘ä¸Šçš„ä¸€ä»½å¼€æºä»£ç ï¼Œpodæ›´æ–°æ—¶å‡ºé”™ï¼Œæ ¹æ®ç½‘ä¸Šåˆ«äººçš„è§£ç­”æ˜¯é¡¹ç›®å¤ªæ–°ç”¨äº†Xcode7ä¸iOS9 SDKï¼Œéœ€è¦å¯¹CocoaPodsè¿›è¡Œäº†å‡çº§ï¼Œæ²¡æƒ³åˆ°è¿™ä¸€å‡çº§é€ æˆäº†ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œè´¹äº†è€é¼»å­åŠ²æ‰æŠŠè¿™äº›é—®é¢˜éƒ½ä¸€ä¸€è§£å†³ï¼Œå°±åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å§ï¼Œå¸Œæœ›å¯¹éœ€è¦çš„äººæœ‰æ‰€å¸®åŠ©ã€‚</p>
<h2 id="1ã€é—®é¢˜ç¯å¢ƒ"><a href="#1ã€é—®é¢˜ç¯å¢ƒ" class="headerlink" title="1ã€é—®é¢˜ç¯å¢ƒ"></a>1ã€é—®é¢˜ç¯å¢ƒ</h2><p>å‡çº§æ—¶æ‰€ä½¿ç”¨çš„å‘½ä»¤ä¸ºï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install cocoapods</span><br></pre></td></tr></table></figure>
<p>å‡çº§åç”¨â€pod â€“versionâ€æŸ¥çœ‹ç‰ˆæœ¬å·æ˜¯0.39.0ï¼Œå‡çº§å‰çš„ç‰ˆæœ¬æˆ‘æ²¡è®°é”™çš„è¯åº”è¯¥æ˜¯0.37.2.</p>
<h2 id="2ã€Redefinitioné—®é¢˜"><a href="#2ã€Redefinitioné—®é¢˜" class="headerlink" title="2ã€Redefinitioné—®é¢˜"></a>2ã€Redefinitioné—®é¢˜</h2><p>å‡çº§åé‡åˆ°çš„æœ€å¤§çš„é—®é¢˜å°±æ˜¯è¿™ä¸ªRedefinitioné—®é¢˜äº†ï¼Œå…·ä½“æƒ…å†µæ˜¯æˆ‘çš„å·¥ä½œé¡¹ç›®ä¸­éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„podå¼•ç”¨ï¼Œpod updateåç¼–è¯‘æŠ¥å‡ºä¸€å¤§å †Redefinitioné—®é¢˜ï¼Œæ¶‰åŠåˆ°AFNetworkingï¼ŒSDWebImageç­‰å¸¸ç”¨åº“ï¼Œè€Œä»¥å‰éƒ½å¥½å¥½çš„ï¼Œç™¾æ€ä¸å¾—å…¶è§£ã€‚        </p>
<p><a href="&quot;Redefinition of module X&quot; errors in 0.38.1 Â· Issue #3886 Â· CocoaPods/CocoaPods è¿™ä¸ªGithub issue">â€œRedefinition of module Xâ€ errors in 0.38.1 Â· Issue #3886 Â· CocoaPods/CocoaPods è¿™ä¸ªGithub issue</a>æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æˆ‘å¹¶ä¸å¾—è¦é¢†ã€‚        </p>
<p>ä¸ºäº†è¿™ä¸ªé—®é¢˜æˆ‘æŠŠPodsæ–‡ä»¶å¤¹ã€Podfild.lockæ–‡ä»¶åˆ é™¤é‡æ–°æ›´æ–°ï¼Œç”šè‡³æŠŠCocoaPodsé™çº§åˆ°0.38.2ä»¥åŠ0.37.2ç‰ˆæœ¬éƒ½æ²¡æœ‰è§£å†³ï¼Œç„¶åè¿™ä¸ªè¿‡ç¨‹ä¸­åˆé‡åˆ°äº†å…¶å®ƒçš„é—®é¢˜ï¼Œé—®é¢˜æ€ä¹ˆè§£å†³çš„åé¢å†è¯´ã€‚</p>
<p>é™ä¸‹å¿ƒæ¥å†æŸ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°é”™è¯¯æ—¥å¿—é‡Œè¿˜æ˜¯æä¾›äº†ä¸€äº›å…³é”®è¦ç´ ï¼Œèƒ½æ˜¾ç¤ºé‡å¤å®šä¹‰åœ¨å“ªé‡Œã€‚å› ä¸ºæˆ‘ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯çœ‹é»˜è®¤æ˜¾ç¤ºåœ¨Xcodeå·¦ä¾§æ é‡Œçš„é”™è¯¯æ—¥å¿—åˆ—è¡¨å°±è§£å†³ï¼Œå¾ˆå°‘å±•å¼€æ—¥å¿—è¯¦ç»†ä¿¡æ¯ã€‚è¿™æ¬¡çš„å…³é”®è¦ç´ å°±æ˜¯åœ¨æ—¥å¿—è¯¦ç»†ä¿¡æ¯ä¸­ï¼Œç„¶åå°±å‘ç°äº†ä¸€äº›è§„å¾‹ï¼šä»¥AFNetworkingä¸ºä¾‹ï¼Œæˆ‘åœ¨pchæ–‡ä»¶ä¸­æ˜¯è¿™æ ·å¼•ç”¨çš„ï¼š#import &lt;AFNetworking/AFNetworking.h&gt;ï¼Œç„¶ååœ¨å…¶å®ƒæ–‡ä»¶ä¹Ÿåšäº†è¿™æ ·çš„å¼•ç”¨ï¼š#import â€œAFNetworking.hâ€ã€‚è¿™ä¸¤ä¸ªå¼•ç”¨åŒæ—¶å­˜åœ¨å°±é€ æˆäº†Redefinitionï¼Œå»æ‰åè€…çš„å¼•ç”¨æ–¹å¼å°±å¯ä»¥è§£å†³AFNetworkingçš„Redefinitioné—®é¢˜äº†ã€‚        </p>
<p>æ­£å¸¸æƒ…å†µä¸‹è‚¯å®šæ˜¯ç”¨å°–æ‹¬å·é‚£ç§å¼•ç”¨æ–¹å¼ï¼Œä½†æ˜¯ç”±äºå†å²åŸå› ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨åè€…é‚£ç§å¼•ç”¨æ–¹å¼ä¹Ÿæœ‰ä¸å°‘ï¼Œä»¥å‰ä¹Ÿä»æ¥æ²¡å‡ºé—®é¢˜ï¼Œä¸çŸ¥é“ç°åœ¨ä¸ºä»€ä¹ˆä¸€ä¸‹å­å°±å…¨éƒ¨æš´éœ²å‡ºæ¥äº†ã€‚è¿™ä¸€æ”¹å°±è¦æ”¹ä¸å°‘ï¼Œæ²¡åŠæ³•å°±åªèƒ½ä¸€ä¸ªä¸€ä¸ªæ”¹äº†ã€‚        </p>
<blockquote>
<p>åè®°ï¼šæ ¹æ®æœ€æ–°å›å¤ï¼Œæ˜¯å¿…é¡»å¾—ä½¿ç”¨#import &lt; AFNetworking\/AFNetworking.h &gt;è¿™ç§å½¢å¼çš„å¤´æ–‡ä»¶å¼•ç”¨äº†ï¼Œåº”è¯¥æ˜¯æ£€æŸ¥æ›´ä¸¥æ ¼äº†ã€‚            </p>
</blockquote>
<p><em>æˆ‘åœ¨è¿™é‡Œé‡åˆ°çš„é—®é¢˜æ˜¯SDWebImageçš„Redefinitioné—®é¢˜ï¼Œæ˜¯åœ¨pchä¸­å¯¼å…¥äº†#import &lt; SDWebImage\/UIImageView+WebCache.h &gt;ï¼Œä½†æ˜¯åœ¨å…¶ä»–çš„ç±»ä¸­åˆå¯¼å…¥äº†#import â€œUIImageView+WebCache.hâ€ï¼Œä»è€Œå¼•èµ·äº†Redefinitioné—®é¢˜</em>        </p>
<h2 id="3ã€undefined-method-projectâ€™-for-lt-Pod-Installeré—®é¢˜"><a href="#3ã€undefined-method-projectâ€™-for-lt-Pod-Installeré—®é¢˜" class="headerlink" title="3ã€undefined method `projectâ€™ for #&lt;Pod::Installeré—®é¢˜"></a>3ã€undefined method `projectâ€™ for #&lt;Pod::Installeré—®é¢˜</h2><p>æ—§ç‰ˆæœ¬çš„Podfileåœ¨å‡çº§Cocoapodsåpod installå°±ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ ¹æ®è¿™ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºCocoapodså‡çº§åˆ°0.38æˆ–0.39ç‰ˆæœ¬åinstaller_representation.project.targets.eachä¸­çš„projectæ”¹åäº†ï¼Œå˜æˆäº†pods_projectï¼Œå¥½åœ¨ç»™äº†ä¸€ä¸ª0.37â€”â€”0.39éƒ½é€šç”¨çš„åŠæ³•ï¼Œæ¯”å¦‚åŸæ¥çš„Podfileæ˜¯ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, <span class="string">'7.0'</span></span><br><span class="line">pod <span class="string">'Reveal-iOS-SDK'</span>, :configurations =&gt; [<span class="string">'Debug'</span>]</span><br><span class="line">post_install <span class="keyword">do</span> |installer_representation|</span><br><span class="line">    installer_representation.project.targets.each <span class="keyword">do</span> |target|</span><br><span class="line">        target.build_configurations.each <span class="keyword">do</span> |config|</span><br><span class="line">            config.build_settings[<span class="string">'ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">            config.build_settings[<span class="string">'VALID_ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">            config.build_settings[<span class="string">'ONLY_ACTIVE_ARCH'</span>] = <span class="string">'NO'</span></span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>å‡çº§åå°±è¦æ”¹æˆï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, <span class="string">'7.0'</span></span><br><span class="line">pod <span class="string">'Reveal-iOS-SDK'</span>, :configurations =&gt; [<span class="string">'Debug'</span>]</span><br><span class="line"><span class="keyword">if</span> defined? installer_representation.project</span><br><span class="line">    post_install <span class="keyword">do</span> |installer_representation|</span><br><span class="line">        installer_representation.project.targets.each <span class="keyword">do</span> |target|</span><br><span class="line">            target.build_configurations.each <span class="keyword">do</span> |config|</span><br><span class="line">                config.build_settings[<span class="string">'ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">                config.build_settings[<span class="string">'VALID_ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">                config.build_settings[<span class="string">'ONLY_ACTIVE_ARCH'</span>] = <span class="string">'NO'</span></span><br><span class="line">            end</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">end</span><br><span class="line"><span class="keyword">if</span> defined? installer_representation.pods_project</span><br><span class="line">    post_install <span class="keyword">do</span> |installer_representation|</span><br><span class="line">        installer_representation.pods_project.targets.each <span class="keyword">do</span> |target|</span><br><span class="line">            target.build_configurations.each <span class="keyword">do</span> |config|</span><br><span class="line">                config.build_settings[<span class="string">'ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">                config.build_settings[<span class="string">'VALID_ARCHS'</span>] = <span class="string">'armv7 arm64'</span></span><br><span class="line">                config.build_settings[<span class="string">'ONLY_ACTIVE_ARCH'</span>] = <span class="string">'NO'</span></span><br><span class="line">            end</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h2 id="4ã€DVTAssertions-ASSERTION-FAILUREé—®é¢˜"><a href="#4ã€DVTAssertions-ASSERTION-FAILUREé—®é¢˜" class="headerlink" title="4ã€DVTAssertions: ASSERTION FAILUREé—®é¢˜"></a>4ã€DVTAssertions: ASSERTION FAILUREé—®é¢˜</h2><p>è¿™æ˜¯CocoaPodsé™çº§åˆ°0.37.2åpod installé‡åˆ°çš„é—®é¢˜ï¼Œè®°å¿†ä¸­å½“åˆå¥½åƒå°±æ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜è€Œå‡çº§åˆ°0.39.0ç‰ˆæœ¬çš„ã€‚        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[MT] DVTAssertions: ASSERTION FAILURE <span class="keyword">in</span> /Library/Caches/com.apple.xbs/Sources/IDEFrameworks/IDEFrameworks-8227/IDEFoundation/Initialization/IDEInitialization.m:590</span><br><span class="line">Details: Assertion failed: _initializationCompletedSuccessfully</span><br><span class="line">Function: BOOL IDEIsInitializedForUserInteraction()</span><br><span class="line">Thread: &#123;number = 1, name = main&#125;</span><br><span class="line">Hints: None</span><br><span class="line">Backtrace:</span><br><span class="line">0 0x000000010462aa5c -DVTAssertionHandler handleFailureInFunction:fileName:lineNumber:assertionSignature:messageFormat:arguments:</span><br><span class="line">1 0x000000010462a1e9 _DVTAssertionHandler (<span class="keyword">in</span> DVTFoundation)</span><br><span class="line">2 0x000000010462a455 _DVTAssertionFailureHandler (<span class="keyword">in</span> DVTFoundation)</span><br><span class="line">3 0x000000010462a3b7 _DVTAssertionFailureHandler (<span class="keyword">in</span> DVTFoundation)</span><br><span class="line">4 0x0000000107191f5c IDEIsInitializedForUserInteraction (<span class="keyword">in</span> IDEFoundation)</span><br><span class="line">5 0x0000000109da8eb9 +PBXProject projectWithFile:errorHandler:<span class="built_in">read</span>Only:</span><br><span class="line">6 0x0000000109daaa3e +PBXProject projectWithFile:errorHandler:</span><br><span class="line">7 0x00007fff8bc68f44 ffi_call_unix64 (<span class="keyword">in</span> libffi.dylib)</span><br><span class="line">Abort <span class="built_in">trap</span>: 6</span><br></pre></td></tr></table></figure>
<p>ç½‘ä¸Šå¤§éƒ¨åˆ†çš„å¸–å­éƒ½è¯´å‡çº§CocoaPodsï¼Œæ¯”å¦‚è¿™ä¸ª<a href="https://github.com/CocoaPods/CocoaPods/issues/4209" target="_blank" rel="external">å¸–å­</a>ï¼Œç„¶è€Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æå¥½ä¸å¥½ï¼Œæˆ‘è¿™ä¸ªæ˜¯é™çº§æ—¶é‡åˆ°çš„é—®é¢˜ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜åº”è¯¥å°±æ˜¯ä¸Xcodeç‰ˆæœ¬æœ‰å…³äº†ï¼Œå®é™…å°±æ˜¯ä¸Developerçš„è·¯å¾„æœ‰å…³ã€‚æˆ‘çš„Macä¸ŠåŒæ—¶å­˜åœ¨æœ‰Xcode6.1.1ç‰ˆæœ¬ä¸Xcode7.0ç‰ˆæœ¬ï¼Œåè€…æ˜¯é»˜è®¤çš„Xcodeç‰ˆæœ¬ã€‚</p>
<p>å½“CocoaPodsä¸º0.37.2ç‰ˆæœ¬æ—¶ï¼Œå¯¹åº”çš„Developerè·¯å¾„åº”è¯¥æ˜¯Xcode6.1.1ç‰ˆæœ¬çš„è·¯å¾„ï¼Œå› ä¸ºè¿™ä¸ªä¹‹å‰ä¸€ç›´éƒ½é…åˆä½¿ç”¨å¥½å¥½çš„ã€‚é‚£ä¹ˆï¼Œå°±éœ€è¦ç”¨åˆ°xcode-selecté—®é¢˜äº†ã€‚é€šè¿‡xcode-select -på‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰Developerè·¯å¾„ï¼Œç”¨xcode-select -så¯ä»¥æŒ‡å®šæ–°çš„Developerè·¯å¾„ã€‚</p>
<p>æˆ‘æ˜¯è¿™æ ·æŒ‡å®šçš„ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select <span class="_">-s</span> /Applications/Xcode6.1.1.app/Contents/Developer</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¿™ä¸ªé—®é¢˜å°±ä¸å¤å­˜åœ¨äº†ã€‚æ³¨æ„å½“æœ‰å¿…è¦ä½¿ç”¨CocoaPods 0.39.0ç‰ˆæœ¬æ—¶ï¼Œå¿…é¡»å¾—åˆ‡æ¢å›æ¥ï¼Œè¦ä¸ç„¶è¿˜æ˜¯ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜        </p>
<h2 id="5ã€CocoaPodså¤šç‰ˆæœ¬å…±å­˜é—®é¢˜"><a href="#5ã€CocoaPodså¤šç‰ˆæœ¬å…±å­˜é—®é¢˜" class="headerlink" title="5ã€CocoaPodså¤šç‰ˆæœ¬å…±å­˜é—®é¢˜"></a>5ã€CocoaPodså¤šç‰ˆæœ¬å…±å­˜é—®é¢˜</h2><p>æœ¬æ¥æˆ‘æ˜¯æƒ³é™çº§çš„ï¼Œç»“æœCocoaPodså¥½åƒé»˜è®¤å°±æ˜¯å¤šç‰ˆæœ¬å…±å­˜äº†ï¼Œæ¯”å¦‚æˆ‘åŸæ¥æœ¬æ¥æ˜¯0.37.2ç‰ˆæœ¬ï¼Œç”¨äº†æœ¬æ–‡å¼€å¤´çš„å‡çº§å‘½ä»¤å‡çº§åï¼Œè™½ç„¶ç”¨pod â€“versionçœ‹æ˜¯0.39.0ç‰ˆæœ¬ï¼Œä½†æ˜¯0.37.2ç‰ˆæœ¬å¹¶æ²¡æœ‰åˆ é™¤ã€‚è¿™ä¸ªå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem list --local | grep cocoapods</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ çš„åªæœ‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œä½ å¯ä»¥å†å®‰è£…ä¸€ä¸ªCocoaPods 0.38.2ç‰ˆæœ¬æˆ–è€…å…¶å®ƒç‰ˆæœ¬è¯•è¯•ã€‚æ¯”å¦‚å®‰è£…0.38.2ç‰ˆæœ¬çš„å‘½ä»¤å°±æ˜¯ï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods -v 0.38.2</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜¯å…±å­˜äº†ï¼Œä½†åˆ°åº•æ˜¯æ€ä¹ˆå…±å­˜ä½¿ç”¨å‘¢ï¼Ÿå°±æ¯”å¦‚è¯´æˆ‘çš„CocoaPodsé»˜è®¤ç‰ˆæœ¬æ˜¯0.39.0ï¼Œæœ‰ä¸€ä¸ªé¡¹ç›®è¦ç”¨0.37.2ç‰ˆæœ¬çš„CocoaPodsè¯¥æ€ä¹ˆç”¨å‘¢ï¼Ÿ        </p>
<p><a href="http://stackoverflow.com/questions/28130938/how-to-switch-cocoapods-or-other-gem-version-on-command-line/28140522#28140522" target="_blank" rel="external">è¿™é‡Œ</a>æœ‰äººæä¾›äº†è¿™æ ·çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æˆ‘æ²¡æœ‰ç»†ç ”ç©¶ï¼Œä¹Ÿæ²¡å®è·µï¼Œéœ€è¦ç”¨åˆ°rbenvï¼š        </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rbenv global 2.1.0</span><br><span class="line">gem install cocoapods -v 0.34.4</span><br><span class="line">rbenv global 2.0.0-p0</span><br><span class="line">gem install cocoapods -v 0.33.1</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤:        </p>
<ul>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºGemfileï¼ŒæŒ‡å®šCocoaPodsç‰ˆæœ¬    </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem <span class="string">'cocoapods'</span>, <span class="string">'~&gt; 0.37.2'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰§è¡Œbundle installå‘½ä»¤</li>
</ul>
<p>****************è¿™æ˜¯åä¸½ä¸½çš„åˆ†å‰²çº¿o(â•¯â–¡â•°)o******************</p>
<p>æˆ‘æ˜¯åœ¨åŸ<a href="http://www.jianshu.com/p/ee32eef74ba9" target="_blank" rel="external">æ–‡ç« </a>çš„åŸºç¡€ä¸Šåšäº†äº›è®¸æ”¹åŠ¨,æ€»ç»“äº†è‡ªå·±é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚</p>
<hr>
<p>æˆ‘ä»¬éƒ½æ˜¯çƒ­çˆ±ç§»åŠ¨å¼€å‘çš„ç¨‹åºçŒ¿ï¼ŒåŠ å…¥æˆ‘ä»¬ï¼Œå…±åŒæé«˜ï¼š              </p>
<p><img src="http://img.blog.csdn.net/20160623095054012" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ä¸‹è½½äº†ç½‘ä¸Šçš„ä¸€ä»½å¼€æºä»£ç ï¼Œpodæ›´æ–°æ—¶å‡ºé”™ï¼Œæ ¹æ®ç½‘ä¸Šåˆ«äººçš„è§£ç­”æ˜¯é¡¹ç›®å¤ªæ–°ç”¨äº†Xcode7ä¸iOS9 SDKï¼Œéœ€è¦å¯¹CocoaPodsè¿›è¡Œäº†å‡çº§ï¼Œæ²¡æƒ³åˆ°è¿™ä¸€å‡çº§é€ æˆäº†ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œè´¹äº†è€é¼»å­åŠ²æ‰æŠŠè¿™äº›é—®é¢˜éƒ½ä¸€ä¸€è§£å†³ï¼Œå°±åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å§ï¼Œå¸Œæœ›å¯¹éœ€è¦çš„äººæœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSå¼€å‘ä¹‹HTTPS</title>
    <link href="http://yoursite.com/2016/06/27/iOS-security-https/"/>
    <id>http://yoursite.com/2016/06/27/iOS-security-https/</id>
    <published>2016-06-27T01:42:55.000Z</published>
    <updated>2016-09-20T16:34:27.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><hr>
<p>åœ¨WWDC 2016å¼€å‘è€…å¤§ä¼šä¸Šï¼Œè‹¹æœå®£å¸ƒäº†ä¸€ä¸ªæœ€åæœŸé™ï¼šåˆ°2017å¹´1æœˆ1æ—¥ App Storeä¸­çš„æ‰€æœ‰åº”ç”¨éƒ½å¿…é¡»å¯ç”¨ App Transport Securityå®‰å…¨åŠŸèƒ½ã€‚App Transport Securityï¼ˆATSï¼‰æ˜¯è‹¹æœåœ¨iOS 9ä¸­å¼•å…¥çš„ä¸€é¡¹éšç§ä¿æŠ¤åŠŸèƒ½ï¼Œå±è”½æ˜æ–‡HTTPèµ„æºåŠ è½½ï¼Œè¿æ¥å¿…é¡»ç»è¿‡æ›´å®‰å…¨çš„HTTPSã€‚è‹¹æœç›®å‰å…è®¸å¼€å‘è€…æš‚æ—¶å…³é—­ATSï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨HTTPè¿æ¥ï¼Œä½†åˆ°å¹´åº•æ‰€æœ‰å®˜æ–¹å•†åº—çš„åº”ç”¨éƒ½å¿…é¡»å¼ºåˆ¶æ€§ä½¿ç”¨ATSã€‚        </p>
<h3 id="HTTPSå’ŒHTTP"><a href="#HTTPSå’ŒHTTP" class="headerlink" title="HTTPSå’ŒHTTP"></a>HTTPSå’ŒHTTP</h3><hr>
<p>HTTPSï¼ˆå…¨ç§°ï¼šHyper Text Transfer Protocol over Secure Socket Layerï¼‰ï¼Œæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼ŒHTTPS = HTTP + SSL/TLSã€‚å³åœ¨HTTPä¸‹åŠ å…¥äº†SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦SSLã€‚HTTPSçš„ä¸»è¦æ€æƒ³æ˜¯åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸Šåˆ›å»ºä¸€å®‰å…¨ä¿¡é“ï¼Œå¹¶å¯åœ¨ä½¿ç”¨é€‚å½“çš„åŠ å¯†åŒ…å’ŒæœåŠ¡å™¨è¯ä¹¦å¯è¢«éªŒè¯ä¸”å¯è¢«ä¿¡ä»»æ—¶ï¼Œå¯¹çªƒå¬å’Œä¸­é—´äººæ”»å‡»æä¾›åˆç†çš„ä¿æŠ¤ã€‚HTTPSçš„ä¿¡ä»»åŸºäºé¢„å…ˆå®‰è£…åœ¨æµè§ˆå™¨ä¸­çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆå¦‚VeriSignã€Microsoftç­‰ï¼‰ï¼ˆæ„å³â€œæˆ‘ä¿¡ä»»è¯ä¹¦é¢å‘æœºæ„å‘Šè¯‰æˆ‘åº”è¯¥ä¿¡ä»»çš„â€ï¼‰,å› æ­¤è¯¥ç½‘ç«™çš„HTTPSè¿æ¥å¯è¢«ä¿¡ä»»ï¼Œå¦‚æœæœåŠ¡å™¨æ­å»ºè‡ªå·±çš„https ä¹Ÿå°±æ˜¯è¯´é‡‡ç”¨è‡ªè®¤è¯çš„æ–¹å¼æ¥å»ºç«‹httpsä¿¡é“ï¼Œè¿™æ ·ä¸€èˆ¬åœ¨å®¢æˆ·ç«¯æ˜¯ä¸è¢«ä¿¡ä»»çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬åœ¨æµè§ˆå™¨è®¿é—®ä¸€äº›httpsç«™ç‚¹çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªæç¤ºï¼Œé—®ä½ æ˜¯å¦ç»§ç»­ã€‚ï¼ˆè‹¹æœå®˜ç½‘æ˜¯å¼ºåˆ¶å®‰è£…è¯ä¹¦çš„,ä¸ä¼šè¯¢é—®ç”¨æˆ·ï¼‰ã€‚</p>
<blockquote>
<p>HTTPSå’ŒHTTPçš„åŒºåˆ«ä¸»è¦ä¸ºä»¥ä¸‹å››ç‚¹ï¼š        </p>
</blockquote>
<p>ä¸€ã€httpsåè®®éœ€è¦åˆ°caç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦å¾ˆå°‘ï¼Œéœ€è¦äº¤è´¹ã€‚<br>äºŒã€httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ã€‚<br>ä¸‰ã€httpå’Œhttpsä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ã€‚<br>å››ã€httpçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯”httpåè®®å®‰å…¨ã€‚        </p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><hr>
<p>å¦‚æœæ˜¯è‡ªå·±ä½¿ç”¨NSURLSessionæ¥å°è£…ç½‘ç»œè¯·æ±‚ï¼Œæ¶‰åŠä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sessionWithConfiguration:[<span class="built_in">NSURLSessionConfiguration</span> defaultSessionConfiguration] delegate:<span class="keyword">self</span> delegateQueue:[<span class="built_in">NSOperationQueue</span> mainQueue]];</span><br><span class="line">   <span class="built_in">NSURLSessionDataTask</span> *task =  [session dataTaskWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"https://www.apple.com"</span>] completionHandler:^(<span class="built_in">NSData</span> *data, <span class="built_in">NSURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">       <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [[<span class="built_in">NSString</span> alloc] initWithData:data encoding:<span class="built_in">NSUTF8StringEncoding</span>]);</span><br><span class="line">   &#125;];</span><br><span class="line">   [task resume];</span><br></pre></td></tr></table></figure></p>
<p>ä¸‹é¢æˆ‘ä»¬å®ç°ä»£ç†æ–¹æ³•ï¼Œåœ¨ä»£ç†æ–¹æ³•ä¸­å¤„ç†è¯ä¹¦ã€‚å¦‚æœä½ çš„è¯·æ±‚æ˜¯HTTPè€Œä¸æ˜¯HTTPSæ˜¯ä¸èµ°è¯¥ä»£ç†æ–¹æ³•çš„ï¼š    </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> æˆ‘ä»¬éœ€è¦åœ¨è¯¥æ–¹æ³•ä¸­å‘Šè¯‰ç³»ç»Ÿ, æ˜¯å¦ä¿¡ä»»æœåŠ¡å™¨è¿”å›çš„è¯ä¹¦</span><br><span class="line"> Challenge: æŒ‘æˆ˜ è´¨é—® (åŒ…å«äº†å—ä¿æŠ¤çš„åŒºåŸŸ)</span><br><span class="line"> protectionSpace : å—ä¿æŠ¤åŒºåŸŸ</span><br><span class="line"> NSURLAuthenticationMethodServerTrust : è¯ä¹¦çš„ç±»å‹æ˜¯ æœåŠ¡å™¨ä¿¡ä»»</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session didReceiveChallenge:(<span class="built_in">NSURLAuthenticationChallenge</span> *)challenge completionHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSURLSessionAuthChallengeDisposition</span>, <span class="built_in">NSURLCredential</span> *))completionHandler</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1.åˆ¤æ–­æœåŠ¡å™¨è¿”å›çš„è¯ä¹¦ç±»å‹, æ˜¯å¦æ˜¯æœåŠ¡å™¨ä¿¡ä»»</span></span><br><span class="line">    <span class="keyword">if</span> ([challenge.protectionSpace.authenticationMethod isEqualToString:<span class="built_in">NSURLAuthenticationMethodServerTrust</span>]) &#123;</span><br><span class="line">        <span class="comment">/*</span><br><span class="line">         NSURLSessionAuthChallengeUseCredential = 0,                   ä½¿ç”¨è¯ä¹¦</span><br><span class="line">         NSURLSessionAuthChallengePerformDefaultHandling = 1,          å¿½ç•¥è¯ä¹¦(é»˜è®¤çš„å¤„ç†æ–¹å¼)</span><br><span class="line">         NSURLSessionAuthChallengeCancelAuthenticationChallenge = 2,   å¿½ç•¥ä¹¦è¯, å¹¶å–æ¶ˆè¿™æ¬¡è¯·æ±‚</span><br><span class="line">         NSURLSessionAuthChallengeRejectProtectionSpace = 3,      æ‹’ç»å½“å‰è¿™ä¸€æ¬¡, ä¸‹ä¸€æ¬¡å†è¯¢é—®</span><br><span class="line">         */</span></span><br><span class="line">        <span class="built_in">NSURLCredential</span> *card = [[<span class="built_in">NSURLCredential</span> alloc]initWithTrust:challenge.protectionSpace.serverTrust];</span><br><span class="line">        completionHandler(<span class="built_in">NSURLSessionAuthChallengeUseCredential</span> , card);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯ä½¿ç”¨<code>AFN</code>æ¡†æ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦åšä»»ä½•é¢å¤–çš„æ“ä½œï¼ŒAFNå†…éƒ¨å·²ç»åšäº†å¤„ç†ã€‚ä½†æ˜¯å¯¹äºå¯¹äºè‡ªåˆ¶è¯ä¹¦çš„ç½‘ç«™è¿˜éœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®ï¼š        </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</span><br><span class="line">manager.responseSerializer = [AFHTTPResponseSerializer serializer];</span><br><span class="line"><span class="comment">// allowInvalidCertificates æ˜¯å¦å…è®¸æ— æ•ˆè¯ä¹¦ï¼ˆä¹Ÿå°±æ˜¯è‡ªå»ºçš„è¯ä¹¦ï¼‰ï¼Œé»˜è®¤ä¸ºNO</span></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯éœ€è¦éªŒè¯è‡ªå»ºè¯ä¹¦ï¼Œéœ€è¦è®¾ç½®ä¸ºYES</span></span><br><span class="line">securityPolicy.allowInvalidCertificates = <span class="literal">YES</span>;</span><br><span class="line"><span class="comment">//validatesDomainName æ˜¯å¦éœ€è¦éªŒè¯åŸŸåï¼Œé»˜è®¤ä¸ºYESï¼›</span></span><br><span class="line"><span class="comment">// å‡å¦‚è¯ä¹¦çš„åŸŸåä¸ä½ è¯·æ±‚çš„åŸŸåä¸ä¸€è‡´ï¼Œéœ€æŠŠè¯¥é¡¹è®¾ç½®ä¸ºNOï¼›å¦‚è®¾æˆNOçš„è¯ï¼Œå³æœåŠ¡å™¨ä½¿ç”¨å…¶ä»–å¯ä¿¡ä»»æœºæ„é¢å‘çš„è¯ä¹¦ï¼Œä¹Ÿå¯ä»¥å»ºç«‹è¿æ¥ï¼Œè¿™ä¸ªéå¸¸å±é™©ï¼Œå»ºè®®æ‰“å¼€ã€‚</span></span><br><span class="line"><span class="comment">// ç½®ä¸ºNOï¼Œä¸»è¦ç”¨äºè¿™ç§æƒ…å†µï¼šå®¢æˆ·ç«¯è¯·æ±‚çš„æ˜¯å­åŸŸåï¼Œè€Œè¯ä¹¦ä¸Šçš„æ˜¯å¦å¤–ä¸€ä¸ªåŸŸåã€‚å› ä¸ºSSLè¯ä¹¦ä¸Šçš„åŸŸåæ˜¯ç‹¬ç«‹çš„ï¼Œå‡å¦‚è¯ä¹¦ä¸Šæ³¨å†Œçš„åŸŸåæ˜¯www.google.comï¼Œé‚£ä¹ˆmail.google.comæ˜¯æ— æ³•éªŒè¯é€šè¿‡çš„ï¼›å½“ç„¶ï¼Œæœ‰é’±å¯ä»¥æ³¨å†Œé€šé…ç¬¦çš„åŸŸå*.google.comï¼Œä½†è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒè´µçš„ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚ç½®ä¸ºNOï¼Œå»ºè®®è‡ªå·±æ·»åŠ å¯¹åº”åŸŸåçš„æ ¡éªŒé€»è¾‘ã€‚</span></span><br><span class="line">securityPolicy.validatesDomainName = <span class="literal">NO</span>;</span><br><span class="line"><span class="comment">// å¦‚æœå°±æ˜¯CAè¯ä¹¦ï¼Œåˆ™ä¸éœ€è¦è®¾ç½®ä¸Šé¢ä¸¤é¡¹ï¼Œæ­£å¸¸ä½¿ç”¨AFNå³å¯</span></span><br><span class="line">[manager GET:url parameters:<span class="literal">nil</span> progress:^(<span class="built_in">NSProgress</span> * _Nonnull downloadProgress) &#123;</span><br><span class="line">&#125; success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span>  _Nullable responseObject) &#123;</span><br><span class="line">	 <span class="comment">// è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) &#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, error);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><hr>
<p>è™½ç„¶HTTPSç›¸æ¯”äºHTTPæ¥è¯´ï¼Œä¼šæœ‰ä¸€å®šçš„æ€§èƒ½ä¸Šçš„åŠ£åŠ¿ï¼Œä½†å¯¹äºç½‘ç»œé£é€Ÿå‘å±•ï¼Œç§»åŠ¨è®¾å¤‡çš„æ€§èƒ½æˆå€å¢é•¿çš„ä»Šå¤©ï¼Œå®‰å…¨æ‰æ˜¯æˆ‘ä»¬æ›´åº”è¯¥å»è€ƒè™‘çš„ã€‚å…¨ç½‘HTTPSå¹¶ä¸æ˜¯é‚£ä¹ˆé¥è¿œã€‚        </p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;åœ¨WWDC 2016å¼€å‘è€…å¤§ä¼šä¸Šï¼Œè‹¹æœå®£å¸ƒäº†ä¸€ä¸ªæœ€åæœŸé™ï¼šåˆ°2017å¹´1æœˆ1æ—¥ App Storeä¸­çš„æ‰€æœ‰åº”ç”¨éƒ½å¿…é¡»å¯ç”¨ App 
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="security" scheme="http://yoursite.com/tags/security/"/>
    
  </entry>
  
  <entry>
    <title>ç»§æ‰¿çš„é™·é˜±</title>
    <link href="http://yoursite.com/2016/06/20/iOS-inherit-trap/"/>
    <id>http://yoursite.com/2016/06/20/iOS-inherit-trap/</id>
    <published>2016-06-20T04:16:35.000Z</published>
    <updated>2016-09-02T02:00:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>Objective-Cæœ¬èº«å¹¶æ²¡æœ‰ç§æœ‰æ–¹æ³•çš„æ¦‚å¿µã€‚ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æ–¹æ³•â€“ä¸ç®¡æ˜¯ç±»æœ¬èº«å®šä¹‰çš„è¿˜æ˜¯Categoryä¸­å®šä¹‰çš„â€“æœ€ç»ˆéƒ½ä¼šå‡ºç°åœ¨objc_classç»“æ„ä½“çš„objc_method_listé“¾è¡¨ä¸­ã€‚</p>
<p>åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸æœ‰äº›æ–¹æ³•æˆ‘ä»¬ä¸å¸Œæœ›æš´éœ²ç»™å¤–ç•Œï¼Œæ‰€ä»¥å¹¶ä¸ä¼šåœ¨å¤´æ–‡ä»¶ä¸­å»å£°æ˜ï¼Œè€Œæ˜¯ç›´æ¥åœ¨.mæ–‡ä»¶ä¸­å»å®ç°ï¼Œä¹Ÿè®¸ä¸ºäº†åŒºåˆ†ï¼Œè¿˜ä¼šä¸ºæ–¹æ³•åŠ ä¸Šç±»ä¼¼äºâ€xx_â€è¿™æ ·çš„å‰ç¼€ï¼Œå¦‚å›¾1æ‰€ç¤ºï¼Œä»¥è¿™ç§æ–¹å¼å®šä¹‰â€ç§æœ‰æ–¹æ³•â€œã€‚</p>
<p>ä½†è¿™åªæ˜¯ä¸€ç§éšœçœ¼æ³•ï¼Œåœ¨å¤–éƒ¨è°ƒç”¨æ—¶ï¼Œç¡®å®æ˜¯çœ‹ä¸åˆ°ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥è°ƒç”¨è¿™äº›æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œä½†å¦‚æœç”¨performSelector:æ¥è°ƒç”¨ï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</p>
<p>ä¸Šé¢è¿™ç§é—®é¢˜é€šå¸¸å¯ä»¥é¿å…ã€‚ä¸€ä¸ªæ½œè—çš„é—®é¢˜æ˜¯å‡ºç°åœ¨ç»§æ‰¿ä½“ç³»é‡Œé¢ã€‚å¦‚æœçˆ¶ç±»å’Œå­ç±»çš„.mæ–‡ä»¶å®šä¹‰äº†ä¸¤ä¸ªåŒåçš„â€ç§æœ‰æ–¹æ³•â€œï¼Œåˆ™å­ç±»çš„æ–¹æ³•ä¼šè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å¯èƒ½ä¼šåœ¨ä¸ç»æ„é—´ä¿®æ”¹äº†çˆ¶ç±»çš„ä¸€äº›å®ç°ã€‚</p>
<p>åœ¨ç»§æ‰¿ç¬¬ä¸‰æ–¹éå¼€æºåº“ä¸­çš„ç±»æ—¶ï¼Œå¦‚æœé‡åˆ°è¿™ç§æƒ…å†µï¼Œä¼šæ˜¯ä¸€ç§å¾ˆæ·¡ç–¼çš„æ„Ÿè§‰ï¼Œé‚£æ ·ä½ åªèƒ½ä¿®æ”¹è‡ªå·±çš„æ–¹æ³•åäº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Objective-Cæœ¬èº«å¹¶æ²¡æœ‰ç§æœ‰æ–¹æ³•çš„æ¦‚å¿µã€‚ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æ–¹æ³•â€“ä¸ç®¡æ˜¯ç±»æœ¬èº«å®šä¹‰çš„è¿˜æ˜¯Categoryä¸­å®šä¹‰çš„â€“æœ€ç»ˆéƒ½ä¼šå‡ºç°åœ¨objc_classç»“æ„ä½“çš„objc_method_listé“¾è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸æœ‰äº›æ–¹æ³•æˆ‘ä»¬ä¸å¸Œæœ›æš´éœ²ç»™å¤–ç•Œï¼Œæ‰€ä»¥å¹¶ä¸ä¼šåœ¨å¤´æ–‡
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
</feed>
